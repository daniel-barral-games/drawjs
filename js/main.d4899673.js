(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"0cb2":function(t,e,n){var a=n("7b0b"),r=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,l,c,u){var p=n+t.length,d=l.length,m=o;return void 0!==c&&(c=a(c),m=s),i.call(u,m,(function(a,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(p);case"<":s=c[i.slice(1,-1)];break;default:var o=+i;if(0===o)return a;if(o>d){var u=r(o/10);return 0===u?a:u<=d?void 0===l[u-1]?i.charAt(1):l[u-1]+i.charAt(1):a}s=l[o-1]}return void 0===s?"":s}))}},"0d3b":function(t,e,n){var a=n("d039"),r=n("b622"),i=n("c430"),s=r("iterator");t.exports=!a((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,a){e["delete"]("b"),n+=a+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1276:function(t,e,n){"use strict";var a=n("d784"),r=n("44e7"),i=n("825a"),s=n("1d80"),o=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),p=n("9263"),d=n("9f7f"),m=d.UNSUPPORTED_Y,f=[].push,h=Math.min,x=4294967295;a("split",2,(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=String(s(this)),i=void 0===n?x:n>>>0;if(0===i)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,i);var o,l,c,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,h=new RegExp(t.source,d+"g");while(o=p.call(h,a)){if(l=h.lastIndex,l>m&&(u.push(a.slice(m,o.index)),o.length>1&&o.index<a.length&&f.apply(u,o.slice(1)),c=o[0].length,m=l,u.length>=i))break;h.lastIndex===o.index&&h.lastIndex++}return m===a.length?!c&&h.test("")||u.push(""):u.push(a.slice(m)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=s(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r,n):a.call(String(r),e,n)},function(t,r){var s=n(a,t,this,r,a!==e);if(s.done)return s.value;var p=i(t),d=String(this),f=o(p,RegExp),v=p.unicode,g=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(m?"g":"y"),y=new f(m?"^(?:"+p.source+")":p,g),w=void 0===r?x:r>>>0;if(0===w)return[];if(0===d.length)return null===u(y,d)?[d]:[];var b=0,C=0,S=[];while(C<d.length){y.lastIndex=m?0:C;var _,L=u(y,m?d.slice(C):d);if(null===L||(_=h(c(y.lastIndex+(m?C:0)),d.length))===b)C=l(d,C,v);else{if(S.push(d.slice(b,C)),S.length===w)return S;for(var A=1;A<=L.length-1;A++)if(S.push(L[A]),S.length===w)return S;C=b=_}}return S.push(d.slice(b)),S}]}),m)},"14c3":function(t,e,n){var a=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),i=n("2d00"),s=r("species");t.exports=function(t){return i>=51||!a((function(){var e=[],n=e.constructor={};return n[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"22de":function(t,e,n){"use strict";n("8319")},2532:function(t,e,n){"use strict";var a=n("23e7"),r=n("5a34"),i=n("1d80"),s=n("ab13");a({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),r=n("825a"),i=n("d039"),s=n("ad6d"),o="toString",l=RegExp.prototype,c=l[o],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=c.name!=o;(u||p)&&a(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in l)?s.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},"2b3d":function(t,e,n){"use strict";n("3ca3");var a,r=n("23e7"),i=n("83ab"),s=n("0d3b"),o=n("da84"),l=n("37e8"),c=n("6eeb"),u=n("19aa"),p=n("5135"),d=n("60da"),m=n("4df4"),f=n("6547").codeAt,h=n("5fb2"),x=n("d44e"),v=n("9861"),g=n("69f3"),y=o.URL,w=v.URLSearchParams,b=v.getState,C=g.set,S=g.getterFor("URL"),_=Math.floor,L=Math.pow,A="Invalid authority",F="Invalid scheme",I="Invalid host",k="Invalid port",N=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,P=/\d/,B=/^(0x|0X)/,R=/^[0-7]+$/,E=/^\d+$/,O=/^[\dA-Fa-f]+$/,T=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,$=/[\u0000\t\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\t\u000A\u000D]/g,G=function(t,e){var n,a,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return I;if(n=X(e.slice(1,-1)),!n)return I;t.host=n}else if(Q(t)){if(e=h(e),T.test(e))return I;if(n=W(e),null===n)return I;t.host=n}else{if($.test(e))return I;for(n="",a=m(e),r=0;r<a.length;r++)n+=J(a[r],V);t.host=n}},W=function(t){var e,n,a,r,i,s,o,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),e=l.length,e>4)return t;for(n=[],a=0;a<e;a++){if(r=l[a],""==r)return t;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=B.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)s=0;else{if(!(10==i?E:8==i?R:O).test(r))return t;s=parseInt(r,i)}n.push(s)}for(a=0;a<e;a++)if(s=n[a],a==e-1){if(s>=L(256,5-e))return null}else if(s>255)return null;for(o=n.pop(),a=0;a<n.length;a++)o+=n[a]*L(256,3-a);return o},X=function(t){var e,n,a,r,i,s,o,l=[0,0,0,0,0,0,0,0],c=0,u=null,p=0,d=function(){return t.charAt(p)};if(":"==d()){if(":"!=t.charAt(1))return;p+=2,c++,u=c}while(d()){if(8==c)return;if(":"!=d()){e=n=0;while(n<4&&O.test(d()))e=16*e+parseInt(d(),16),p++,n++;if("."==d()){if(0==n)return;if(p-=n,c>6)return;a=0;while(d()){if(r=null,a>0){if(!("."==d()&&a<4))return;p++}if(!P.test(d()))return;while(P.test(d())){if(i=parseInt(d(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;p++}l[c]=256*l[c]+r,a++,2!=a&&4!=a||c++}if(4!=a)return;break}if(":"==d()){if(p++,!d())return}else if(d())return;l[c++]=e}else{if(null!==u)return;p++,c++,u=c}}if(null!==u){s=c-u,c=7;while(0!=c&&s>0)o=l[c],l[c--]=l[u+s-1],l[u+--s]=o}else if(8!=c)return;return l},Y=function(t){for(var e=null,n=1,a=null,r=0,i=0;i<8;i++)0!==t[i]?(r>n&&(e=a,n=r),a=null,r=0):(null===a&&(a=i),++r);return r>n&&(e=a,n=r),e},z=function(t){var e,n,a,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=_(t/256);return e.join(".")}if("object"==typeof t){for(e="",a=Y(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),a===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},V={},j=d({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),H=d({},j,{"#":1,"?":1,"{":1,"}":1}),q=d({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(t,e){var n=f(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(t){return p(K,t.scheme)},Z=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var n;return 2==t.length&&N.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},nt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},at=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&et(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},it=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},st={},ot={},lt={},ct={},ut={},pt={},dt={},mt={},ft={},ht={},xt={},vt={},gt={},yt={},wt={},bt={},Ct={},St={},_t={},Lt={},At={},Ft=function(t,e,n,r){var i,s,o,l,c=n||st,u=0,d="",f=!1,h=!1,x=!1;n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(M,"")),e=e.replace(U,""),i=m(e);while(u<=i.length){switch(s=i[u],c){case st:if(!s||!N.test(s)){if(n)return F;c=lt;continue}d+=s.toLowerCase(),c=ot;break;case ot:if(s&&(D.test(s)||"+"==s||"-"==s||"."==s))d+=s.toLowerCase();else{if(":"!=s){if(n)return F;d="",c=lt,u=0;continue}if(n&&(Q(t)!=p(K,d)||"file"==d&&(Z(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(Q(t)&&K[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?c=yt:Q(t)&&r&&r.scheme==t.scheme?c=ct:Q(t)?c=mt:"/"==i[u+1]?(c=ut,u++):(t.cannotBeABaseURL=!0,t.path.push(""),c=_t)}break;case lt:if(!r||r.cannotBeABaseURL&&"#"!=s)return F;if(r.cannotBeABaseURL&&"#"==s){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=At;break}c="file"==r.scheme?yt:pt;continue;case ct:if("/"!=s||"/"!=i[u+1]){c=pt;continue}c=ft,u++;break;case ut:if("/"==s){c=ht;break}c=St;continue;case pt:if(t.scheme=r.scheme,s==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==s||"\\"==s&&Q(t))c=dt;else if("?"==s)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=Lt;else{if("#"!=s){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=St;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=At}break;case dt:if(!Q(t)||"/"!=s&&"\\"!=s){if("/"!=s){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=St;continue}c=ht}else c=ft;break;case mt:if(c=ft,"/"!=s||"/"!=d.charAt(u+1))continue;u++;break;case ft:if("/"!=s&&"\\"!=s){c=ht;continue}break;case ht:if("@"==s){f&&(d="%40"+d),f=!0,o=m(d);for(var v=0;v<o.length;v++){var g=o[v];if(":"!=g||x){var y=J(g,q);x?t.password+=y:t.username+=y}else x=!0}d=""}else if(s==a||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(t)){if(f&&""==d)return A;u-=m(d).length+1,d="",c=xt}else d+=s;break;case xt:case vt:if(n&&"file"==t.scheme){c=bt;continue}if(":"!=s||h){if(s==a||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(t)){if(Q(t)&&""==d)return I;if(n&&""==d&&(Z(t)||null!==t.port))return;if(l=G(t,d),l)return l;if(d="",c=Ct,n)return;continue}"["==s?h=!0:"]"==s&&(h=!1),d+=s}else{if(""==d)return I;if(l=G(t,d),l)return l;if(d="",c=gt,n==vt)return}break;case gt:if(!P.test(s)){if(s==a||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(t)||n){if(""!=d){var w=parseInt(d,10);if(w>65535)return k;t.port=Q(t)&&w===K[t.scheme]?null:w,d=""}if(n)return;c=Ct;continue}return k}d+=s;break;case yt:if(t.scheme="file","/"==s||"\\"==s)c=wt;else{if(!r||"file"!=r.scheme){c=St;continue}if(s==a)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==s)t.host=r.host,t.path=r.path.slice(),t.query="",c=Lt;else{if("#"!=s){nt(i.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),at(t)),c=St;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=At}}break;case wt:if("/"==s||"\\"==s){c=bt;break}r&&"file"==r.scheme&&!nt(i.slice(u).join(""))&&(et(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=St;continue;case bt:if(s==a||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&et(d))c=St;else if(""==d){if(t.host="",n)return;c=Ct}else{if(l=G(t,d),l)return l;if("localhost"==t.host&&(t.host=""),n)return;d="",c=Ct}continue}d+=s;break;case Ct:if(Q(t)){if(c=St,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=a&&(c=St,"/"!=s))continue}else t.fragment="",c=At;else t.query="",c=Lt;break;case St:if(s==a||"/"==s||"\\"==s&&Q(t)||!n&&("?"==s||"#"==s)){if(it(d)?(at(t),"/"==s||"\\"==s&&Q(t)||t.path.push("")):rt(d)?"/"==s||"\\"==s&&Q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(s==a||"?"==s||"#"==s))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==s?(t.query="",c=Lt):"#"==s&&(t.fragment="",c=At)}else d+=J(s,H);break;case _t:"?"==s?(t.query="",c=Lt):"#"==s?(t.fragment="",c=At):s!=a&&(t.path[0]+=J(s,V));break;case Lt:n||"#"!=s?s!=a&&("'"==s&&Q(t)?t.query+="%27":t.query+="#"==s?"%23":J(s,V)):(t.fragment="",c=At);break;case At:s!=a&&(t.fragment+=J(s,j));break}u++}},It=function(t){var e,n,a=u(this,It,"URL"),r=arguments.length>1?arguments[1]:void 0,s=String(t),o=C(a,{type:"URL"});if(void 0!==r)if(r instanceof It)e=S(r);else if(n=Ft(e={},String(r)),n)throw TypeError(n);if(n=Ft(o,s,null,e),n)throw TypeError(n);var l=o.searchParams=new w,c=b(l);c.updateSearchParams(o.query),c.updateURL=function(){o.query=String(l)||null},i||(a.href=Nt.call(a),a.origin=Dt.call(a),a.protocol=Pt.call(a),a.username=Bt.call(a),a.password=Rt.call(a),a.host=Et.call(a),a.hostname=Ot.call(a),a.port=Tt.call(a),a.pathname=$t.call(a),a.search=Mt.call(a),a.searchParams=Ut.call(a),a.hash=Gt.call(a))},kt=It.prototype,Nt=function(){var t=S(this),e=t.scheme,n=t.username,a=t.password,r=t.host,i=t.port,s=t.path,o=t.query,l=t.fragment,c=e+":";return null!==r?(c+="//",Z(t)&&(c+=n+(a?":"+a:"")+"@"),c+=z(r),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==o&&(c+="?"+o),null!==l&&(c+="#"+l),c},Dt=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(a){return"null"}return"file"!=e&&Q(t)?e+"://"+z(t.host)+(null!==n?":"+n:""):"null"},Pt=function(){return S(this).scheme+":"},Bt=function(){return S(this).username},Rt=function(){return S(this).password},Et=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?z(e):z(e)+":"+n},Ot=function(){var t=S(this).host;return null===t?"":z(t)},Tt=function(){var t=S(this).port;return null===t?"":String(t)},$t=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Mt=function(){var t=S(this).query;return t?"?"+t:""},Ut=function(){return S(this).searchParams},Gt=function(){var t=S(this).fragment;return t?"#"+t:""},Wt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&l(kt,{href:Wt(Nt,(function(t){var e=S(this),n=String(t),a=Ft(e,n);if(a)throw TypeError(a);b(e.searchParams).updateSearchParams(e.query)})),origin:Wt(Dt),protocol:Wt(Pt,(function(t){var e=S(this);Ft(e,String(t)+":",st)})),username:Wt(Bt,(function(t){var e=S(this),n=m(String(t));if(!tt(e)){e.username="";for(var a=0;a<n.length;a++)e.username+=J(n[a],q)}})),password:Wt(Rt,(function(t){var e=S(this),n=m(String(t));if(!tt(e)){e.password="";for(var a=0;a<n.length;a++)e.password+=J(n[a],q)}})),host:Wt(Et,(function(t){var e=S(this);e.cannotBeABaseURL||Ft(e,String(t),xt)})),hostname:Wt(Ot,(function(t){var e=S(this);e.cannotBeABaseURL||Ft(e,String(t),vt)})),port:Wt(Tt,(function(t){var e=S(this);tt(e)||(t=String(t),""==t?e.port=null:Ft(e,t,gt))})),pathname:Wt($t,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],Ft(e,t+"",Ct))})),search:Wt(Mt,(function(t){var e=S(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Ft(e,t,Lt)),b(e.searchParams).updateSearchParams(e.query)})),searchParams:Wt(Ut),hash:Wt(Gt,(function(t){var e=S(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Ft(e,t,At)):e.fragment=null}))}),c(kt,"toJSON",(function(){return Nt.call(this)}),{enumerable:!0}),c(kt,"toString",(function(){return Nt.call(this)}),{enumerable:!0}),y){var Xt=y.createObjectURL,Yt=y.revokeObjectURL;Xt&&c(It,"createObjectURL",(function(t){return Xt.apply(y,arguments)})),Yt&&c(It,"revokeObjectURL",(function(t){return Yt.apply(y,arguments)}))}x(It,"URL"),r({global:!0,forced:!s,sham:!i},{URL:It})},"44e7":function(t,e,n){var a=n("861d"),r=n("c6b6"),i=n("b622"),s=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},"466d":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("50c4"),s=n("1d80"),o=n("8aa5"),l=n("14c3");a("match",1,(function(t,e,n){return[function(e){var n=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var s=r(t),c=String(this);if(!s.global)return l(s,c);var u=s.unicode;s.lastIndex=0;var p,d=[],m=0;while(null!==(p=l(s,c))){var f=String(p[0]);d[m]=f,""===f&&(s.lastIndex=o(c,i(s.lastIndex),u)),m++}return 0===m?null:d}]}))},"4de4":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").filter,i=n("1dde"),s=i("filter");a({target:"Array",proto:!0,forced:!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var a=n("0366"),r=n("7b0b"),i=n("9bdd"),s=n("e95a"),o=n("50c4"),l=n("8418"),c=n("35a1");t.exports=function(t){var e,n,u,p,d,m,f=r(t),h="function"==typeof this?this:Array,x=arguments.length,v=x>1?arguments[1]:void 0,g=void 0!==v,y=c(f),w=0;if(g&&(v=a(v,x>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(e=o(f.length),n=new h(e);e>w;w++)m=g?v(f[w],w):f[w],l(n,w,m);else for(p=y.call(f),d=p.next,n=new h;!(u=d.call(p)).done;w++)m=g?i(p,v,[u.value,w],!0):u.value,l(n,w,m);return n.length=w,n}},5319:function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("50c4"),s=n("a691"),o=n("1d80"),l=n("8aa5"),c=n("0cb2"),u=n("14c3"),p=Math.max,d=Math.min,m=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var f=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=a.REPLACE_KEEPS_$0,x=f?"$":"$0";return[function(n,a){var r=o(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!f&&h||"string"===typeof a&&-1===a.indexOf(x)){var o=n(e,t,this,a);if(o.done)return o.value}var v=r(t),g=String(this),y="function"===typeof a;y||(a=String(a));var w=v.global;if(w){var b=v.unicode;v.lastIndex=0}var C=[];while(1){var S=u(v,g);if(null===S)break;if(C.push(S),!w)break;var _=String(S[0]);""===_&&(v.lastIndex=l(g,i(v.lastIndex),b))}for(var L="",A=0,F=0;F<C.length;F++){S=C[F];for(var I=String(S[0]),k=p(d(s(S.index),g.length),0),N=[],D=1;D<S.length;D++)N.push(m(S[D]));var P=S.groups;if(y){var B=[I].concat(N,k,g);void 0!==P&&B.push(P);var R=String(a.apply(void 0,B))}else R=c(I,g,k,N,P,a);k>=A&&(L+=g.slice(A,k)+R,A=k+I.length)}return L+g.slice(A)}]}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),r=n("5899"),i="["+r+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),l=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5a34":function(t,e,n){var a=n("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5fb2":function(t,e,n){"use strict";var a=2147483647,r=36,i=1,s=26,o=38,l=700,c=72,u=128,p="-",d=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",h=r-i,x=Math.floor,v=String.fromCharCode,g=function(t){var e=[],n=0,a=t.length;while(n<a){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<a){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),n--)}else e.push(r)}return e},y=function(t){return t+22+75*(t<26)},w=function(t,e,n){var a=0;for(t=n?x(t/l):t>>1,t+=x(t/e);t>h*s>>1;a+=r)t=x(t/h);return x(a+(h+1)*t/(t+o))},b=function(t){var e=[];t=g(t);var n,o,l=t.length,d=u,m=0,h=c;for(n=0;n<t.length;n++)o=t[n],o<128&&e.push(v(o));var b=e.length,C=b;b&&e.push(p);while(C<l){var S=a;for(n=0;n<t.length;n++)o=t[n],o>=d&&o<S&&(S=o);var _=C+1;if(S-d>x((a-m)/_))throw RangeError(f);for(m+=(S-d)*_,d=S,n=0;n<t.length;n++){if(o=t[n],o<d&&++m>a)throw RangeError(f);if(o==d){for(var L=m,A=r;;A+=r){var F=A<=h?i:A>=h+s?s:A-h;if(L<F)break;var I=L-F,k=r-F;e.push(v(y(F+I%k))),L=x(I/k)}e.push(v(y(L))),h=w(m,_,C==b),m=0,++C}}++m,++d}return e.join("")};t.exports=function(t){var e,n,a=[],r=t.toLowerCase().replace(m,".").split(".");for(e=0;e<r.length;e++)n=r[e],a.push(d.test(n)?"xn--"+b(n):n);return a.join(".")}},6062:function(t,e,n){"use strict";var a=n("6d61"),r=n("6566");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(t,e,n){"use strict";var a=n("9bf2").f,r=n("7c73"),i=n("e2cc"),s=n("0366"),o=n("19aa"),l=n("2266"),c=n("7dd0"),u=n("2626"),p=n("83ab"),d=n("f183").fastKey,m=n("69f3"),f=m.set,h=m.getterFor;t.exports={getConstructor:function(t,e,n,c){var u=t((function(t,a){o(t,u,e),f(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),p||(t.size=0),void 0!=a&&l(a,t[c],{that:t,AS_ENTRIES:n})})),m=h(e),x=function(t,e,n){var a,r,i=m(t),s=v(t,e);return s?s.value=n:(i.last=s={index:r=d(e,!0),key:e,value:n,previous:a=i.last,next:void 0,removed:!1},i.first||(i.first=s),a&&(a.next=s),p?i.size++:t.size++,"F"!==r&&(i.index[r]=s)),t},v=function(t,e){var n,a=m(t),r=d(e);if("F"!==r)return a.index[r];for(n=a.first;n;n=n.next)if(n.key==e)return n};return i(u.prototype,{clear:function(){var t=this,e=m(t),n=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete n[a.index],a=a.next;e.first=e.last=void 0,p?e.size=0:t.size=0},delete:function(t){var e=this,n=m(e),a=v(e,t);if(a){var r=a.next,i=a.previous;delete n.index[a.index],a.removed=!0,i&&(i.next=r),r&&(r.previous=i),n.first==a&&(n.first=r),n.last==a&&(n.last=i),p?n.size--:e.size--}return!!a},forEach:function(t){var e,n=m(this),a=s(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!v(this,t)}}),i(u.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return x(this,0===t?0:t,e)}}:{add:function(t){return x(this,t=0===t?0:t,t)}}),p&&a(u.prototype,"size",{get:function(){return m(this).size}}),u},setStrong:function(t,e,n){var a=e+" Iterator",r=h(e),i=h(a);c(t,e,(function(t,e){f(this,{type:a,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},"65f0":function(t,e,n){var a=n("861d"),r=n("e8b5"),i=n("b622"),s=i("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"6cfa":function(t,e,n){t.exports=n.p+"img/drawjs-logo.7dde3b6c.png"},"6d61":function(t,e,n){"use strict";var a=n("23e7"),r=n("da84"),i=n("94ca"),s=n("6eeb"),o=n("f183"),l=n("2266"),c=n("19aa"),u=n("861d"),p=n("d039"),d=n("1c7e"),m=n("d44e"),f=n("7156");t.exports=function(t,e,n){var h=-1!==t.indexOf("Map"),x=-1!==t.indexOf("Weak"),v=h?"set":"add",g=r[t],y=g&&g.prototype,w=g,b={},C=function(t){var e=y[t];s(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(x&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return x&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(x&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})},S=i(t,"function"!=typeof g||!(x||y.forEach&&!p((function(){(new g).entries().next()}))));if(S)w=n.getConstructor(e,t,h,v),o.REQUIRED=!0;else if(i(t,!0)){var _=new w,L=_[v](x?{}:-0,1)!=_,A=p((function(){_.has(1)})),F=d((function(t){new g(t)})),I=!x&&p((function(){var t=new g,e=5;while(e--)t[v](e,e);return!t.has(-0)}));F||(w=e((function(e,n){c(e,w,t);var a=f(new g,e,w);return void 0!=n&&l(n,a[v],{that:a,AS_ENTRIES:h}),a})),w.prototype=y,y.constructor=w),(A||I)&&(C("delete"),C("has"),h&&C("get")),(I||L)&&C(v),x&&y.clear&&delete y.clear}return b[t]=w,a({global:!0,forced:w!=g},b),m(w,t),x||n.setStrong(w,t,h),w}},7156:function(t,e,n){var a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var i,s;return r&&"function"==typeof(i=e.constructor)&&i!==n&&a(s=i.prototype)&&s!==n.prototype&&r(t,s),t}},8319:function(t,e,n){},8418:function(t,e,n){"use strict";var a=n("c04e"),r=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var s=a(e);s in t?r.f(t,s,i(0,n)):t[s]=n}},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},9263:function(t,e,n){"use strict";var a=n("ad6d"),r=n("9f7f"),i=n("5692"),s=RegExp.prototype.exec,o=i("native-string-replace",String.prototype.replace),l=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],d=c||p||u;d&&(l=function(t){var e,n,r,i,l=this,d=u&&l.sticky,m=a.call(l),f=l.source,h=0,x=t;return d&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),x=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(f="(?: "+f+")",x=" "+x,h++),n=new RegExp("^(?:"+f+")",m)),p&&(n=new RegExp("^"+f+"$(?!\\s)",m)),c&&(e=l.lastIndex),r=s.call(d?n:l,x),d?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),p&&r&&r.length>1&&o.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},9861:function(t,e,n){"use strict";n("e260");var a=n("23e7"),r=n("d066"),i=n("0d3b"),s=n("6eeb"),o=n("e2cc"),l=n("d44e"),c=n("9ed3"),u=n("69f3"),p=n("19aa"),d=n("5135"),m=n("0366"),f=n("f5df"),h=n("825a"),x=n("861d"),v=n("7c73"),g=n("5c6c"),y=n("9a1f"),w=n("35a1"),b=n("b622"),C=r("fetch"),S=r("Headers"),_=b("iterator"),L="URLSearchParams",A=L+"Iterator",F=u.set,I=u.getterFor(L),k=u.getterFor(A),N=/\+/g,D=Array(4),P=function(t){return D[t-1]||(D[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},B=function(t){try{return decodeURIComponent(t)}catch(e){return t}},R=function(t){var e=t.replace(N," "),n=4;try{return decodeURIComponent(e)}catch(a){while(n)e=e.replace(P(n--),B);return e}},E=/[!'()~]|%20/g,O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},T=function(t){return O[t]},$=function(t){return encodeURIComponent(t).replace(E,T)},M=function(t,e){if(e){var n,a,r=e.split("&"),i=0;while(i<r.length)n=r[i++],n.length&&(a=n.split("="),t.push({key:R(a.shift()),value:R(a.join("="))}))}},U=function(t){this.entries.length=0,M(this.entries,t)},G=function(t,e){if(t<e)throw TypeError("Not enough arguments")},W=c((function(t,e){F(this,{type:A,iterator:y(I(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,n=t.iterator.next(),a=n.value;return n.done||(n.value="keys"===e?a.key:"values"===e?a.value:[a.key,a.value]),n})),X=function(){p(this,X,L);var t,e,n,a,r,i,s,o,l,c=arguments.length>0?arguments[0]:void 0,u=this,m=[];if(F(u,{type:L,entries:m,updateURL:function(){},updateSearchParams:U}),void 0!==c)if(x(c))if(t=w(c),"function"===typeof t){e=t.call(c),n=e.next;while(!(a=n.call(e)).done){if(r=y(h(a.value)),i=r.next,(s=i.call(r)).done||(o=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");m.push({key:s.value+"",value:o.value+""})}}else for(l in c)d(c,l)&&m.push({key:l,value:c[l]+""});else M(m,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},Y=X.prototype;o(Y,{append:function(t,e){G(arguments.length,2);var n=I(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){G(arguments.length,1);var e=I(this),n=e.entries,a=t+"",r=0;while(r<n.length)n[r].key===a?n.splice(r,1):r++;e.updateURL()},get:function(t){G(arguments.length,1);for(var e=I(this).entries,n=t+"",a=0;a<e.length;a++)if(e[a].key===n)return e[a].value;return null},getAll:function(t){G(arguments.length,1);for(var e=I(this).entries,n=t+"",a=[],r=0;r<e.length;r++)e[r].key===n&&a.push(e[r].value);return a},has:function(t){G(arguments.length,1);var e=I(this).entries,n=t+"",a=0;while(a<e.length)if(e[a++].key===n)return!0;return!1},set:function(t,e){G(arguments.length,1);for(var n,a=I(this),r=a.entries,i=!1,s=t+"",o=e+"",l=0;l<r.length;l++)n=r[l],n.key===s&&(i?r.splice(l--,1):(i=!0,n.value=o));i||r.push({key:s,value:o}),a.updateURL()},sort:function(){var t,e,n,a=I(this),r=a.entries,i=r.slice();for(r.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}a.updateURL()},forEach:function(t){var e,n=I(this).entries,a=m(t,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<n.length)e=n[r++],a(e.value,e.key,this)},keys:function(){return new W(this,"keys")},values:function(){return new W(this,"values")},entries:function(){return new W(this,"entries")}},{enumerable:!0}),s(Y,_,Y.entries),s(Y,"toString",(function(){var t,e=I(this).entries,n=[],a=0;while(a<e.length)t=e[a++],n.push($(t.key)+"="+$(t.value));return n.join("&")}),{enumerable:!0}),l(X,L),a({global:!0,forced:!i},{URLSearchParams:X}),i||"function"!=typeof C||"function"!=typeof S||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,a,r=[t];return arguments.length>1&&(e=arguments[1],x(e)&&(n=e.body,f(n)===L&&(a=e.headers?new S(e.headers):new S,a.has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:g(0,String(n)),headers:g(0,a)}))),r.push(e)),C.apply(this,r)}}),t.exports={URLSearchParams:X,getState:I}},"9a1f":function(t,e,n){var a=n("825a"),r=n("35a1");t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return a(e.call(t))}},"9bdd":function(t,e,n){var a=n("825a"),r=n("2a62");t.exports=function(t,e,n,i){try{return i?e(a(n)[0],n[1]):e(n)}catch(s){throw r(t),s}}},"9f7f":function(t,e,n){"use strict";var a=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var a=n("23e7"),r=n("44ad"),i=n("fc6a"),s=n("a640"),o=[].join,l=r!=Object,c=s("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(t){return o.call(i(this),void 0===t?",":t)}})},a434:function(t,e,n){"use strict";var a=n("23e7"),r=n("23cb"),i=n("a691"),s=n("50c4"),o=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),p=u("splice"),d=Math.max,m=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var n,a,u,p,x,v,g=o(this),y=s(g.length),w=r(t,y),b=arguments.length;if(0===b?n=a=0:1===b?(n=0,a=y-w):(n=b-2,a=m(d(i(e),0),y-w)),y+n-a>f)throw TypeError(h);for(u=l(g,a),p=0;p<a;p++)x=w+p,x in g&&c(u,p,g[x]);if(u.length=a,n<a){for(p=w;p<y-a;p++)x=p+a,v=p+n,x in g?g[v]=g[x]:delete g[v];for(p=y;p>y-a+n;p--)delete g[p-1]}else if(n>a)for(p=y-a;p>w;p--)x=p+a-1,v=p+n-1,x in g?g[v]=g[x]:delete g[v];for(p=0;p<n;p++)g[p+w]=arguments[p+2];return g.length=y-a+n,u}})},a630:function(t,e,n){var a=n("23e7"),r=n("4df4"),i=n("1c7e"),s=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:s},{from:r})},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,n){"use strict";var a=n("83ab"),r=n("da84"),i=n("94ca"),s=n("6eeb"),o=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),p=n("d039"),d=n("7c73"),m=n("241c").f,f=n("06cf").f,h=n("9bf2").f,x=n("58a8").trim,v="Number",g=r[v],y=g.prototype,w=l(d(y))==v,b=function(t){var e,n,a,r,i,s,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=x(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+c}for(i=c.slice(2),s=i.length,o=0;o<s;o++)if(l=i.charCodeAt(o),l<48||l>r)return NaN;return parseInt(i,a)}return+c};if(i(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(w?p((function(){y.valueOf.call(n)})):l(n)!=v)?c(new g(b(e)),n,S):b(e)},_=a?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;_.length>L;L++)o(g,C=_[L])&&!o(S,C)&&h(S,C,f(g,C));S.prototype=y,y.constructor=S,s(r,v,S)}},ab13:function(t,e,n){var a=n("b622"),r=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(a){}}return!1}},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var a=n("83ab"),r=n("9bf2").f,i=Function.prototype,s=i.toString,o=/^\s*function ([^ (]*)/,l="name";a&&!(l in i)&&r(i,l,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})},b727:function(t,e,n){var a=n("0366"),r=n("44ad"),i=n("7b0b"),s=n("50c4"),o=n("65f0"),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,p=6==t,d=7==t,m=5==t||p;return function(f,h,x,v){for(var g,y,w=i(f),b=r(w),C=a(h,x,3),S=s(b.length),_=0,L=v||o,A=e?L(f,S):n||d?L(f,0):void 0;S>_;_++)if((m||_ in b)&&(g=b[_],y=C(g,_,w),t))if(e)A[_]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:l.call(A,g)}else switch(t){case 4:return!1;case 7:l.call(A,g)}return p?-1:c||u?u:A}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},bb2f:function(t,e,n){var a=n("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},caad:function(t,e,n){"use strict";var a=n("23e7"),r=n("4d64").includes,i=n("44d2");a({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cd56:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"appDiv",attrs:{id:"app"}},[n("div",{staticClass:"mainLayout"},[n("div",{staticClass:"columnBox colDiv"},[n("div",{staticClass:"scriptsDiv"},[t._m(1),n("div",{staticClass:"tabContentScroll"},[n("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[n("div",{staticClass:"tab-pane show active",attrs:{id:"tabSampleScripts",role:"tabpanel","aria-labelledby":"sampleScripts-tab"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:null==t.selectedSampleScript,expression:"selectedSampleScript == null"}]},[n("span",[t._v("Type:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.type,expression:"sampleScriptsFilter.type"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.sampleScriptsFilter,"type",e.target.multiple?n:n[0])},function(e){return t.filterSampleScripts()}]}},[n("option",{attrs:{value:""}},[t._v("(Show all)")]),t._l(t.sampleScriptTypes,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),n("span",[t._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.text"}],attrs:{placeholder:"script name"},domProps:{value:t.sampleScriptsFilter.text},on:{input:[function(e){e.target.composing||t.$set(t.sampleScriptsFilter,"text",e.target.value)},function(e){return t.filterSampleScripts()}]}}),n("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.sampleScriptsFilter.type||""!=t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.type != '' || sampleScriptsFilter.text != ''"}]},[t._v("Showing "+t._s(t.numFilteredSampleScripts)+" of "+t._s(t.numSampleScripts)+" "),n("a",{attrs:{href:"#"},on:{click:function(e){return t.clearSearch()}}},[t._v("Clear search")])]),n("table",t._l(t.sampleScripts,(function(e){return n("tr",{key:e.name},[n("td",[t._v(t._s(e.name))]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.executeSampleScript(e.name)}}},[t._v("Execute")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.loadSampleScript(e.name)}}},[t._v("Load")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.selectSampleScript(e.name)}}},[t._v("Select")])])])})),0)]),null!=t.selectedSampleScript?n("div",[n("h3",[t._v(t._s(t.selectedSampleScript.name))]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.unselectSampleScript()}}},[t._v("back")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.copySampleSourceCode()}}},[t._v("copy")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.executeSampleScript(t.selectedSampleScript.name)}}},[t._v("Execute")])]),n("pre",{attrs:{id:"selectedSampleScriptSourceCode"}},[t._v(t._s(t.selectedSampleScript.source))])]):t._e()]),n("div",{staticClass:"tab-pane",attrs:{id:"tabSavedScripts",role:"tabpanel","aria-labelledby":"savedScripts-tab"}},[n("table",t._l(t.savedScripts,(function(e){return n("tr",{key:e.name},[n("td",[t._v(t._s(e.name))]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.executeSavedScript(e.name)}}},[t._v("Execute")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.loadSavedScript(e.name)}}},[t._v("Load")])])])})),0),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.saveScriptsToLocalStorage()}}},[t._v("Save to local storage")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.loadScriptsFromLocalStorage()}}},[t._v("Load from local storage")])])])])])]),n("div",[n("div",[n("b",[t._v("Script:")]),t._v(" "+t._s(t.currentScriptName))]),n("textarea",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"}}),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.executeScript}},[t._v("Execute")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.saveScript}},[t._v("Save")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.saveScriptAs}},[t._v("Save as...")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.newScript}},[t._v("New")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.newScript}},[t._v("Download")])])])]),n("div",{staticClass:"columnBox mainColDiv"},[n("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[t._m(2),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_current_layer",role:"tab","aria-controls":"tab_current_layer","aria-selected":"false"}},[t._v("Current layer "),null!=t.currentLayer?n("span",[t._v("("),n("b",[t._v(t._s(t.currentLayer.name))]),t._v(")")]):t._e()])])]),t._m(3),n("div",{staticClass:"buttonGroup"},[n("span",[n("b",[t._v("Current tool: ")]),t._v(t._s(t.currentTool))]),n("span",{staticStyle:{"margin-left":"10px"}},[n("b",[t._v("Position: ")]),t._v(t._s(t.mousePosition.x)+","+t._s(t.mousePosition.y))])]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("pencil")}}},[t._v("Pencil")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("brush")}}},[t._v("Brush")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("line")}}},[t._v("Line")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("rectangle")}}},[t._v("Rectangle")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("circle")}}},[t._v("Circle")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("ellipse")}}},[t._v("Ellipse")])]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clearCurrentLayer()}}},[t._v("Clear current layer")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.fillScreenWhite()}}},[t._v("Fill screen white")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.fillScreenBlack()}}},[t._v("Fill screen black")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.repaintCurrentLayer()}}},[t._v("Repaint current layer")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.exportCanvasAllLayers()}}},[t._v("Export")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.exportCanvasAllLayersCropped()}}},[t._v("Export cropped")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clip()}}},[t._v("Clip")])])]),n("div",{staticClass:"columnBoxRight"},[n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("layers")}}},[n("span",{staticClass:"panelTitle"},[t._v("Layers")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.layers,expression:"visiblePanels.layers"}],staticClass:"panelBody"},[n("table",{staticClass:"smallTable"},[t._m(4),n("tbody",t._l(t.canvasLayers,(function(e){return n("tr",{key:e.name,class:{selectedLayer:null!=t.currentLayer&&e.name==t.currentLayer.name},on:{click:function(n){return t.setCurrentLayer(e.name)}}},[n("td",[n("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.visible,expression:"layer.visible"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_layer_visible_"+e.name},domProps:{checked:Array.isArray(e.visible)?t._i(e.visible,null)>-1:e.visible},on:{change:[function(n){var a=e.visible,r=n.target,i=!!r.checked;if(Array.isArray(a)){var s=null,o=t._i(a,s);r.checked?o<0&&t.$set(e,"visible",a.concat([s])):o>-1&&t.$set(e,"visible",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"visible",i)},function(e){return t.updateCanvasAllLayers()}]}}),n("label",{staticClass:"custom-control-label",attrs:{for:"_layer_visible_"+e.name}})])]),n("td",[n("a",[t._v(t._s(e.name))])]),n("td",[t._v(t._s(e.alpha))]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.setCurrentLayer(e.name)}}},[t._v("select")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.editLayer(e.name)}}},[t._v("edit")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.deleteLayer(e)}}},[t._v("delete")])])])})),0)]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.addLayer}},[t._v("Add layer")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.moveLayerUp()}}},[n("IconUp")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.moveLayerDown()}}},[n("IconDown")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.duplicateCurrentLayer()}}},[t._v("Duplicate")])])])]),n("ContextPanel"),n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("images")}}},[n("span",{staticClass:"panelTitle"},[t._v("Images")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.images,expression:"visiblePanels.images"}],staticClass:"panelBody"},[n("span",[t._v("Load image:")]),n("input",{attrs:{type:"file",id:"inputImage"},on:{change:t.onImageUpload}}),n("table",{staticClass:"smallTable contextPropertiesTable"},[n("tbody",t._l(t.images,(function(e){return n("tr",{key:e.filename},[n("td",[t._v(t._s(e.filename))]),n("td",[e.url?n("img",{staticStyle:{"max-width":"64px"},attrs:{src:e.url}}):t._e()]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.drawImageToCurrentLayer(e.url)}}},[t._v("draw")])])])})),0)]),n("div",{staticClass:"spacing"})])]),n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("fonts")}}},[n("span",{staticClass:"panelTitle"},[t._v("Fonts")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.fonts,expression:"visiblePanels.fonts"}],staticClass:"panelBody"},[n("div",[t._v("Name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fontPanelForm.fontName,expression:"fontPanelForm.fontName"}],domProps:{value:t.fontPanelForm.fontName},on:{input:function(e){e.target.composing||t.$set(t.fontPanelForm,"fontName",e.target.value)}}})]),n("input",{attrs:{type:"file"},on:{change:t.onFontUpload}}),n("div",[t._v("URL: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fontPanelForm.fontURL,expression:"fontPanelForm.fontURL"}],domProps:{value:t.fontPanelForm.fontURL},on:{input:function(e){e.target.composing||t.$set(t.fontPanelForm,"fontURL",e.target.value)}}})]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.loadFont()}}},[t._v("Load font")]),n("div",{staticClass:"spacing"}),n("table",{staticClass:"smallTable"},[t._m(5),n("tbody",t._l(t.fonts,(function(e){return n("tr",{key:e.name},[n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.font.style))]),n("td",[t._v(t._s(e.font.weight))])])})),0)]),n("div",{staticClass:"spacing"})])]),n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("globalVariables")}}},[n("span",{staticClass:"panelTitle"},[t._v("Global variables")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.globalVariables,expression:"visiblePanels.globalVariables"}],staticClass:"panelBody"},[n("table",{staticClass:"smallTable"},[t._m(6),n("tbody",t._l(t.globalVariables,(function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(a))]),n("td",[t._v(t._s(e))]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.editGlobalVariable(a)}}},[t._v("edit")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.deleteGlobalVariable(a)}}},[t._v("delete")])])])})),0)]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.popupAddGlobalVariable}},[t._v("add")])])])]),n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("logs")}}},[n("span",{staticClass:"panelTitle"},[t._v("Logs")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.logs,expression:"visiblePanels.logs"}],staticClass:"panelBody"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clearLogs()}}},[t._v("clear logs")]),n("div",[t._v("Showing "+t._s(t.logs.length)+" log messages")]),n("table",{staticClass:"smallTable"},[n("tbody",t._l(t.logs,(function(e){return n("tr",{key:e},[n("td",[t._v(t._s(e))])])})),0)]),n("div",{staticClass:"spacing"})])])],1)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("img",{attrs:{src:n("6cfa")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{id:"sampleScripts-tab","data-toggle":"tab",href:"#tabSampleScripts",role:"tab"}},[t._v("Sample scripts")])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{id:"savedScripts-tab","data-toggle":"tab",href:"#tabSavedScripts",role:"tab"}},[t._v("My scripts")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_all_layers",role:"tab","aria-controls":"tab_all_layers","aria-selected":"false"}},[t._v("All layers")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-content",staticStyle:{"margin-top":"5px"},attrs:{id:"myTabContent"}},[n("div",{staticClass:"tab-pane show active",attrs:{id:"tab_all_layers",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasAllLayers",width:"600",height:"400"}})]),n("div",{staticClass:"tab-pane",attrs:{id:"tab_current_layer",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasCurrentLayer",width:"600",height:"400"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("visible")]),n("th",[t._v("name")]),n("th",[t._v("alpha")]),n("th"),n("th"),n("th")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("name")]),n("th",[t._v("style")]),n("th",[t._v("weight")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("name")]),n("th",[t._v("value")]),n("th"),n("th")])])}],i=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("4de4"),n("a9e3"),n("b0c0"),n("a434"),n("6062"),n("caad"),n("2532"),n("a630"),[]),s=new Set,o={},l="",c="\nctx.beginPath();\nctx.moveTo(0, 0);\nctx.lineTo(100, 100);\nctx.stroke();\n";function u(t,e){i.push(e);for(var n=0;n<t.length;n++){var a=t[n];s.add(a),null==o[a]&&(o[a]=[]),o[a].push(e)}}function p(t,e){var n=e||"";n=n.toLowerCase();var a=null;a=null==t||""==t?i:o[t];for(var r=[],s=0;s<a.length;s++){var l=a[s];l.name.toLowerCase().includes(n)&&r.push(l)}return r}function d(){return Array.from(s)}u(["basic drawing"],{name:"Draw line",func:new Function("params",c),source:c}),c="\nctx.beginPath();\nctx.arc(100, 100, 10, 0, 2 * Math.PI);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw circle",func:new Function("params",c),source:c}),c="\nctx.beginPath();\nctx.arc(100, 100, 10, 0, 2 * Math.PI);\nctx.fill();\n",u(["basic drawing"],{name:"Fill circle",func:new Function("params",c),source:c}),c="\nctx.beginPath();\nctx.rect(20, 20, 150, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw rect",func:new Function("params",c),source:c}),c="\nctx.fillRect(20, 20, 150, 100);\n",u(["basic drawing"],{name:"Fill rect",func:new Function("params",c),source:c}),c='\nctx.font = "30px Arial";\nctx.fillText("Hello World", 10, 50);\n',u(["basic drawing","text"],{name:"Draw text",func:new Function("params",c),source:c}),c='\nctx.font = "30px Arial";\nctx.strokeText("Hello World", 10, 50);\n',u(["basic drawing","text"],{name:"Draw stroke text",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar grd = ctx.createLinearGradient(0, 0, 200, 0);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Linear Gradient",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar grd = ctx.createRadialGradient(75, 50, 5, 90, 60, 100);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Circular Gradient",func:new Function("params",c),source:c}),c="\nctx.rotate(20 * Math.PI / 180);\n",u(["context"],{name:"Rotate canvas",func:new Function("params",c),source:c}),c="\nlet a = params.horizontalScaling ?? 1;\nlet b = params.verticalSkewing ?? 0;\nlet c = params.horizontalSkewing ?? 0;\nlet d = params.verticalScaling ?? 1;\nlet e = params.horizontalTranslation ?? 0;\nlet f = params.verticalTranslation ?? 0;\n\nctx.setTransform(a, b, c, d, e, f);\n",u(["other","context"],{name:"Set transform",func:new Function("params",c),source:c}),c="\nctx.setTransform(1, 0, 0, 1, 0, 0);\n",u(["other","context"],{name:"Reset transform",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar gradient = ctx.createLinearGradient(0, 0, c.width, 0);\ngradient.addColorStop("0"," magenta");\ngradient.addColorStop("0.5", "blue");\ngradient.addColorStop("1.0", "red");\n// Fill with gradient\nctx.fillStyle = gradient;\n',u(["basic drawing","context"],{name:"Set gradient fillstyle",func:new Function("params",c),source:c}),c="\nctx.clearRect(0, 0, 600, 400); \n",u(["basic drawing"],{name:"Clear rect",func:new Function("params",c),source:c}),c="\nctx.globalAlpha = 0.2;\n",u(["alpha"],{name:"Set global alpha",func:new Function("params",c),source:c}),c='\nctx.shadowBlur = 20;\nctx.shadowColor = "black";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n',u(["filters"],{name:"Set shadow",func:new Function("params",c),source:c}),c="\nctx.clip();\n",u(["context"],{name:"Clip",func:new Function("params",c),source:c}),c='\n// Clip a rectangular area\nctx.rect(50, 20, 200, 120);\nctx.stroke();\nctx.clip();\n// Draw red rectangle after clip()\nctx.fillStyle = "red";\nctx.fillRect(0, 0, 150, 100);\n',u(["context"],{name:"Clip rect",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#FF0000";\n',u(["context","color"],{name:"Set fill style",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgb(255,0,0)';\n",u(["context","color"],{name:"Set fill style RGB",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n",u(["context","color"],{name:"Set fill style RGBA",func:new Function("params",c),source:c}),c='\nctx.strokeStyle = "#FF0000";\n',u(["context"],{name:"Set stroke style",func:new Function("params",c),source:c}),c="\nctx.lineWidth = 5;\n",u(["basic drawing"],{name:"Set line width",func:new Function("params",c),source:c}),c="\nparams.x = params.x || 300;\nparams.y = params.y || 200;\nparams.r = params.r || 20;\nparams.n = params.n || 5;\nparams.inset = params.inset || 2.5;\n\nctx.save();\nctx.beginPath();\nctx.translate(params.x, params.y);\nctx.moveTo(0,0-params.r);\nfor (var i = 0; i < params.n; i++) {\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - (params.r*params.inset));\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - params.r);\n}\nctx.closePath();\nctx.fill();\nctx.restore();\n",u(["shapes"],{name:"Draw star",func:new Function("params",c),source:c}),c="\nlet cx = params.cx || 300;\nlet cy = params.cy || 200;\nlet spikes = params.spikes || 5;\nlet innerRadius = params.innerRadius || 100;\nlet outerRadius = params.outerRadius || 40;\n\nlet rot=Math.PI/2*3;\nlet x=cx;\nlet y=cy;\nlet step=Math.PI/spikes;\n\nctx.beginPath();\nctx.moveTo(cx,cy-outerRadius)\nfor(i=0;i<spikes;i++){\n  x=cx+Math.cos(rot)*outerRadius;\n  y=cy+Math.sin(rot)*outerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n\n  x=cx+Math.cos(rot)*innerRadius;\n  y=cy+Math.sin(rot)*innerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n}\nctx.lineTo(cx,cy-outerRadius);\nctx.closePath();\nctx.lineWidth=3;\nctx.strokeStyle='#999900';\nctx.stroke();\nctx.fillStyle='#ffff00';\nctx.fill();\n",u(["shapes"],{name:"Draw star 2",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Draw star',{x: 300, y: 200, r: 48, n: 24, inset: 1.3});\n",u(["shapes"],{name:"Draw spike ball",func:new Function("params",c),source:c}),c="\nctx.restore();\n",c="\nctx.save();\n",u(["context"],{name:"Save context",func:new Function("params",c),source:c}),c="\nctx.restore();\n",u(["context"],{name:"Restore context",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.createImageData(width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] = $util.random256(); // R value\n  imageData.data[i + 1] = $util.random256(); // G value\n  imageData.data[i + 2] = $util.random256(); // B value\n  imageData.data[i + 3] = 255; // A value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["other"],{name:"Draw random pixels",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += amount; // R value\n  imageData.data[i + 1] += amount; // G value\n  imageData.data[i + 2] += amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Lighter",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] -= amount; // R value\n  imageData.data[i + 1] -= amount; // G value\n  imageData.data[i + 2] -= amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Darker",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\nlet x = 0;\nlet y = 0;\n\nctx.save();\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  if (imageData.data[i + 3] > 0) {\n    ctx.fillStyle = 'rgba(' + imageData.data[i] + ', ' + imageData.data[i + 1] + ', ' + imageData.data[i + 2] + ', ' + imageData.data[i + 3]/255 + ')';\n    ctx.beginPath();\n    ctx.arc(x + 0.5, y + 0.5, amount, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n  x++;\n  if (x>width-1) {\n    x = 0;\n    y++;\n  }\n}\n\nctx.restore();\n",u(["other","border"],{name:"Grow",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i + 3] = 255 - imageData.data[i + 3];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["alpha"],{name:"Invert image alpha",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = 255 - imageData.data[i];\n    imageData.data[i+1] = 255 - imageData.data[i+1];\n    imageData.data[i+2] = 255 - imageData.data[i+2];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color"],{name:"Invert image colors",func:new Function("params",c),source:c}),c="\nlet p = new Path2D('M160 110H40v20h120v30L200 120l-40-40z');\nctx.fill(p);\n",u(["SVG"],{name:"Draw Path2D",func:new Function("params",c),source:c}),l='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="300px" height="300px">\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4z"/>\n</svg>\n',c="\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\nlet xml = params.xml;\n\nlet defaultXml = `".concat(l,"`;\n\nxml = xml ?? defaultXml;\n\nvar svg64 = btoa(xml);\n\nvar b64Start = 'data:image/svg+xml;base64,';\n\nvar image64 = b64Start + svg64;\n\nvar img = new Image();\nimg.src = image64;\n\nctx.drawImage(img, x, y);\n"),u(["SVG"],{name:"Draw SVG",func:new Function("params",c),source:c}),l='\n<svg viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg" width="500px" height="400px">\n  <circle cx="300" cy="200" r="50" fill="#ff0000"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - circle",func:new Function("params",c),source:c}),l='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix\n          kernelMatrix="1 0 0\n                        0 0 0\n                        0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix",func:new Function("params",c),source:c}),l='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix order="5" bias="0.5" preserveAlpha="true"\n          kernelMatrix="1 0 0 0 0\n                        0 1 0 0 0\n                        0 0 0 0 0\n                        0 0 0 -1 0\n                        0 0 0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix 2",func:new Function("params",c),source:c}),l='\n<svg viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg" width="600px" height="400px">\n  <filter id="emboss1" x="0" y="0" width="100%" height="100%">\n    <feTurbulence baseFrequency="0.025" seed="0" />\n  </filter>\n  <rect x="0" y="0" width="600" height="400" style="filter:url(#emboss1);" />\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - turbulence",func:new Function("params",c),source:c}),l='\n<svg height="200" width="200" viewBox="0 0 220 220"\n    xmlns="http://www.w3.org/2000/svg">\n  <filter id = "filter">\n    <feSpecularLighting result="specOut"\n        specularExponent="20" lighting-color="#bbbbbb">\n      <fePointLight x="50" y="50" z="200"/>\n    </feSpecularLighting>\n    <feComposite in="SourceGraphic" in2="specOut"\n        operator="arithmetic" k1="0" k2="1" k3="1" k4="0"/>\n  </filter>\n  <circle cx="110" cy="110" r="100" style="filter:url(#filter)"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - SpecularLighting",func:new Function("params",c),source:c}),c="\nctx.filter = 'blur(3px)';\n",u(["filters"],{name:"Blur",func:new Function("params",c),source:c}),c="\nctx.filter = 'grayscale(100%)';\n",u(["filters","context","color"],{name:"Grayscale",func:new Function("params",c),source:c}),c="\nctx.filter = 'grayscale(50%)';\n",u(["filters","context","color"],{name:"Grayscale 50%",func:new Function("params",c),source:c}),c="\nctx.filter = 'brightness(1.2)';\n",u(["filters","context","color"],{name:"Brightness",func:new Function("params",c),source:c}),c="\nctx.filter = 'contrast(150%)';\n",u(["filters","context","color"],{name:"Contrast",func:new Function("params",c),source:c}),c="\nctx.filter = 'invert(100%)';\n",u(["filters","context","color"],{name:"Invert",func:new Function("params",c),source:c}),c="\nctx.filter = 'hue-rotate(120deg)';\n",u(["context","filters","color"],{name:"Hue rotate",func:new Function("params",c),source:c}),c="\nctx.filter = 'drop-shadow(-9px 9px 3px #666666)';\n",u(["filters","context"],{name:"Drop shadow",func:new Function("params",c),source:c}),c="\nctx.filter = 'sepia(100%)';\n",u(["filters","context","color"],{name:"Sepia",func:new Function("params",c),source:c}),c="\nctx.filter = 'opacity(50%)';\n",u(["filters","context"],{name:"Opacity",func:new Function("params",c),source:c}),c="\nctx.filter = 'saturate(30%)';\n",u(["filters","context","color"],{name:"Saturate",func:new Function("params",c),source:c}),c="\nctx.filter = 'none';\n",u(["filters"],{name:"Clear filters",func:new Function("params",c),source:c}),c="\nctx.drawImage(app.canvasLayers[3].canvas, 0, 0);\n",u(["other","layer","app"],{name:"Paint layer to another",func:new Function("params",c),source:c}),c="\nlet red = params.r != null ? params.r : 255;\nlet green = params.g != null ? params.g : 0;\nlet blue = params.b != null ? params.b : 0;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = red;\n    imageData.data[i+1] = green;\n    imageData.data[i+2] = blue;\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color"],{name:"Set image color",func:new Function("params",c),source:c}),c="\nlet red = params.r != null ? params.r : 1;\nlet green = params.g != null ? params.g : 0.5;\nlet blue = params.b != null ? params.b : 0.5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = imageData.data[i] * red;\n    imageData.data[i+1] = imageData.data[i+1] * green;\n    imageData.data[i+2] = imageData.data[i+2] * blue;\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color","filters"],{name:"Modulate image color",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet tempCanvas = document.createElement('canvas');\ntempCanvas.width = width;\ntempCanvas.height = height;\n\nlet tempCtx = tempCanvas.getContext('2d');\ntempCtx.drawImage(ctx.canvas, 0, 0);\n\nctx.clearRect(0, 0, width, height);\nctx.drawImage(tempCtx.canvas, 0, 0);\n",u(["other"],{name:"Repaint",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 3;\nlet lightOffset = params.lightOffset || 100;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Grow',{amount: amount});\napp.executeSampleScript('Lighter', {amount: lightOffset});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border"],{name:"Add border",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 4;\nlet lightOffset = params.lightOffset || 100;\n\napp.executeSampleScript('Add border', {amount: amount, lightOffset: lightOffset});\napp.executeSampleScript('Add border', {amount: amount, lightOffset: -lightOffset});\n",u(["border"],{name:"Add double border",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 3;\nlet red = params.r != null ? params.r : 255;\nlet green = params.g != null ? params.g : 0;\nlet blue = params.b != null ? params.b : 0;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Set image color', {r: red, g: green, b: blue});\napp.executeSampleScript('Grow',{amount: amount});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border","color"],{name:"Add color border",func:new Function("params",c),source:c}),c='\nlet text = "Hello world!"\nlet width = ctx.measureText(text).width;\n',u(["text"],{name:"Measure text",func:new Function("params",c),source:c}),c="\nctx.setLineDash([4, 2]);\nctx.beginPath();\nctx.lineDashOffset = 0;\nctx.moveTo(100, 100);\nctx.lineTo(300, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw dashed line",func:new Function("params",c),source:c}),c="\napp.addLayerWithName('My layer name');\n",u(["app","layer"],{name:"Add layer",func:new Function("params",c),source:c}),c="\napp.duplicateLayer('sourceLayerName', 'newLayerName');\n",u(["app","layer"],{name:"Duplicate layer",func:new Function("params",c),source:c}),c="\napp.setCurrentLayer('layer01');\n",u(["app","layer"],{name:"Set current layer",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Grow',{amount: 10});\n",u(["app"],{name:"Execute sample script",func:new Function("params",c),source:c}),c="\napp.executeSavedScript('MyScriptName',{myParam: 10});\n",u(["app"],{name:"Execute saved script",func:new Function("params",c),source:c}),c="\napp.globalVariables.speedX = 100;\n",u(["app"],{name:"Set global variable",func:new Function("params",c),source:c}),c="\nvar speedX = app.globalVariables.speedX;\nalert(speedX);\n",u(["app"],{name:"Get global variable",func:new Function("params",c),source:c}),c="\napp.resetContext();\n",u(["app","context"],{name:"Reset context",func:new Function("params",c),source:c}),c="\napp.combineLayers('baseLayerName','maskLayerName');\n",u(["app","mask","layer"],{name:"Apply mask to layer",func:new Function("params",c),source:c}),c='\n// Options: "top", "hanging", "middle", "alphabetic" (default), "ideographic", "bottom"\nctx.textBaseline = "bottom";\n',u(["text"],{name:"Set text baseline",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw ellipse",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.fill();\n",u(["basic drawing"],{name:"Fill ellipse",func:new Function("params",c),source:c}),c="\nctx.scale(4, 4);\n",u(["context"],{name:"Set scale",func:new Function("params",c),source:c}),c="\nlet start = { x: 100, y: 100 };\nlet cp1 = { x: 100, y: 200 };\nlet cp2 = { x: 200, y: 100 };\nlet end = { x: 200, y: 200 };\n\nctx.beginPath();\nctx.moveTo(start.x, start.y);\nctx.bezierCurveTo(cp1.x, cp1.y, cp2.x, cp2.y, end.x, end.y);\nctx.stroke();\n",u(["basic drawing"],{name:"Bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet cpx = 200;\nlet cpy = 100;\nlet targetX = 200;\nlet targetY = 200;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.quadraticCurveTo(cpx, cpy, targetX, targetY);\nctx.stroke();\n",u(["basic drawing"],{name:"Quadratic bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet x1 = 200;\nlet y1 = 200;\nlet x2 = 100;\nlet y2 = 200;\nlet radius = 20;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.arcTo(x1, y1, x2, y2, radius);\nctx.lineTo(x2, y2);\nctx.stroke();\n",u(["basic drawing"],{name:"Arc to",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\nimg.onload = function() {\n  var pattern = ctx.createPattern(img, 'repeat');\n  ctx.fillStyle = pattern;\n  ctx.fillRect(0, 0, 300, 300);\n};\n",u(["basic drawing","image"],{name:"Create pattern",func:new Function("params",c),source:c}),c="\nconst patternCanvas = document.createElement('canvas');\nconst patternContext = patternCanvas.getContext('2d');\n\npatternCanvas.width = 50;\npatternCanvas.height = 50;\n\npatternContext.fillStyle = '#fec';\npatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\npatternContext.arc(0, 0, 50, 0, .5 * Math.PI);\npatternContext.stroke();\n\nconst pattern = ctx.createPattern(patternCanvas, 'repeat');\nctx.fillStyle = pattern;\nctx.fillRect(0, 0, canvas.width, canvas.height);\n",u(["basic drawing"],{name:"Create pattern from canvas",func:new Function("params",c),source:c}),c='\nctx.shadowBlur = 10;\nctx.shadowColor = "#000000";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n\nctx.fillStyle = "#FF0000";\nctx.font = "64px Arial";\nctx.fillText("Text", 200, 200);\n',u(["filters","text"],{name:"Draw shadow text",func:new Function("params",c),source:c}),c='\nlet text = "Neon";\nlet textColor = "#FFFFFF";\nlet glowColor = "#FFFF00";\nlet nearColor = "#FFFFFF"\nlet blur = 5;\n\nctx.fillStyle = textColor;\nctx.font = "64px Arial";\n\nctx.shadowOffsetX = 0;\nctx.shadowOffsetY = 0;\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *4;\nctx.fillText(text, 200, 200);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *3;\nctx.fillText(text, 200, 200);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur * 2;\nctx.fillText(text, 200, 200);\n\nctx.shadowColor = nearColor;\nctx.shadowBlur = blur;\nctx.fillText(text, 200, 200);\nctx.fillText(text, 200, 200);\n',u(["filters","glow","text"],{name:"Glow text",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#FFFFFF";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen white",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#000000";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen black",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.addEventListener('load', function() {\n  ctx.drawImage(img, 100, 100);\n}, false);\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\n",u(["basic drawing","image"],{name:"Draw image",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.src = app.images[0].url;\nctx.drawImage(img, 0, 0);\n",u(["basic drawing","image"],{name:"Draw uploaded image",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet width = 300;\nlet height = 300;\n\nlet img = new Image();\nimg.addEventListener('load', function() {\n  ctx.drawImage(img, x, y, width, height);\n}, false);\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\n",u(["basic drawing","image"],{name:"Draw image scaled",func:new Function("params",c),source:c}),c="\napp.log('message');\n",u(["other"],{name:"Log",func:new Function("params",c),source:c}),c="\nlet random = $util.random256();\napp.log('random256 = ' + random);\n",u(["other","util","math"],{name:"Random 256",func:new Function("params",c),source:c}),c="\nlet random = Math.random();\napp.log('random = ' + random);\n",u(["math"],{name:"Random number",func:new Function("params",c),source:c}),c="\nparams.numSteps = params.numSteps || 10;\nlet dxOffset = params.dxStep != null ? params.dxStep : 0;\nlet dyOffset = params.dyStep != null ? params.dyStep : -1;\n\nlet canvasClone = $util.cloneCanvas(app.getCurrentLayer().canvas);\n\ndx = 0;\ndy = 0;\nfor (let i=0; i<params.numSteps; i++) {\n  dx += dxOffset;\n  dy += dyOffset;\n  ctx.drawImage(canvasClone, dx, dy);\n}\n",u(["filters"],{name:"3D effect",func:new Function("params",c),source:c}),c="\nlet canvasIndex = params.canvasIndex ?? 1;\nlet numSteps = params.numSteps ?? 10;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\n",u(["filters"],{name:"3D effect 2",func:new Function("params",c),source:c}),c="\nlet canvasIndex = params.canvasIndex ?? 1;\nlet numSteps = params.numSteps ?? 6;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\napp.executeSampleScript('Add border', {amount: 2, lightOffset: -100});\n\napp.duplicateLayer(originalLayerName, '_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\napp.executeSampleScript('Add border', {amount: 1, lightOffset: -120});\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\napp.deleteLayerByName('_temp_layer_02');\n",u(["filters"],{name:"3D effect 3",func:new Function("params",c),source:c}),c='\nvar faceRadius = 100;\nvar eyeSpacing = 40;\nvar eyeInnerRadius = 12;\nvar eyeOuterRadius = 30;\nvar eyeBrowOffset = 20;\nvar eyeOffsetX = 20;\nvar eyeBallOffsetX = -10;\nvar mouthRadius = 30;\n\n//face\nctx.beginPath();\nctx.fillStyle = "#FF6633";\nctx.arc(200, 150, faceRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//mouth\nctx.beginPath();\nctx.fillStyle = "#660000";\nctx.arc(200+eyeOffsetX, 210, mouthRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//first eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX+eyeBallOffsetX, 120, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//second eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX+eyeBallOffsetX, 120, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\nctx.lineWidth = 8;\n\n//eyebrow 1\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 11/8*Math.PI, 13/8*Math.PI);\nctx.stroke();\n\n//eyebrow 2\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 11/8*Math.PI, 13/8*Math.PI);\nctx.stroke();\n',u(["other"],{name:"Draw face",func:new Function("params",c),source:c}),c="\nlet font = \"92px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\nlet gradientStartY = y - 125;\nlet gradientEndY = y + 75;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, \"#FFFFFF\");\ngrd.addColorStop(0.5, \"#FF0000\");\ngrd.addColorStop(1, \"#000000\");\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:5});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:8});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 01",func:new Function("params",c),source:c}),c="\nlet font = \"48px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\nlet borderColor = \"#3333AA\";\nlet color2 = {r: 32, g: 32, b: 128};\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = \"#FFFFFF\";\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillStyle = borderColor;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.duplicateLayer('_temp_layer_02', '_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\napp.executeSampleScript('3D effect', {canvasIndex: 3, dyStep: 1, numSteps: 5});\napp.executeSampleScript('Set image color', color2);\n\n//app.setCurrentLayer(originalLayerName);\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.duplicateLayer('_temp_layer_04', '_temp_layer_05');\napp.setCurrentLayer('_temp_layer_05');\napp.executeSampleScript('Set image color', {r: 255, g: 255, b: 255});\napp.executeSampleScript('Grow', {amount:3});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_05').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_05');\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 02",func:new Function("params",c),source:c}),c="\nlet font = \"72px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = \"#FF0000\";\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\napp.executeSampleScript('Add double border', {amount:4, lightOffset: 150});\n\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 03",func:new Function("params",c),source:c}),c="\nlet font = \"92px Arial\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = \"#FF0000\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:4});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:12});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 04",func:new Function("params",c),source:c}),c="\nlet font = \"92px Arial\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = \"#FF0000\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:4});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:12});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 05",func:new Function("params",c),source:c}),c="\nlet font = \"64px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\nlet gradientStartY = y - 50;\nlet gradientEndY = y + 25;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, \"#FF0000\");\ngrd.addColorStop(1, \"#FFFF00\");\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:5});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 06",func:new Function("params",c),source:c}),c="\nlet font = \"60px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = \"#FFC800\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.fillStyle = \"#C86400\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:2});\napp.executeSampleScript('3D effect', {canvasIndex:2, numSteps:4, dxStep:1, dyStep:0});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.executeSampleScript('Add color border',{amount:2, r:0, g:0, b:0});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 07",func:new Function("params",c),source:c}),c="\nlet font = \"60px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\nctx.fillStyle = \"#FF0000\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:2});\napp.executeSampleScript('3D effect 3');\n\napp.setCurrentLayer(originalLayerName);\nctx.shadowBlur = 5;\nctx.shadowColor = \"#666666\";\nctx.shadowOffsetX = 2;\nctx.shadowOffsetY = 2;\nctx.drawImage(app.getLayerByName('_temp_layer_001').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_001');\n",u(["logos"],{name:"Logo 08",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = "#FFFFFF";\nlet buttonColor = "#000066";\nlet font = "48px Arial";\n\nctx.strokeStyle = buttonColor;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = "#FFFFFF";\nlet font = "48px Arial";\n\nvar grd = ctx.createLinearGradient(0, 200, 600, 200);\ngrd.addColorStop(0, "#FF0000");\ngrd.addColorStop(1, "#FFAA00");\n\nctx.strokeStyle = grd;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 100;\nlet y = params.x ?? 100;\nlet w = params.x ?? 150;\nlet h = params.x ?? 50;\nlet r = params.x ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.stroke();\n",u(["basic drawing"],{name:"Draw round rect",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 100;\nlet y = params.y ?? 100;\nlet w = params.w ?? 150;\nlet h = params.h ?? 50;\nlet r = params.r ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.fill();\n",u(["basic drawing"],{name:"Fill round rect",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = 10;\nlet textColor = "#FFFFFF";\nlet buttonColor = "#3333CC";\nlet font = "18px Arial";\n\nctx.fillStyle = buttonColor;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button 2",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = 10;\nlet textColor = "#FFFFFF";\nlet font = "18px Arial";\n\nvar grd = ctx.createLinearGradient(0, 200, 600, 200);\ngrd.addColorStop(0, "#FF0000");\ngrd.addColorStop(1, "#FFAA00");\n\nctx.fillStyle = grd;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button 2",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Gradient round button 2', {text: '3D button'});\napp.executeSampleScript('3D effect 3');\n",u(["buttons"],{name:"3D gradient round button",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += Math.random()*amount - amount/2; // R value\n  imageData.data[i + 1] += Math.random()*amount - amount/2; // G value\n  imageData.data[i + 2] += Math.random()*amount - amount/2; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters"],{name:"Noise",func:new Function("params",c),source:c}),c='\nlet color = "#0066aa";\nlet borderColor = "#666666";\nlet borderSize = 1;\nlet lightSize = 2;\nlet x = 200;\nlet y = 200;\nlet w = 20;\nlet h = 20;\n\nlet colorRgb = $util.hexToRgb(color);\nlet lighterColorRgb = $util.rgbAdd(colorRgb, 30);\nlet lightColor = $util.rgbToHex(lighterColorRgb);\n\nctx.fillStyle=borderColor;\nctx.fillRect(x, y, w, h);\nctx.fillStyle=lightColor;\nctx.fillRect(x + borderSize, y + borderSize, w - 2 * borderSize, h - 2 * borderSize);\nctx.fillStyle=color;\nctx.fillRect(x + borderSize + lightSize, y + borderSize + lightSize, w - 2 * borderSize - 2 * lightSize, h - 2 * borderSize - 2 * lightSize);\n',u(["shapes"],{name:"Bordered square",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 200;\nlet startAngle = params.startAngle ?? 0;\nlet endAngle = params.endAngle ?? 2 * Math.PI / 24;\n\nctx.beginPath();\nctx.arc(x, y, size, startAngle, endAngle);\nctx.lineTo(x,y);\nctx.fill();\n",u(["other"],{name:"Fill ray",func:new Function("params",c),source:c}),c='\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 400;\nlet numRays = params.numRays ?? 48;\nlet color1 = "#ff6600";\nlet color2 = "#ffcc00";\n\nlet offset = 2 * Math.PI / numRays;\n\nlet startAngle = 0;\nlet endAngle = startAngle + offset;\n\nctx.save();\n\nctx.beginPath();\nctx.globalAlpha = 0;\nctx.arc(x, y, size, 0, 2 * Math.PI);\nctx.stroke();\nctx.globalAlpha = 1;\nctx.clip();\n\nctx.fillStyle = color1;\nctx.fillRect(0,0,600,400);\nctx.fillStyle = color2;\n\nfor (let i=0; i<numRays; i += 2) {\n  app.executeSampleScript(\'Fill ray\', {x:x, y:y, size:size, startAngle:startAngle, endAngle:endAngle});\n  startAngle += 2 * offset;\n  endAngle += 2 * offset;\n}\n\nctx.restore();\n',u(["other"],{name:"Sunburst effect",func:new Function("params",c),source:c}),c='\nlet text = "Hello World";\nctx.font = "64px Arial";\nlet x = 110;\nlet y = 200;\nlet colors = ["#ff0000","#00ff00","#0000ff"];\n\nfor (let i=0; i<text.length; i++) {\n  let letter = text.substring(i, i+1);\n  ctx.fillStyle = colors[i % colors.length];\n  ctx.fillText(letter, x, y);\n  x += ctx.measureText(letter).width;\n}\n',u(["text","color"],{name:"Letters with different colors",func:new Function("params",c),source:c});n("a15b"),n("d81d"),n("25f0"),n("ac1f"),n("466d"),n("5319");var m={rgbToHex:function(t){return"#"+[t.r,t.g,t.b].map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("")},hexToRgb:function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,a){return"#"+e+e+n+n+a+a})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}));return{r:e[0],g:e[1],b:e[2]}},rgbAdd:function(t,e){return t.r+=e,t.g+=e,t.b+=e,t.r=this.rgbFit(t.r),t.g=this.rgbFit(t.g),t.b=this.rgbFit(t.b),t},rgbFit:function(t){return t=Math.round(t),Math.max(Math.min(t,255),0)},random256:function(){return Math.floor(256*Math.random())},cloneCanvas:function(t){var e=document.createElement("canvas");e.width=600,e.height=400;var n=e.getContext("2d");return n.drawImage(t,0,0),e},getImageDataPosition:function(t,e,n){var a=t.width,r=4*(n*a+e);return r},crop:function(t){for(var e=t.width,n=t.height,a=t.getContext("2d"),r=a.getImageData(0,0,e,n),i=0,s=0,o=e-1,l=n-1,c=0;c<e;c++){var u=!0;i=c;for(var p=0;p<n;p++){var d=this.getImageDataPosition(t,c,p);if(r.data[d+3]>0){u=!1;break}}if(!u)break}for(var m=e-1;m>=0;m--){var f=!0;o=m;for(var h=0;h<n;h++){var x=this.getImageDataPosition(t,m,h);if(r.data[x+3]>0){f=!1;break}}if(!f)break}for(var v=0;v<n;v++){var g=!0;s=v;for(var y=0;y<e;y++){var w=this.getImageDataPosition(t,y,v);if(r.data[w+3]>0){g=!1;break}}if(!g)break}for(var b=n-1;b>=0;b--){var C=!0;l=b;for(var S=0;S<e;S++){var _=this.getImageDataPosition(t,S,b);if(r.data[_+3]>0){C=!1;break}}if(!C)break}var L=o-i,A=l-s,F=document.createElement("canvas");F.width=L,F.height=A;var I=F.getContext("2d");return I.putImageData(r,-i,-s),F}},f=m,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("context")}}},[n("span",{staticClass:"panelTitle"},[t._v("Context")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.context,expression:"$parent.visiblePanels.context"}],staticClass:"panelBody"},[n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.resetContext()}}},[t._v("reset context")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.saveContext()}}},[t._v("Save context")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.restoreContext()}}},[t._v("Restore context")])]),n("table",{staticClass:"smallTable contextPropertiesTable"},[n("tbody",[n("tr",[n("td",[t._v("fillStyle")]),n("td",[n("div",{style:"display:inline-block;width:30px;backgroundColor:"+t.$parent.ctx.fillStyle}),t._v(" "+t._s(t.$parent.ctx.fillStyle)+" ")]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("fillStyle")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.fillStyle,expression:"$parent.ctx.fillStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("fillStyle")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("strokeStyle")]),n("td",[n("div",{style:"display:inline-block;width:30px;backgroundColor:"+t.$parent.ctx.strokeStyle}),t._v(" "+t._s(t.$parent.ctx.strokeStyle)+" ")]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("strokeStyle")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.strokeStyle,expression:"$parent.ctx.strokeStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("strokeStyle")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("font")]),n("td",[t._v(t._s(t.$parent.ctx.font))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("font")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"10px sans-serif"!=t.$parent.ctx.font,expression:"$parent.ctx.font != '10px sans-serif'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("font")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("textAlign")]),n("td",[t._v(t._s(t.$parent.ctx.textAlign))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textAlign")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"start"!=t.$parent.ctx.textAlign,expression:"$parent.ctx.textAlign != 'start'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textAlign")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("globalAlpha")]),n("td",[t._v(t._s(t.$parent.ctx.globalAlpha))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalAlpha")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.globalAlpha,expression:"$parent.ctx.globalAlpha != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalAlpha")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("globalCompositeOperation")]),n("td",[t._v(t._s(t.$parent.ctx.globalCompositeOperation))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalCompositeOperation")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"source-over"!=t.$parent.ctx.globalCompositeOperation,expression:"$parent.ctx.globalCompositeOperation != 'source-over'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalCompositeOperation")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("lineWidth")]),n("td",[t._v(t._s(t.$parent.ctx.lineWidth))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineWidth")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.lineWidth,expression:"$parent.ctx.lineWidth != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineWidth")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("lineCap")]),n("td",[t._v(t._s(t.$parent.ctx.lineCap))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineCap")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"butt"!=t.$parent.ctx.lineCap,expression:"$parent.ctx.lineCap != 'butt'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineCap")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("lineJoin")]),n("td",[t._v(t._s(t.$parent.ctx.lineJoin))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineJoin")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"miter"!=t.$parent.ctx.lineJoin,expression:"$parent.ctx.lineJoin != 'miter'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineJoin")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("miterLimit")]),n("td",[t._v(t._s(t.$parent.ctx.miterLimit))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("miterLimit")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:10!=t.$parent.ctx.miterLimit,expression:"$parent.ctx.miterLimit != 10"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("miterLimit")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("transform")]),n("td",[t._v(t._s(t.$parent.ctx.transform))]),n("td",[n("IconEdit"),n("span",{directives:[{name:"show",rawName:"v-show",value:"matrix(1, 0, 0, 1, 0, 0)"!=t.$parent.ctx.transform,expression:"$parent.ctx.transform != 'matrix(1, 0, 0, 1, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetTransform()}}},[n("IconReset")],1)],1)]),n("tr",[n("td",[t._v("filter")]),n("td",[t._v(t._s(t.$parent.ctx.filter))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("filter")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"none"!=t.$parent.ctx.filter,expression:"$parent.ctx.filter != 'none'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("filter")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowBlur")]),n("td",[t._v(t._s(t.$parent.ctx.shadowBlur))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowBlur")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowBlur,expression:"$parent.ctx.shadowBlur != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowBlur")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowColor")]),n("td",[t._v(t._s(t.$parent.ctx.shadowColor))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowColor")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"rgba(0, 0, 0, 0)"!=t.$parent.ctx.shadowColor,expression:"$parent.ctx.shadowColor != 'rgba(0, 0, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowColor")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowOffsetX")]),n("td",[t._v(t._s(t.$parent.ctx.shadowOffsetX))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetX")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetX,expression:"$parent.ctx.shadowOffsetX != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetX")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowOffsetY")]),n("td",[t._v(t._s(t.$parent.ctx.shadowOffsetY))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetY")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetY,expression:"$parent.ctx.shadowOffsetY != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetY")}}},[n("IconReset")],1)])]),t.$parent.ctx.lineDash?n("tr",[n("td",[t._v("lineDash")]),n("td",[t._v(t._s(t.$parent.ctx.lineDash))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDash")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDash.length,expression:"$parent.ctx.lineDash.length != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDash")}}},[n("IconReset")],1)])]):t._e(),n("tr",[n("td",[t._v("lineDashOffset")]),n("td",[t._v(t._s(t.$parent.ctx.lineDashOffset))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDashOffset")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDashOffset,expression:"$parent.ctx.lineDashOffset != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDashOffset")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("textBaseline")]),n("td",[t._v(t._s(t.$parent.ctx.textBaseline))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textBaseline")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"alphabetic"!=t.$parent.ctx.textBaseline,expression:"$parent.ctx.textBaseline != 'alphabetic'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textBaseline")}}},[n("IconReset")],1)])])])]),n("div",{staticClass:"spacing"})]),n("div",{staticClass:"modal fade",attrs:{id:"modalEditContextProperty",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"fillStyle"==t.currentAttribute,expression:"currentAttribute=='fillStyle'"}]},[t._v("fillStyle: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.fillStyle,expression:"newCtx.fillStyle"}],domProps:{value:t.newCtx.fillStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"fillStyle",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"strokeStyle"==t.currentAttribute,expression:"currentAttribute=='strokeStyle'"}]},[t._v("strokeStyle: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.strokeStyle,expression:"newCtx.strokeStyle"}],domProps:{value:t.newCtx.strokeStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"strokeStyle",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"font"==t.currentAttribute,expression:"currentAttribute=='font'"}]},[t._v("font: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.font,expression:"newCtx.font"}],domProps:{value:t.newCtx.font},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"font",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"globalAlpha"==t.currentAttribute,expression:"currentAttribute=='globalAlpha'"}]},[t._v("globalAlpha: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalAlpha,expression:"newCtx.globalAlpha"}],domProps:{value:t.newCtx.globalAlpha},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"globalAlpha",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineWidth"==t.currentAttribute,expression:"currentAttribute=='lineWidth'"}]},[t._v("lineWidth: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineWidth,expression:"newCtx.lineWidth"}],domProps:{value:t.newCtx.lineWidth},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineWidth",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineCap"==t.currentAttribute,expression:"currentAttribute=='lineCap'"}]},[t._v("lineCap: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineCap,expression:"newCtx.lineCap"}],domProps:{value:t.newCtx.lineCap},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineCap",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineJoin"==t.currentAttribute,expression:"currentAttribute=='lineJoin'"}]},[t._v("lineJoin: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineJoin,expression:"newCtx.lineJoin"}],domProps:{value:t.newCtx.lineJoin},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineJoin",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"filter"==t.currentAttribute,expression:"currentAttribute=='filter'"}]},[t._v("filter: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.filter,expression:"newCtx.filter"}],domProps:{value:t.newCtx.filter},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"filter",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowBlur"==t.currentAttribute,expression:"currentAttribute=='shadowBlur'"}]},[t._v("shadowBlur: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowBlur,expression:"newCtx.shadowBlur"}],domProps:{value:t.newCtx.shadowBlur},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowBlur",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowColor"==t.currentAttribute,expression:"currentAttribute=='shadowColor'"}]},[t._v("shadowColor: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowColor,expression:"newCtx.shadowColor"}],domProps:{value:t.newCtx.shadowColor},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowColor",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetX"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetX'"}]},[t._v("shadowOffsetX: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetX,expression:"newCtx.shadowOffsetX"}],domProps:{value:t.newCtx.shadowOffsetX},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetX",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetY"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetY'"}]},[t._v("shadowOffsetY: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetY,expression:"newCtx.shadowOffsetY"}],domProps:{value:t.newCtx.shadowOffsetY},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetY",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineDash"==t.currentAttribute,expression:"currentAttribute=='lineDash'"}]},[t._v("lineDash: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashStr,expression:"newCtx.lineDashStr"}],domProps:{value:t.newCtx.lineDashStr},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashStr",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineDashOffset"==t.currentAttribute,expression:"currentAttribute=='lineDashOffset'"}]},[t._v("lineDashOffset: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashOffset,expression:"newCtx.lineDashOffset"}],domProps:{value:t.newCtx.lineDashOffset},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashOffset",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"textAlign"==t.currentAttribute,expression:"currentAttribute=='textAlign'"}]},[t._v("textAlign: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textAlign,expression:"newCtx.textAlign"}],domProps:{value:t.newCtx.textAlign},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"textAlign",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"miterLimit"==t.currentAttribute,expression:"currentAttribute=='miterLimit'"}]},[t._v("miterLimit: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.miterLimit,expression:"newCtx.miterLimit"}],domProps:{value:t.newCtx.miterLimit},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"miterLimit",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"textBaseline"==t.currentAttribute,expression:"currentAttribute=='textBaseline'"}]},[t._v("textBaseline: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textBaseline,expression:"newCtx.textBaseline"}],domProps:{value:t.newCtx.textBaseline},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"textBaseline",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"globalCompositeOperation"==t.currentAttribute,expression:"currentAttribute=='globalCompositeOperation'"}]},[t._v("globalCompositeOperation: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalCompositeOperation,expression:"newCtx.globalCompositeOperation"}],domProps:{value:t.newCtx.globalCompositeOperation},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"globalCompositeOperation",e.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateContextAttribute()}}},[t._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit context attribute")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],v=(n("1276"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])}),g=[],y={name:"IconEdit",props:{}},w=y,b=n("2877"),C=Object(b["a"])(w,v,g,!1,null,"34f3c0a0",null),S=C.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",fill:"#0000aa"}})])},L=[],A={name:"IconReset",props:{}},F=A,I=Object(b["a"])(F,_,L,!1,null,"7df9adc1",null),k=I.exports,N={name:"ContextPanel",components:{IconEdit:S,IconReset:k},props:{},data:function(){return{currentAttribute:null,newCtx:{fillStyle:null}}},methods:{editContextAttribute:function(t){this.currentAttribute=t,this.loadContextAttributeValues()},loadContextAttributeValues:function(){this.newCtx.fillStyle=window.ctx.fillStyle,this.newCtx.strokeStyle=window.ctx.strokeStyle,this.newCtx.font=window.ctx.font,this.newCtx.globalAlpha=window.ctx.globalAlpha,this.newCtx.lineWidth=window.ctx.lineWidth,this.newCtx.lineCap=window.ctx.lineCap,this.newCtx.lineJoin=window.ctx.lineJoin,this.newCtx.filter=window.ctx.filter,this.newCtx.shadowBlur=window.ctx.shadowBlur,this.newCtx.shadowColor=window.ctx.shadowColor,this.newCtx.shadowOffsetX=window.ctx.shadowOffsetX,this.newCtx.shadowOffsetY=window.ctx.shadowOffsetY,this.newCtx.lineDashOffset=window.ctx.lineDashOffset,this.newCtx.textAlign=window.ctx.textAlign,this.newCtx.miterLimit=window.ctx.miterLimit,this.newCtx.textBaseline=window.ctx.textBaseline,this.newCtx.globalCompositeOperation=window.ctx.globalCompositeOperation,this.newCtx.lineDashStr="["+window.ctx.getLineDash().toString()+"]"},updateContextAttribute:function(){"fillStyle"==this.currentAttribute?window.ctx.fillStyle=this.newCtx.fillStyle:"strokeStyle"==this.currentAttribute?window.ctx.strokeStyle=this.newCtx.strokeStyle:"font"==this.currentAttribute?window.ctx.font=this.newCtx.font:"globalAlpha"==this.currentAttribute?window.ctx.globalAlpha=this.newCtx.globalAlpha:"lineWidth"==this.currentAttribute?window.ctx.lineWidth=this.newCtx.lineWidth:"lineCap"==this.currentAttribute?window.ctx.lineCap=this.newCtx.lineCap:"lineJoin"==this.currentAttribute?window.ctx.lineJoin=this.newCtx.lineJoin:"filter"==this.currentAttribute?window.ctx.filter=this.newCtx.filter:"shadowBlur"==this.currentAttribute?window.ctx.shadowBlur=this.newCtx.shadowBlur:"shadowColor"==this.currentAttribute?window.ctx.shadowColor=this.newCtx.shadowColor:"shadowOffsetX"==this.currentAttribute?window.ctx.shadowOffsetX=this.newCtx.shadowOffsetX:"shadowOffsetY"==this.currentAttribute?window.ctx.shadowOffsetY=this.newCtx.shadowOffsetY:"lineDashOffset"==this.currentAttribute?window.ctx.lineDashOffset=this.newCtx.lineDashOffset:"textAlign"==this.currentAttribute?window.ctx.textAlign=this.newCtx.textAlign:"miterLimit"==this.currentAttribute?window.ctx.miterLimit=this.newCtx.miterLimit:"textBaseline"==this.currentAttribute?window.ctx.textBaseline=this.newCtx.textBaseline:"globalCompositeOperation"==this.currentAttribute?window.ctx.globalCompositeOperation=this.newCtx.globalCompositeOperation:"lineDash"==this.currentAttribute&&window.ctx.setLineDash(this.newCtx.lineDashStr.replaceAll("[","").replaceAll("]","").split(",")),this.$parent.updateCurrentContextDetails()}}},D=N,P=Object(b["a"])(D,h,x,!1,null,"d45ab252",null),B=P.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}})])},E=[],O={name:"IconUp",props:{}},T=O,$=Object(b["a"])(T,R,E,!1,null,"fc87067a",null),M=$.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}})])},G=[],W={name:"IconDown",props:{}},X=W,Y=Object(b["a"])(X,U,G,!1,null,"14a1ec91",null),z=Y.exports,V={name:"Main",components:{ContextPanel:B,IconUp:M,IconDown:z},methods:{loadFont:function(){this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var t=this.fontPanelForm.fontURL,e="url(".concat(t,")"),n=new FontFace(this.fontPanelForm.fontName,e),a=this;n.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t};a.fonts.push(e)}))},onFontUpload:function(t){var e=t.target.files[0],n=URL.createObjectURL(e),a="url(".concat(n,")");this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var r=new FontFace(this.fontPanelForm.fontName,a),i=this;r.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t};i.fonts.push(e)}))},setCurrentTool:function(t){this.currentTool=t,"pencil"==t?(window.ctx.lineWidth=3,window.ctx.filter="none"):"brush"==t&&(window.ctx.lineWidth=20,window.ctx.filter="blur(3px)"),this.updateCurrentContextDetails()},onCanvasMouseUp:function(t){this.isMouseDown=!1,"line"==this.currentTool?(this.drawLine(),this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()):"rectangle"==this.currentTool?(this.drawRect(),this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()):"circle"==this.currentTool?(this.drawCircle(),this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()):"ellipse"==this.currentTool&&(this.drawEllipse(),this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseDown:function(t){this.isMouseDown=!0,this.updateMouseDownPosition(t),"pencil"!=this.currentTool&&"brush"!=this.currentTool||(this.paintBrush(),this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseMove:function(t){this.updateMousePosition(t),this.isMouseDown&&("pencil"!=this.currentTool&&"brush"!=this.currentTool||this.paintBrush()),this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()},drawLine:function(){var t=window.ctx;t.beginPath(),t.moveTo(this.mouseDownPosition.x,this.mouseDownPosition.y),t.lineTo(this.mousePosition.x,this.mousePosition.y),t.stroke()},drawRect:function(){var t=window.ctx;t.beginPath(),t.rect(this.mouseDownPosition.x,this.mouseDownPosition.y,this.mousePosition.x-this.mouseDownPosition.x,this.mousePosition.y-this.mouseDownPosition.y),t.stroke()},drawCircle:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,n=Math.abs(this.mousePosition.x-this.mouseDownPosition.x),a=Math.abs(this.mousePosition.y-this.mouseDownPosition.y),r=Math.min(n,a)/2,i=window.ctx;i.beginPath(),i.arc(t,e,r,0,2*Math.PI),i.stroke()},drawEllipse:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,n=Math.abs(this.mousePosition.x-this.mouseDownPosition.x)/2,a=Math.abs(this.mousePosition.y-this.mouseDownPosition.y)/2,r=0,i=0,s=2*Math.PI,o=!1,l=window.ctx;l.beginPath(),l.ellipse(t,e,n,a,r,i,s,o),l.stroke()},paintBrush:function(){ctx.save(),ctx.beginPath(),ctx.lineCap="round",ctx.moveTo(this.previousMousePosition.x,this.previousMousePosition.y),ctx.lineTo(this.mousePosition.x,this.mousePosition.y),ctx.stroke(),ctx.restore()},updateMousePosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer")),this.previousMousePosition.x=this.mousePosition.x,this.previousMousePosition.y=this.mousePosition.y,this.mousePosition.x=t.clientX-e.offsetLeft,this.mousePosition.y=t.clientY-e.offsetTop},updateMouseDownPosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer")),this.mouseDownPosition.x=t.clientX-e.offsetLeft,this.mouseDownPosition.y=t.clientY-e.offsetTop},editGlobalVariable:function(t){var e=prompt("New value",""),n=prompt("New type","number");"number"==n&&(e=Number(e)),this.globalVariables[t]=e,this.$forceUpdate()},deleteGlobalVariable:function(t){delete this.globalVariables[t],this.$forceUpdate()},popupAddGlobalVariable:function(){var t=prompt("Variable name",""),e=prompt("Type","number"),n=prompt("Value","");"number"==e&&(n=Number(n)),this.addGlobalVariable(t,n),this.$forceUpdate()},addGlobalVariable:function(t,e){this.globalVariables[t]=e},combineLayers:function(t,e){for(var n=this.getLayerByName(t),a=n.canvas.getContext("2d"),r=a.getImageData(0,0,600,400),i=this.getLayerByName(e),s=i.canvas.getContext("2d"),o=s.getImageData(0,0,600,400),l=0;l<r.data.length;l+=4)r.data[l+3]=r.data[l+3]*(o.data[l+3]/255);a.putImageData(r,0,0)},updateCanvasAllLayers:function(){var t=document.getElementById("canvasAllLayers").getContext("2d");t.save(),t.clearRect(0,0,600,400),this.drawTiledBackground(t),this.drawAllLayers(t),t.restore()},updateCurrentLayerCanvas:function(){if(null!=this.currentLayer){var t=document.getElementById("canvasCurrentLayer").getContext("2d");this.drawTiledBackground(t),t.save(),t.globalAlpha=this.currentLayer.alpha,t.drawImage(this.currentLayer.canvas,0,0),t.restore()}},clearCurrentLayer:function(){ctx.clearRect(0,0,600,400),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},clearFilters:function(){ctx.filter="none",this.updateCurrentContextDetails()},saveContext:function(){ctx.save()},restoreContext:function(){ctx.restore(),this.updateCurrentContextDetails()},clip:function(){ctx.clip()},resetTransform:function(){ctx.setTransform(1,0,0,1,0,0),this.updateCurrentContextDetails()},resetContextAttribute:function(t){var e=window.ctx;"fillStyle"==t?e.fillStyle="#000000":"strokeStyle"==t?e.strokeStyle="#000000":"font"==t?e.font="10px sans-serif":"globalAlpha"==t?e.globalAlpha="1":"lineWidth"==t?e.lineWidth="1":"lineCap"==t?e.lineCap="butt":"lineJoin"==t?e.lineJoin="miter":"filter"==t?e.filter="none":"shadowBlur"==t?e.shadowBlur="0":"shadowColor"==t?e.shadowColor="rgba(0, 0, 0, 0)":"shadowOffsetX"==t?e.shadowOffsetX="0":"shadowOffsetY"==t?e.shadowOffsetY="0":"lineDashOffset"==t?e.lineDashOffset=0:"textAlign"==t?e.textAlign="start":"miterLimit"==t?e.miterLimit=10:"textBaseline"==t?e.textBaseline="alphabetic":"globalCompositeOperation"==t?e.globalCompositeOperation="source-over":"lineDash"==t&&e.setLineDash([]),this.updateCurrentContextDetails()},editLayer:function(t){var e=this.getLayerByName(t);e.name=prompt("Layer name","");var n=prompt("Layer alpha",e.alpha);e.alpha=parseFloat(n),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},buildBackgroundCanvas:function(){var t=document.createElement("canvas");t.width=600,t.height=400;var e=t.getContext("2d");e.clearRect(0,0,600,400);for(var n=!0,a=!0,r=10,i=0;i<600;i+=r){a=n;for(var s=0;s<600;s+=r)e.fillStyle=a?"#cccccc":"#eeeeee",e.fillRect(i,s,r,r),a=!a;n=!n}return t},addLayerWithName:function(t){var e=document.createElement("canvas");e.width=600,e.height=400,e.getContext("2d").clearRect(0,0,600,400);var n={name:t,alpha:1,canvas:e,visible:!0};this.canvasLayers.push(n)},addLayer:function(){var t=prompt("Layer name","");this.addLayerWithName(t)},duplicateCurrentLayer:function(){this.duplicateLayer(this.currentLayer)},duplicateLayer:function(t,e){null==e&&(e=prompt("New layer name","")),"string"==typeof t&&(t=this.getLayerByName(t));var n=document.createElement("canvas");n.width=600,n.height=400;var a=n.getContext("2d");a.drawImage(t.canvas,0,0);var r={name:e,alpha:t.alpha,canvas:n,visible:t.visible};this.canvasLayers.push(r)},deleteLayerByName:function(t){this.deleteLayer(this.getLayerByName(t))},deleteLayer:function(t){var e=this.getLayerIndex(t);this.canvasLayers.splice(e,1),t==this.currentLayer&&this.canvasLayers.length>0&&this.setCurrentLayer(this.canvasLayers[0].name),this.updateCanvasAllLayers()},renderLayerToContext:function(t,e){e.save(),e.globalAlpha=t.alpha,e.drawImage(t.canvas,0,0),e.restore()},setCurrentLayer:function(t){var e=this.getLayerByName(t);null!=e&&(this.currentLayer=e,window.ctx=e.canvas.getContext("2d"),this.updateCurrentContextDetails()),this.updateCurrentLayerCanvas()},getLayerByName:function(t){for(var e=0;e<this.canvasLayers.length;e++){var n=this.canvasLayers[e];if(n.name==t)return n}return null},getCurrentLayerIndex:function(){for(var t=0;t<this.canvasLayers.length;t++){var e=this.canvasLayers[t];if(e==this.currentLayer)return t}return null},getLayerIndex:function(t){for(var e=0;e<this.canvasLayers.length;e++){var n=this.canvasLayers[e];if(n==t)return e}return null},getCurrentLayer:function(){return this.currentLayer},getCurrentCanvas:function(){return this.getCurrentLayer().canvas},getCurrentContext:function(){return this.getCurrentCanvas().getContext("2d")},updateCurrentContextDetails:function(){var t=null;null!=this.currentLayer&&(t=this.currentLayer.canvas,this.ctx.fillStyle=t.getContext("2d").fillStyle,this.ctx.strokeStyle=t.getContext("2d").strokeStyle,this.ctx.lineWidth=t.getContext("2d").lineWidth,this.ctx.lineCap=t.getContext("2d").lineCap,this.ctx.lineJoin=t.getContext("2d").lineJoin,this.ctx.miterLimit=t.getContext("2d").miterLimit,this.ctx.font=t.getContext("2d").font,this.ctx.textAlign=t.getContext("2d").textAlign,this.ctx.globalAlpha=t.getContext("2d").globalAlpha,this.ctx.globalCompositeOperation=t.getContext("2d").globalCompositeOperation,this.ctx.transform=t.getContext("2d").getTransform(),this.ctx.lineDash=t.getContext("2d").getLineDash(),this.ctx.filter=t.getContext("2d").filter,this.ctx.shadowBlur=t.getContext("2d").shadowBlur,this.ctx.shadowColor=t.getContext("2d").shadowColor,this.ctx.shadowOffsetX=t.getContext("2d").shadowOffsetX,this.ctx.shadowOffsetY=t.getContext("2d").shadowOffsetY,this.ctx.lineDashOffset=t.getContext("2d").lineDashOffset,this.ctx.textBaseline=t.getContext("2d").textBaseline)},executeSavedScript:function(t,e){for(var n=0;n<this.savedScripts.length;n++)if(this.savedScripts[n].name==t){null==e&&(e={});var a=this.savedScripts[n].func(e);return this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),a}},executeSampleScript:function(t,e){for(var n=0;n<this.allSampleScripts.length;n++)this.allSampleScripts[n].name==t&&(null==e&&(e={}),this.allSampleScripts[n].func(e));this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},loadSavedScript:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t)return document.getElementById("sourceCode").value=this.savedScripts[e].source,void(this.currentScriptName=t)},loadSampleScript:function(t){this.currentScriptName=null;for(var e=0;e<this.sampleScripts.length;e++)this.sampleScripts[e].name==t&&(document.getElementById("sourceCode").value=this.sampleScripts[e].source)},selectSampleScript:function(t){for(var e=0;e<this.sampleScripts.length;e++)this.sampleScripts[e].name==t&&(this.selectedSampleScript=this.sampleScripts[e])},unselectSampleScript:function(){this.selectedSampleScript=null},copySampleSourceCode:function(){var t=document.createRange();t.selectNode(document.getElementById("selectedSampleScriptSourceCode")),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()},executeScript:function(){var t=document.getElementById("sourceCode").value;this.dinamicFunction=new Function("params",t);var e={};this.dinamicFunction(e),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},newScript:function(){this.currentScriptName=null,document.getElementById("sourceCode").value=""},saveScriptAs:function(){this.currentScriptName=prompt("Script name",""),this.saveScript()},saveScript:function(){null!=this.currentScriptName&&""!=this.currentScriptName||(this.currentScriptName=prompt("Script name",""));for(var t=document.getElementById("sourceCode").value,e={name:this.currentScriptName,func:new Function("params",t),source:t},n=0;n<this.savedScripts.length;n++)if(this.savedScripts[n].name==this.currentScriptName)return void(this.savedScripts[n]=e);this.savedScripts.push(e)},moveLayerUp:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t-1),this.updateCanvasAllLayers()},moveLayerDown:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t+1),this.updateCanvasAllLayers()},arrayMove:function(t,e,n){var a=t[e];t.splice(e,1),t.splice(n,0,a)},saveScriptsToLocalStorage:function(){localStorage.savedScripts=JSON.stringify(this.savedScripts)},loadScriptsFromLocalStorage:function(){this.savedScripts=JSON.parse(localStorage.savedScripts);for(var t=0;t<this.savedScripts.length;t++){var e=this.savedScripts[t];e.func=new Function("params",e.source)}},filterSampleScripts:function(){this.sampleScripts=p(this.sampleScriptsFilter.type,this.sampleScriptsFilter.text),this.numFilteredSampleScripts=this.sampleScripts.length},clearSearch:function(){this.sampleScriptsFilter.type="",this.sampleScriptsFilter.text="",this.filterSampleScripts(),this.numFilteredSampleScripts=this.sampleScripts.length},resetContext:function(){ctx.fillStyle="#000000",ctx.strokeStyle="#000000",ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.font="10px sans-serif",ctx.textAlign="start",ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.filter="none",ctx.shadowBlur=0,ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineDashOffset=0,ctx.textBaseline="alphabetic",ctx.setTransform(1,0,0,1,0,0),ctx.setLineDash([]),this.updateCurrentContextDetails()},fillScreenWhite:function(){this.executeSampleScript("Fill screen white")},fillScreenBlack:function(){this.executeSampleScript("Fill screen black")},onImageUpload:function(t){var e=t.target.files[0],n={filename:e.name,url:URL.createObjectURL(e)};this.images.push(n)},repaintCurrentLayer:function(){this.executeSampleScript("Repaint")},togglePanelVisibility:function(t){this.visiblePanels[t]=!this.visiblePanels[t]},log:function(t){this.logs.push(t)},clearLogs:function(){this.logs=[]},drawImageToCurrentLayer:function(t){var e=new Image;e.src=t,ctx.drawImage(e,0,0),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},exportCanvasAllLayers:function(){var t=document.createElement("canvas");t.width=600,t.height=400;var e=t.getContext("2d");this.drawAllLayers(e);var n=t.toDataURL("image/png");window.open(n)},exportCanvasAllLayersCropped:function(){var t=document.createElement("canvas");t.width=600,t.height=400;var e=t.getContext("2d");this.drawAllLayers(e);var n=f.crop(t),a=n.toDataURL("image/png");window.open(a)},drawAllLayers:function(t){for(var e=this.canvasLayers.length-1;e>=0;e--){var n=this.canvasLayers[e];n.visible&&(t.save(),t.globalAlpha=n.alpha,t.drawImage(n.canvas,0,0),t.restore())}},drawTiledBackground:function(t){t.save(),t.globalAlpha=1,t.drawImage(this.backgroundCanvas,0,0),t.restore()}},data:function(){return{currentScriptName:null,dinamicFunction:new Function("params",""),savedScripts:[],sampleScripts:[],allSampleScripts:[],numSampleScripts:null,numFilteredSampleScripts:null,selectedSampleScript:null,canvasLayers:[],backgroundCanvas:null,globalVariables:{},viewType:"MAIN_CANVAS",currentLayer:null,ctx:{fillStyle:null,strokeStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,font:null,textAlign:null,globalAlpha:null,globalCompositeOperation:null,transform:null},sampleScriptsFilter:{type:"",text:""},sampleScriptTypes:[],images:[],fonts:[],visiblePanels:{layers:!0,context:!1,images:!1,globalVariables:!1,fonts:!1,logs:!1},logs:[],mousePosition:{x:0,y:0},previousMousePosition:{x:0,y:0},mouseDownPosition:{x:0,y:0},isMouseDown:!1,currentTool:"pencil",fontPanelForm:{fontName:"",fontURL:""}}},mounted:function(){window.app=this,window.$util=f,this.allSampleScripts=p(),this.sampleScripts=p(),this.sampleScriptTypes=d(),this.numSampleScripts=this.allSampleScripts.length,this.numFilteredSampleScripts=this.allSampleScripts.length,this.backgroundCanvas=this.buildBackgroundCanvas();var t="layer01";this.addLayerWithName(t),this.setCurrentLayer(t),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),document.getElementById("canvasAllLayers").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasAllLayers").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasAllLayers").addEventListener("mousedown",this.onCanvasMouseDown),document.getElementById("canvasCurrentLayer").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasCurrentLayer").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasCurrentLayer").addEventListener("mousedown",this.onCanvasMouseDown)}},j=V,H=(n("22de"),Object(b["a"])(j,a,r,!1,null,null,null));e["default"]=H.exports},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("d039"),i=n("b622"),s=n("9112"),o=i("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,u){var m=i(t),f=!r((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),h=f&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return e=!0,null},n[m](""),!e}));if(!f||!h||"replace"===t&&(!l||!c||p)||"split"===t&&!d){var x=/./[m],v=n(m,""[t],(function(t,e,n,a,r){return e.exec===RegExp.prototype.exec?f&&!r?{done:!0,value:x.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),g=v[0],y=v[1];a(String.prototype,t,g),a(RegExp.prototype,m,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}u&&s(RegExp.prototype[m],"sham",!0)}},d81d:function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").map,i=n("1dde"),s=i("map");a({target:"Array",proto:!0,forced:!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},f183:function(t,e,n){var a=n("d012"),r=n("861d"),i=n("5135"),s=n("9bf2").f,o=n("90e3"),l=n("bb2f"),c=o("meta"),u=0,p=Object.isExtensible||function(){return!0},d=function(t){s(t,c,{value:{objectID:"O"+ ++u,weakData:{}}})},m=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,c)){if(!p(t))return"F";if(!e)return"E";d(t)}return t[c].objectID},f=function(t,e){if(!i(t,c)){if(!p(t))return!0;if(!e)return!1;d(t)}return t[c].weakData},h=function(t){return l&&x.REQUIRED&&p(t)&&!i(t,c)&&d(t),t},x=t.exports={REQUIRED:!1,fastKey:m,getWeakData:f,onFreeze:h};a[c]=!0}}]);
//# sourceMappingURL=main.d4899673.js.map