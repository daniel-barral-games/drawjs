(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"0cb2":function(t,e,a){var n=a("7b0b"),r=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,l,c,u){var d=a+t.length,p=l.length,h=o;return void 0!==c&&(c=n(c),h=s),i.call(u,h,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(d);case"<":s=c[i.slice(1,-1)];break;default:var o=+i;if(0===o)return n;if(o>p){var u=r(o/10);return 0===u?n:u<=p?void 0===l[u-1]?i.charAt(1):l[u-1]+i.charAt(1):n}s=l[o-1]}return void 0===s?"":s}))}},"0d3b":function(t,e,a){var n=a("d039"),r=a("b622"),i=a("c430"),s=r("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,a="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),a+=n+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},1276:function(t,e,a){"use strict";var n=a("d784"),r=a("44e7"),i=a("825a"),s=a("1d80"),o=a("4840"),l=a("8aa5"),c=a("50c4"),u=a("14c3"),d=a("9263"),p=a("9f7f"),h=p.UNSUPPORTED_Y,m=[].push,v=Math.min,f=4294967295;n("split",2,(function(t,e,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var n=String(s(this)),i=void 0===a?f:a>>>0;if(0===i)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,i);var o,l,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,p+"g");while(o=d.call(v,n)){if(l=v.lastIndex,l>h&&(u.push(n.slice(h,o.index)),o.length>1&&o.index<n.length&&m.apply(u,o.slice(1)),c=o[0].length,h=l,u.length>=i))break;v.lastIndex===o.index&&v.lastIndex++}return h===n.length?!c&&v.test("")||u.push(""):u.push(n.slice(h)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var r=s(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r,a):n.call(String(r),e,a)},function(t,r){var s=a(n,t,this,r,n!==e);if(s.done)return s.value;var d=i(t),p=String(this),m=o(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"g":"y"),w=new m(h?"^(?:"+d.source+")":d,b),y=void 0===r?f:r>>>0;if(0===y)return[];if(0===p.length)return null===u(w,p)?[p]:[];var x=0,C=0,_=[];while(C<p.length){w.lastIndex=h?0:C;var S,P=u(w,h?p.slice(C):p);if(null===P||(S=v(c(w.lastIndex+(h?C:0)),p.length))===x)C=l(p,C,g);else{if(_.push(p.slice(x,C)),_.length===y)return _;for(var k=1;k<=P.length-1;k++)if(_.push(P[k]),_.length===y)return _;C=x=S}}return _.push(p.slice(x)),_}]}),h)},"14c3":function(t,e,a){var n=a("c6b6"),r=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),i=a("2d00"),s=r("species");t.exports=function(t){return i>=51||!n((function(){var e=[],a=e.constructor={};return a[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"21a6":function(t,e,a){(function(a){var n,r,i;(function(a,s){r=[],n=s,i="function"===typeof n?n.apply(e,r):n,void 0===i||(t.exports=i)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,e,a){var o=s.URL||s.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):r(l.href)?n(t,e,a):i(l,l.target="_blank")):(l.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,s){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),a);else if(r(t))n(t,a,s);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){i(o)}))}}:function(t,e,a,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,a);var i="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var d=s.URL||s.webkitURL,p=d.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});s.saveAs=l.saveAs=l,t.exports=l}))}).call(this,a("c8ba"))},"22de":function(t,e,a){"use strict";a("8319")},"25f0":function(t,e,a){"use strict";var n=a("6eeb"),r=a("825a"),i=a("d039"),s=a("ad6d"),o="toString",l=RegExp.prototype,c=l[o],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=o;(u||d)&&n(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),a=t.flags,n=String(void 0===a&&t instanceof RegExp&&!("flags"in l)?s.call(t):a);return"/"+e+"/"+n}),{unsafe:!0})},"2b3d":function(t,e,a){"use strict";a("3ca3");var n,r=a("23e7"),i=a("83ab"),s=a("0d3b"),o=a("da84"),l=a("37e8"),c=a("6eeb"),u=a("19aa"),d=a("5135"),p=a("60da"),h=a("4df4"),m=a("6547").codeAt,v=a("5fb2"),f=a("d44e"),g=a("9861"),b=a("69f3"),w=o.URL,y=g.URLSearchParams,x=g.getState,C=b.set,_=b.getterFor("URL"),S=Math.floor,P=Math.pow,k="Invalid authority",E="Invalid scheme",$="Invalid host",L="Invalid port",A=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,F=/\d/,T=/^(0x|0X)/,N=/^[0-7]+$/,M=/^\d+$/,D=/^[\dA-Fa-f]+$/,R=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,O=/[\u0000\t\u000A\u000D #/:?@[\\]]/,W=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\t\u000A\u000D]/g,U=function(t,e){var a,n,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return $;if(a=H(e.slice(1,-1)),!a)return $;t.host=a}else if(Z(t)){if(e=v(e),R.test(e))return $;if(a=j(e),null===a)return $;t.host=a}else{if(O.test(e))return $;for(a="",n=h(e),r=0;r<n.length;r++)a+=J(n[r],q);t.host=a}},j=function(t){var e,a,n,r,i,s,o,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),e=l.length,e>4)return t;for(a=[],n=0;n<e;n++){if(r=l[n],""==r)return t;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=T.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)s=0;else{if(!(10==i?M:8==i?N:D).test(r))return t;s=parseInt(r,i)}a.push(s)}for(n=0;n<e;n++)if(s=a[n],n==e-1){if(s>=P(256,5-e))return null}else if(s>255)return null;for(o=a.pop(),n=0;n<a.length;n++)o+=a[n]*P(256,3-n);return o},H=function(t){var e,a,n,r,i,s,o,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return t.charAt(d)};if(":"==p()){if(":"!=t.charAt(1))return;d+=2,c++,u=c}while(p()){if(8==c)return;if(":"!=p()){e=a=0;while(a<4&&D.test(p()))e=16*e+parseInt(p(),16),d++,a++;if("."==p()){if(0==a)return;if(d-=a,c>6)return;n=0;while(p()){if(r=null,n>0){if(!("."==p()&&n<4))return;d++}if(!F.test(p()))return;while(F.test(p())){if(i=parseInt(p(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;d++}l[c]=256*l[c]+r,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=e}else{if(null!==u)return;d++,c++,u=c}}if(null!==u){s=c-u,c=7;while(0!=c&&s>0)o=l[c],l[c--]=l[u+s-1],l[u+--s]=o}else if(8!=c)return;return l},V=function(t){for(var e=null,a=1,n=null,r=0,i=0;i<8;i++)0!==t[i]?(r>a&&(e=n,a=r),n=null,r=0):(null===n&&(n=i),++r);return r>a&&(e=n,a=r),e},G=function(t){var e,a,n,r;if("number"==typeof t){for(e=[],a=0;a<4;a++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=V(t),a=0;a<8;a++)r&&0===t[a]||(r&&(r=!1),n===a?(e+=a?":":"::",r=!0):(e+=t[a].toString(16),a<7&&(e+=":")));return"["+e+"]"}return t},q={},z=p({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),X=p({},z,{"#":1,"?":1,"{":1,"}":1}),Y=p({},X,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(t,e){var a=m(t,0);return a>32&&a<127&&!d(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(t){return d(K,t.scheme)},Q=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var a;return 2==t.length&&A.test(t.charAt(0))&&(":"==(a=t.charAt(1))||!e&&"|"==a)},at=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},nt=function(t){var e=t.path,a=e.length;!a||"file"==t.scheme&&1==a&&et(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},it=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},st={},ot={},lt={},ct={},ut={},dt={},pt={},ht={},mt={},vt={},ft={},gt={},bt={},wt={},yt={},xt={},Ct={},_t={},St={},Pt={},kt={},Et=function(t,e,a,r){var i,s,o,l,c=a||st,u=0,p="",m=!1,v=!1,f=!1;a||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(W,"")),e=e.replace(B,""),i=h(e);while(u<=i.length){switch(s=i[u],c){case st:if(!s||!A.test(s)){if(a)return E;c=lt;continue}p+=s.toLowerCase(),c=ot;break;case ot:if(s&&(I.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(a)return E;p="",c=lt,u=0;continue}if(a&&(Z(t)!=d(K,p)||"file"==p&&(Q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,a)return void(Z(t)&&K[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=wt:Z(t)&&r&&r.scheme==t.scheme?c=ct:Z(t)?c=ht:"/"==i[u+1]?(c=ut,u++):(t.cannotBeABaseURL=!0,t.path.push(""),c=St)}break;case lt:if(!r||r.cannotBeABaseURL&&"#"!=s)return E;if(r.cannotBeABaseURL&&"#"==s){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=kt;break}c="file"==r.scheme?wt:dt;continue;case ct:if("/"!=s||"/"!=i[u+1]){c=dt;continue}c=mt,u++;break;case ut:if("/"==s){c=vt;break}c=_t;continue;case dt:if(t.scheme=r.scheme,s==n)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==s||"\\"==s&&Z(t))c=pt;else if("?"==s)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=Pt;else{if("#"!=s){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=_t;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=kt}break;case pt:if(!Z(t)||"/"!=s&&"\\"!=s){if("/"!=s){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=_t;continue}c=vt}else c=mt;break;case ht:if(c=mt,"/"!=s||"/"!=p.charAt(u+1))continue;u++;break;case mt:if("/"!=s&&"\\"!=s){c=vt;continue}break;case vt:if("@"==s){m&&(p="%40"+p),m=!0,o=h(p);for(var g=0;g<o.length;g++){var b=o[g];if(":"!=b||f){var w=J(b,Y);f?t.password+=w:t.username+=w}else f=!0}p=""}else if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&Z(t)){if(m&&""==p)return k;u-=h(p).length+1,p="",c=ft}else p+=s;break;case ft:case gt:if(a&&"file"==t.scheme){c=xt;continue}if(":"!=s||v){if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&Z(t)){if(Z(t)&&""==p)return $;if(a&&""==p&&(Q(t)||null!==t.port))return;if(l=U(t,p),l)return l;if(p="",c=Ct,a)return;continue}"["==s?v=!0:"]"==s&&(v=!1),p+=s}else{if(""==p)return $;if(l=U(t,p),l)return l;if(p="",c=bt,a==gt)return}break;case bt:if(!F.test(s)){if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&Z(t)||a){if(""!=p){var y=parseInt(p,10);if(y>65535)return L;t.port=Z(t)&&y===K[t.scheme]?null:y,p=""}if(a)return;c=Ct;continue}return L}p+=s;break;case wt:if(t.scheme="file","/"==s||"\\"==s)c=yt;else{if(!r||"file"!=r.scheme){c=_t;continue}if(s==n)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==s)t.host=r.host,t.path=r.path.slice(),t.query="",c=Pt;else{if("#"!=s){at(i.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),nt(t)),c=_t;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=kt}}break;case yt:if("/"==s||"\\"==s){c=xt;break}r&&"file"==r.scheme&&!at(i.slice(u).join(""))&&(et(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=_t;continue;case xt:if(s==n||"/"==s||"\\"==s||"?"==s||"#"==s){if(!a&&et(p))c=_t;else if(""==p){if(t.host="",a)return;c=Ct}else{if(l=U(t,p),l)return l;if("localhost"==t.host&&(t.host=""),a)return;p="",c=Ct}continue}p+=s;break;case Ct:if(Z(t)){if(c=_t,"/"!=s&&"\\"!=s)continue}else if(a||"?"!=s)if(a||"#"!=s){if(s!=n&&(c=_t,"/"!=s))continue}else t.fragment="",c=kt;else t.query="",c=Pt;break;case _t:if(s==n||"/"==s||"\\"==s&&Z(t)||!a&&("?"==s||"#"==s)){if(it(p)?(nt(t),"/"==s||"\\"==s&&Z(t)||t.path.push("")):rt(p)?"/"==s||"\\"==s&&Z(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(s==n||"?"==s||"#"==s))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==s?(t.query="",c=Pt):"#"==s&&(t.fragment="",c=kt)}else p+=J(s,X);break;case St:"?"==s?(t.query="",c=Pt):"#"==s?(t.fragment="",c=kt):s!=n&&(t.path[0]+=J(s,q));break;case Pt:a||"#"!=s?s!=n&&("'"==s&&Z(t)?t.query+="%27":t.query+="#"==s?"%23":J(s,q)):(t.fragment="",c=kt);break;case kt:s!=n&&(t.fragment+=J(s,z));break}u++}},$t=function(t){var e,a,n=u(this,$t,"URL"),r=arguments.length>1?arguments[1]:void 0,s=String(t),o=C(n,{type:"URL"});if(void 0!==r)if(r instanceof $t)e=_(r);else if(a=Et(e={},String(r)),a)throw TypeError(a);if(a=Et(o,s,null,e),a)throw TypeError(a);var l=o.searchParams=new y,c=x(l);c.updateSearchParams(o.query),c.updateURL=function(){o.query=String(l)||null},i||(n.href=At.call(n),n.origin=It.call(n),n.protocol=Ft.call(n),n.username=Tt.call(n),n.password=Nt.call(n),n.host=Mt.call(n),n.hostname=Dt.call(n),n.port=Rt.call(n),n.pathname=Ot.call(n),n.search=Wt.call(n),n.searchParams=Bt.call(n),n.hash=Ut.call(n))},Lt=$t.prototype,At=function(){var t=_(this),e=t.scheme,a=t.username,n=t.password,r=t.host,i=t.port,s=t.path,o=t.query,l=t.fragment,c=e+":";return null!==r?(c+="//",Q(t)&&(c+=a+(n?":"+n:"")+"@"),c+=G(r),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==o&&(c+="?"+o),null!==l&&(c+="#"+l),c},It=function(){var t=_(this),e=t.scheme,a=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&Z(t)?e+"://"+G(t.host)+(null!==a?":"+a:""):"null"},Ft=function(){return _(this).scheme+":"},Tt=function(){return _(this).username},Nt=function(){return _(this).password},Mt=function(){var t=_(this),e=t.host,a=t.port;return null===e?"":null===a?G(e):G(e)+":"+a},Dt=function(){var t=_(this).host;return null===t?"":G(t)},Rt=function(){var t=_(this).port;return null===t?"":String(t)},Ot=function(){var t=_(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Wt=function(){var t=_(this).query;return t?"?"+t:""},Bt=function(){return _(this).searchParams},Ut=function(){var t=_(this).fragment;return t?"#"+t:""},jt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&l(Lt,{href:jt(At,(function(t){var e=_(this),a=String(t),n=Et(e,a);if(n)throw TypeError(n);x(e.searchParams).updateSearchParams(e.query)})),origin:jt(It),protocol:jt(Ft,(function(t){var e=_(this);Et(e,String(t)+":",st)})),username:jt(Tt,(function(t){var e=_(this),a=h(String(t));if(!tt(e)){e.username="";for(var n=0;n<a.length;n++)e.username+=J(a[n],Y)}})),password:jt(Nt,(function(t){var e=_(this),a=h(String(t));if(!tt(e)){e.password="";for(var n=0;n<a.length;n++)e.password+=J(a[n],Y)}})),host:jt(Mt,(function(t){var e=_(this);e.cannotBeABaseURL||Et(e,String(t),ft)})),hostname:jt(Dt,(function(t){var e=_(this);e.cannotBeABaseURL||Et(e,String(t),gt)})),port:jt(Rt,(function(t){var e=_(this);tt(e)||(t=String(t),""==t?e.port=null:Et(e,t,bt))})),pathname:jt(Ot,(function(t){var e=_(this);e.cannotBeABaseURL||(e.path=[],Et(e,t+"",Ct))})),search:jt(Wt,(function(t){var e=_(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Et(e,t,Pt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:jt(Bt),hash:jt(Ut,(function(t){var e=_(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Et(e,t,kt)):e.fragment=null}))}),c(Lt,"toJSON",(function(){return At.call(this)}),{enumerable:!0}),c(Lt,"toString",(function(){return At.call(this)}),{enumerable:!0}),w){var Ht=w.createObjectURL,Vt=w.revokeObjectURL;Ht&&c($t,"createObjectURL",(function(t){return Ht.apply(w,arguments)})),Vt&&c($t,"revokeObjectURL",(function(t){return Vt.apply(w,arguments)}))}f($t,"URL"),r({global:!0,forced:!s,sham:!i},{URL:$t})},"2ca0":function(t,e,a){"use strict";var n=a("23e7"),r=a("06cf").f,i=a("50c4"),s=a("5a34"),o=a("1d80"),l=a("ab13"),c=a("c430"),u="".startsWith,d=Math.min,p=l("startsWith"),h=!c&&!p&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!h&&!p},{startsWith:function(t){var e=String(o(this));s(t);var a=i(d(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return u?u.call(e,n,a):e.slice(a,a+n.length)===n}})},"2d4e":function(t,e,a){},"3b1b":function(t,e,a){},"3e72":function(t,e,a){"use strict";a("b1af")},"466d":function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),s=a("1d80"),o=a("8aa5"),l=a("14c3");n("match",1,(function(t,e,a){return[function(e){var a=s(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var s=r(t),c=String(this);if(!s.global)return l(s,c);var u=s.unicode;s.lastIndex=0;var d,p=[],h=0;while(null!==(d=l(s,c))){var m=String(d[0]);p[h]=m,""===m&&(s.lastIndex=o(c,i(s.lastIndex),u)),h++}return 0===h?null:p}]}))},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,i=a("1dde"),s=i("filter");n({target:"Array",proto:!0,forced:!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),s=a("a691"),o=a("1d80"),l=a("8aa5"),c=a("0cb2"),u=a("14c3"),d=Math.max,p=Math.min,h=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,f=m?"$":"$0";return[function(a,n){var r=o(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,n):e.call(String(r),a,n)},function(t,n){if(!m&&v||"string"===typeof n&&-1===n.indexOf(f)){var o=a(e,t,this,n);if(o.done)return o.value}var g=r(t),b=String(this),w="function"===typeof n;w||(n=String(n));var y=g.global;if(y){var x=g.unicode;g.lastIndex=0}var C=[];while(1){var _=u(g,b);if(null===_)break;if(C.push(_),!y)break;var S=String(_[0]);""===S&&(g.lastIndex=l(b,i(g.lastIndex),x))}for(var P="",k=0,E=0;E<C.length;E++){_=C[E];for(var $=String(_[0]),L=d(p(s(_.index),b.length),0),A=[],I=1;I<_.length;I++)A.push(h(_[I]));var F=_.groups;if(w){var T=[$].concat(A,L,b);void 0!==F&&T.push(F);var N=String(n.apply(void 0,T))}else N=c($,b,L,A,F,n);L>=k&&(P+=b.slice(k,L)+N,k=L+$.length)}return P+b.slice(k)}]}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),l=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5fb2":function(t,e,a){"use strict";var n=2147483647,r=36,i=1,s=26,o=38,l=700,c=72,u=128,d="-",p=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",v=r-i,f=Math.floor,g=String.fromCharCode,b=function(t){var e=[],a=0,n=t.length;while(a<n){var r=t.charCodeAt(a++);if(r>=55296&&r<=56319&&a<n){var i=t.charCodeAt(a++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),a--)}else e.push(r)}return e},w=function(t){return t+22+75*(t<26)},y=function(t,e,a){var n=0;for(t=a?f(t/l):t>>1,t+=f(t/e);t>v*s>>1;n+=r)t=f(t/v);return f(n+(v+1)*t/(t+o))},x=function(t){var e=[];t=b(t);var a,o,l=t.length,p=u,h=0,v=c;for(a=0;a<t.length;a++)o=t[a],o<128&&e.push(g(o));var x=e.length,C=x;x&&e.push(d);while(C<l){var _=n;for(a=0;a<t.length;a++)o=t[a],o>=p&&o<_&&(_=o);var S=C+1;if(_-p>f((n-h)/S))throw RangeError(m);for(h+=(_-p)*S,p=_,a=0;a<t.length;a++){if(o=t[a],o<p&&++h>n)throw RangeError(m);if(o==p){for(var P=h,k=r;;k+=r){var E=k<=v?i:k>=v+s?s:k-v;if(P<E)break;var $=P-E,L=r-E;e.push(g(w(E+$%L))),P=f($/L)}e.push(g(w(P))),v=y(h,S,C==x),h=0,++C}}++h,++p}return e.join("")};t.exports=function(t){var e,a,n=[],r=t.toLowerCase().replace(h,".").split(".");for(e=0;e<r.length;e++)a=r[e],n.push(p.test(a)?"xn--"+x(a):a);return n.join(".")}},"65f0":function(t,e,a){var n=a("861d"),r=a("e8b5"),i=a("b622"),s=i("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[s],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"68f9":function(t,e,a){},"6cfa":function(t,e,a){t.exports=a.p+"img/drawjs-logo.18b6678c.png"},"7f64":function(t,e,a){"use strict";a("2d4e")},"7f74":function(t,e,a){"use strict";a("bc74")},8319:function(t,e,a){},"8aa5":function(t,e,a){"use strict";var n=a("6547").charAt;t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},9263:function(t,e,a){"use strict";var n=a("ad6d"),r=a("9f7f"),i=a("5692"),s=RegExp.prototype.exec,o=i("native-string-replace",String.prototype.replace),l=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=c||d||u;p&&(l=function(t){var e,a,r,i,l=this,p=u&&l.sticky,h=n.call(l),m=l.source,v=0,f=t;return p&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),f=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(m="(?: "+m+")",f=" "+f,v++),a=new RegExp("^(?:"+m+")",h)),d&&(a=new RegExp("^"+m+"$(?!\\s)",h)),c&&(e=l.lastIndex),r=s.call(p?a:l,f),p?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),d&&r&&r.length>1&&o.call(r[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},9861:function(t,e,a){"use strict";a("e260");var n=a("23e7"),r=a("d066"),i=a("0d3b"),s=a("6eeb"),o=a("e2cc"),l=a("d44e"),c=a("9ed3"),u=a("69f3"),d=a("19aa"),p=a("5135"),h=a("0366"),m=a("f5df"),v=a("825a"),f=a("861d"),g=a("7c73"),b=a("5c6c"),w=a("9a1f"),y=a("35a1"),x=a("b622"),C=r("fetch"),_=r("Headers"),S=x("iterator"),P="URLSearchParams",k=P+"Iterator",E=u.set,$=u.getterFor(P),L=u.getterFor(k),A=/\+/g,I=Array(4),F=function(t){return I[t-1]||(I[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},T=function(t){try{return decodeURIComponent(t)}catch(e){return t}},N=function(t){var e=t.replace(A," "),a=4;try{return decodeURIComponent(e)}catch(n){while(a)e=e.replace(F(a--),T);return e}},M=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(t){return D[t]},O=function(t){return encodeURIComponent(t).replace(M,R)},W=function(t,e){if(e){var a,n,r=e.split("&"),i=0;while(i<r.length)a=r[i++],a.length&&(n=a.split("="),t.push({key:N(n.shift()),value:N(n.join("="))}))}},B=function(t){this.entries.length=0,W(this.entries,t)},U=function(t,e){if(t<e)throw TypeError("Not enough arguments")},j=c((function(t,e){E(this,{type:k,iterator:w($(t).entries),kind:e})}),"Iterator",(function(){var t=L(this),e=t.kind,a=t.iterator.next(),n=a.value;return a.done||(a.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),a})),H=function(){d(this,H,P);var t,e,a,n,r,i,s,o,l,c=arguments.length>0?arguments[0]:void 0,u=this,h=[];if(E(u,{type:P,entries:h,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(f(c))if(t=y(c),"function"===typeof t){e=t.call(c),a=e.next;while(!(n=a.call(e)).done){if(r=w(v(n.value)),i=r.next,(s=i.call(r)).done||(o=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");h.push({key:s.value+"",value:o.value+""})}}else for(l in c)p(c,l)&&h.push({key:l,value:c[l]+""});else W(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},V=H.prototype;o(V,{append:function(t,e){U(arguments.length,2);var a=$(this);a.entries.push({key:t+"",value:e+""}),a.updateURL()},delete:function(t){U(arguments.length,1);var e=$(this),a=e.entries,n=t+"",r=0;while(r<a.length)a[r].key===n?a.splice(r,1):r++;e.updateURL()},get:function(t){U(arguments.length,1);for(var e=$(this).entries,a=t+"",n=0;n<e.length;n++)if(e[n].key===a)return e[n].value;return null},getAll:function(t){U(arguments.length,1);for(var e=$(this).entries,a=t+"",n=[],r=0;r<e.length;r++)e[r].key===a&&n.push(e[r].value);return n},has:function(t){U(arguments.length,1);var e=$(this).entries,a=t+"",n=0;while(n<e.length)if(e[n++].key===a)return!0;return!1},set:function(t,e){U(arguments.length,1);for(var a,n=$(this),r=n.entries,i=!1,s=t+"",o=e+"",l=0;l<r.length;l++)a=r[l],a.key===s&&(i?r.splice(l--,1):(i=!0,a.value=o));i||r.push({key:s,value:o}),n.updateURL()},sort:function(){var t,e,a,n=$(this),r=n.entries,i=r.slice();for(r.length=0,a=0;a<i.length;a++){for(t=i[a],e=0;e<a;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===a&&r.push(t)}n.updateURL()},forEach:function(t){var e,a=$(this).entries,n=h(t,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<a.length)e=a[r++],n(e.value,e.key,this)},keys:function(){return new j(this,"keys")},values:function(){return new j(this,"values")},entries:function(){return new j(this,"entries")}},{enumerable:!0}),s(V,S,V.entries),s(V,"toString",(function(){var t,e=$(this).entries,a=[],n=0;while(n<e.length)t=e[n++],a.push(O(t.key)+"="+O(t.value));return a.join("&")}),{enumerable:!0}),l(H,P),n({global:!0,forced:!i},{URLSearchParams:H}),i||"function"!=typeof C||"function"!=typeof _||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,a,n,r=[t];return arguments.length>1&&(e=arguments[1],f(e)&&(a=e.body,m(a)===P&&(n=e.headers?new _(e.headers):new _,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=g(e,{body:b(0,String(a)),headers:b(0,n)}))),r.push(e)),C.apply(this,r)}}),t.exports={URLSearchParams:H,getState:$}},"9a1f":function(t,e,a){var n=a("825a"),r=a("35a1");t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},"9f7f":function(t,e,a){"use strict";var n=a("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,a){"use strict";var n=a("23e7"),r=a("44ad"),i=a("fc6a"),s=a("a640"),o=[].join,l=r!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return o.call(i(this),void 0===t?",":t)}})},a434:function(t,e,a){"use strict";var n=a("23e7"),r=a("23cb"),i=a("a691"),s=a("50c4"),o=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),d=u("splice"),p=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var a,n,u,d,f,g,b=o(this),w=s(b.length),y=r(t,w),x=arguments.length;if(0===x?a=n=0:1===x?(a=0,n=w-y):(a=x-2,n=h(p(i(e),0),w-y)),w+a-n>m)throw TypeError(v);for(u=l(b,n),d=0;d<n;d++)f=y+d,f in b&&c(u,d,b[f]);if(u.length=n,a<n){for(d=y;d<w-n;d++)f=d+n,g=d+a,f in b?b[g]=b[f]:delete b[g];for(d=w;d>w-n+a;d--)delete b[d-1]}else if(a>n)for(d=w-n;d>y;d--)f=d+n-1,g=d+a-1,f in b?b[g]=b[f]:delete b[g];for(d=0;d<a;d++)b[d+y]=arguments[d+2];return b.length=w-n+a,u}})},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},a9bb:function(t,e,a){"use strict";a("68f9")},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),s=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),h=a("241c").f,m=a("06cf").f,v=a("9bf2").f,f=a("58a8").trim,g="Number",b=r[g],w=b.prototype,y=l(p(w))==g,x=function(t){var e,a,n,r,i,s,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=f(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),s=i.length,o=0;o<s;o++)if(l=i.charCodeAt(o),l<48||l>r)return NaN;return parseInt(i,n)}return+c};if(i(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,_=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof _&&(y?d((function(){w.valueOf.call(a)})):l(a)!=g)?c(new b(x(e)),a,_):x(e)},S=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;S.length>P;P++)o(b,C=S[P])&&!o(_,C)&&v(_,C,m(b,C));_.prototype=w,w.constructor=_,s(r,g,_)}},ac1f:function(t,e,a){"use strict";var n=a("23e7"),r=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},af30:function(t,e,a){"use strict";a("3b1b")},b1af:function(t,e,a){},b727:function(t,e,a){var n=a("0366"),r=a("44ad"),i=a("7b0b"),s=a("50c4"),o=a("65f0"),l=[].push,c=function(t){var e=1==t,a=2==t,c=3==t,u=4==t,d=6==t,p=7==t,h=5==t||d;return function(m,v,f,g){for(var b,w,y=i(m),x=r(y),C=n(v,f,3),_=s(x.length),S=0,P=g||o,k=e?P(m,_):a||p?P(m,0):void 0;_>S;S++)if((h||S in x)&&(b=x[S],w=C(b,S,y),t))if(e)k[S]=w;else if(w)switch(t){case 3:return!0;case 5:return b;case 6:return S;case 2:l.call(k,b)}else switch(t){case 4:return!1;case 7:l.call(k,b)}return d?-1:c||u?u:k}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},bc74:function(t,e,a){},cd56:function(t,e,a){"use strict";a.r(e);var n,r,i,s,o,l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("MainMenu"),t._m(0),a("div",{staticStyle:{position:"absolute",right:"10px",top:"13px",margin:"0px"}},[t._m(1),t._m(2),t._m(3),a("a",{staticClass:"btn btn-danger",attrs:{href:"https://danielbarral.itch.io/drawjs/donate",role:"button",target:"_blank"}},[a("IconDonate",{attrs:{color:"#ffffff"}}),t._v(" Donate")],1)])],1),a("div",{staticClass:"appDiv",attrs:{id:"app"}},[a("div",{staticClass:"mainLayout"},[a("div",{staticClass:"columnBox colDiv"},[a("div",{staticClass:"scriptsDiv"},[t._m(4),a("div",{staticClass:"tabContentScroll"},[a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane show active",attrs:{id:"tabSampleScripts",role:"tabpanel","aria-labelledby":"sampleScripts-tab"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:null==t.selectedSampleScript,expression:"selectedSampleScript == null"}]},[a("span",[t._v("Type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.type,expression:"sampleScriptsFilter.type"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.sampleScriptsFilter,"type",e.target.multiple?a:a[0])},function(e){return t.filterSampleScripts()}]}},[a("option",{attrs:{value:""}},[t._v("(Show all)")]),t._l(t.sampleScriptTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),a("span",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.text"}],attrs:{placeholder:"script name"},domProps:{value:t.sampleScriptsFilter.text},on:{input:[function(e){e.target.composing||t.$set(t.sampleScriptsFilter,"text",e.target.value)},function(e){return t.filterSampleScripts()}]}}),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.sampleScriptsFilter.type||""!=t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.type != '' || sampleScriptsFilter.text != ''"}]},[t._v("Showing "+t._s(t.numFilteredSampleScripts)+" of "+t._s(t.numSampleScripts)+" "),a("a",{attrs:{href:"#"},on:{click:function(e){return t.clearSearch()}}},[t._v("Clear search")])]),a("table",{staticStyle:{"margin-top":"5px"}},t._l(t.sampleScripts,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(a){return t.executeSampleScript(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==e.params},on:{click:function(a){return t.selectSampleScriptWithParams(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ... ")],1)]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.loadSampleScript(e.name)}}},[t._v("Open")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectSampleScript(e.name)}}},[t._v("View")])])])})),0)]),null!=t.selectedSampleScript?a("div",[a("h3",[a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return t.unselectSampleScript()}}},[a("IconBack",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Back")],1),t._v(" "+t._s(t.selectedSampleScript.name))]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.executeEditedSampleScript()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.copySampleSourceCode()}}},[t._v("Copy")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalSaveSampleScriptAs()}}},[t._v("Save as...")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editedSampleScript,expression:"editedSampleScript"}],staticStyle:{width:"100%",height:"180px"},attrs:{spellcheck:"false"},domProps:{value:t.editedSampleScript},on:{input:function(e){e.target.composing||(t.editedSampleScript=e.target.value)}}})]):t._e()]),a("div",{staticClass:"tab-pane",staticStyle:{"margin-left":"3px"},attrs:{id:"tabSavedScripts",role:"tabpanel","aria-labelledby":"savedScripts-tab"}},[a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.createNewScript()}}},[t._v("New script...")])]),a("br"),t.savedScripts.length>0?a("table",{staticClass:"smallTable"},[t._m(5),a("tbody",t._l(t.savedScripts,(function(e){return a("tr",{key:e.name},[a("td",[a("b",[t._v(t._s(e.name))])]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return t.executeSavedScript(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==e.params},on:{click:function(a){return t.selectSavedScriptWithParams(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ...")],1)]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.configScript(e.name)}}},[t._v("Params")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.loadSavedScript(e.name)}}},[t._v("Open")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteSavedScript(e.name)}}},[t._v("delete")])])])})),0)]):t._e(),0==t.savedScripts.length?a("div",[t._v("You haven't created any script yet.")]):t._e(),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.saveScriptsToLocalStorage()}}},[t._v("Save to local storage")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.loadScriptsFromLocalStorage()}}},[t._v("Load from local storage")])])])])])]),a("div",[a("div",{staticClass:"panelHeader"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}]},[a("b",[t._v("Sample script:")]),t._v(" "+t._s(t.currentScriptName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}]},[a("b",[t._v("My script:")]),t._v(" "+t._s(t.currentScriptName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:null==t.currentScriptType,expression:"currentScriptType == null"}]},[a("b",[t._v("Untitled script")])])]),a("textarea",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode",spellcheck:"false"}}),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:t.executeScript}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),a("button",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(e){return t.selectSavedScriptWithParams(t.currentScriptName)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ...")],1),a("button",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(e){return t.selectSampleScriptWithParams(t.currentScriptName)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ...")],1),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=t.currentScriptType},on:{click:function(e){return t.configScript(t.currentScriptName)}}},[t._v("Params")]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=t.currentScriptType},on:{click:t.saveScript}},[t._v("Save")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.saveScriptAs}},[t._v("Save as...")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.newScript}},[t._v("New")])])])]),a("div",{staticClass:"columnBox mainColDiv"},[t._m(6),a("div",{staticClass:"tab-content tabCanvas",staticStyle:{"margin-top":"5px"},attrs:{id:"tabCanvas"}},[a("div",{staticClass:"tab-pane show active",attrs:{id:"tab_all_layers",role:"tabpanel","aria-labelledby":"contact-tab"}},[a("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasAllLayers",width:t.canvasWidth,height:t.canvasHeight}})]),a("div",{staticClass:"tab-pane",attrs:{id:"tab_current_layer",role:"tabpanel","aria-labelledby":"contact-tab"}},[a("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasCurrentLayer",width:t.canvasWidth,height:t.canvasHeight}})])]),a("div",{staticClass:"buttonGroup"},[a("span",[a("b",[t._v("Current tool: ")]),t._v(t._s(t.currentTool))]),t._m(7),a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.ctx.fillStyle,on:{click:function(e){return t.openColorPicker("fillStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle"},[t._v(t._s(t.ctx.fillStyle))]),t._m(8),a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.ctx.strokeStyle,on:{click:function(e){return t.openColorPicker("strokeStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle"},[t._v(t._s(t.ctx.strokeStyle))]),a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[t._v("Position: ")]),t._v(t._s(t.mousePosition.x)+","+t._s(t.mousePosition.y))])]),a("div",{staticClass:"buttonGroup"},[t._m(9),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("move"),on:{click:function(e){return t.setCurrentTool("move")}}},[a("IconMove",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Move")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("pencil"),on:{click:function(e){return t.setCurrentTool("pencil")}}},[a("IconEdit",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Pencil")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("brush"),on:{click:function(e){return t.setCurrentTool("brush")}}},[a("IconBrush",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Brush")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("eraser"),on:{click:function(e){return t.setCurrentTool("eraser")}}},[a("IconEraser",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Eraser")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("bucketFill"),on:{click:function(e){return t.setCurrentTool("bucketFill")}}},[a("IconBucketFill",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Bucket fill")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("line"),on:{click:function(e){return t.setCurrentTool("line")}}},[a("IconLine",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Line")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("rectangle"),on:{click:function(e){return t.setCurrentTool("rectangle")}}},[a("IconRectangle",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Rectangle")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("circle"),on:{click:function(e){return t.setCurrentTool("circle")}}},[a("IconCircle",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Circle")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("ellipse"),on:{click:function(e){return t.setCurrentTool("ellipse")}}},[a("IconEllipse",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Ellipse")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("none"),on:{click:function(e){return t.setCurrentTool("none")}}},[a("IconNone",{attrs:{color:"#ffffff"}}),t._v(" None")],1),a("span",{staticClass:"tooltiptext0"},[t._v("None")])])]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clearCurrentLayer()}}},[t._v("Clear current layer")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.fillScreenWhite()}}},[t._v("Fill with white")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.fillScreenBlack()}}},[t._v("Fill with black")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.repaintCurrentLayer()}}},[t._v("Repaint current layer")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.resetContext()}}},[t._v("Reset context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clip()}}},[t._v("Clip")])])]),a("div",{staticClass:"columnBoxRight"},[a("ConfigureScriptPanel",{ref:"configureScriptPanel"}),a("ScriptWithParamsPanel",{ref:"scriptWithParamsPanel"}),a("LayersPanel",{ref:"layersPanel"}),a("ContextPanel"),a("EventsPanel"),a("ImagesPanel"),a("FontsPanel"),a("GlobalVariablesPanel"),a("LogsPanel")],1)]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modalSaveSampleScriptAs",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(10),a("div",{staticClass:"modal-body"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newScriptName,expression:"newScriptName"}],domProps:{value:t.newScriptName},on:{input:function(e){e.target.composing||(t.newScriptName=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.saveSampleScriptAs()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("ModalExport"),a("ModalPasteImageFromClipboard"),a("ModalHelp"),a("ModalColorPicker",{ref:"modalColorPicker"})],1)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/",target:"_blank"}},[n("img",{attrs:{src:a("6cfa")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://www.youtube.com/channel/UC6MPzpvbIs1x2HtoM83fVcQ",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("aaba")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://www.reddit.com/r/DrawJS/",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("8f63")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://danielbarral.itch.io/drawjs",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("e004")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"sampleScripts-tab","data-toggle":"tab",href:"#tabSampleScripts",role:"tab"}},[t._v("Sample scripts")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"savedScripts-tab","data-toggle":"tab",href:"#tabSavedScripts",role:"tab"}},[t._v("My scripts")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th"),a("th"),a("th"),a("th"),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_all_layers",role:"tab","aria-controls":"tab_all_layers","aria-selected":"false"}},[t._v("All layers")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_current_layer",role:"tab","aria-controls":"tab_current_layer","aria-selected":"false"}},[t._v("Current layer")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[t._v("fillStyle: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[t._v("strokeStyle: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("b",[t._v("Tools: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Save sample script as...")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],u=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("4de4"),a("2ca0"),a("ac1f"),a("1276"),a("a9e3"),a("a434"),a("b0c0"),a("ffc9")),d=(a("a15b"),a("d81d"),a("25f0"),a("466d"),a("5319"),{pasteClipboardImage:function(t){if(t.clipboardData){var e=t.clipboardData.items;if(e){for(var a=!1,n=0;n<e.length;n++)if(-1!==e[n].type.indexOf("image")){var r=e[n].getAsFile(),i=window.URL||window.webkitURL,s=i.createObjectURL(r);if(null!=s){var o=new Image;o.onload=function(){window.ctx.drawImage(o,0,0)},o.src=s}a=!0}a&&t.preventDefault()}}},convoluteLayer:function(t,e,a){var n=t.canvas.width,r=t.canvas.height,i=t.getImageData(0,0,n,r),s=this.convolute(i,e,a);t.putImageData(s,0,0)},convolute:function(t,e,a){for(var n=Math.round(Math.sqrt(e.length)),r=Math.floor(n/2),i=t.data,s=t.width,o=t.height,l=s,c=o,u=document.createElement("canvas").getContext("2d").createImageData(l,c),d=u.data,p=a?1:0,h=0;h<c;h++)for(var m=0;m<l;m++){for(var v=h,f=m,g=4*(h*l+m),b=0,w=0,y=0,x=0,C=0;C<n;C++)for(var _=0;_<n;_++){var S=v+C-r,P=f+_-r;if(S>=0&&S<o&&P>=0&&P<s){var k=4*(S*s+P),E=e[C*n+_];b+=i[k]*E,w+=i[k+1]*E,y+=i[k+2]*E,x+=i[k+3]*E}}d[g]=b,d[g+1]=w,d[g+2]=y,d[g+3]=x+p*(255-x)}return u},rgbToHex:function(t){return"#"+[t.r,t.g,t.b].map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("")},hexToRgb:function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,a,n){return"#"+e+e+a+a+n+n})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}));return{r:e[0],g:e[1],b:e[2]}},rgbAdd:function(t,e){return t.r+=e,t.g+=e,t.b+=e,t.r=this.rgbFit(t.r),t.g=this.rgbFit(t.g),t.b=this.rgbFit(t.b),t},rgbFit:function(t){return t=Math.round(t),Math.max(Math.min(t,255),0)},random256:function(){return Math.floor(256*Math.random())},cloneCanvas:function(t){var e=document.createElement("canvas");e.width=600,e.height=400;var a=e.getContext("2d");return a.drawImage(t,0,0),e},getImageDataPosition:function(t,e,a){var n=t.width,r=4*(a*n+e);return r},cropAt:function(t,e,a,n,r){var i=t.width,s=t.height,o=t.getContext("2d"),l=o.getImageData(0,0,i,s),c=n-e+1,u=r-a+1,d=document.createElement("canvas");d.width=c,d.height=u;var p=d.getContext("2d");return p.putImageData(l,-e,-a),d},crop:function(t){for(var e=t.width,a=t.height,n=t.getContext("2d"),r=n.getImageData(0,0,e,a),i=0,s=0,o=e-1,l=a-1,c=0;c<e;c++){var u=!0;i=c;for(var d=0;d<a;d++){var p=this.getImageDataPosition(t,c,d);if(r.data[p+3]>0){u=!1;break}}if(!u)break}for(var h=e-1;h>=0;h--){var m=!0;o=h;for(var v=0;v<a;v++){var f=this.getImageDataPosition(t,h,v);if(r.data[f+3]>0){m=!1;break}}if(!m)break}for(var g=0;g<a;g++){var b=!0;s=g;for(var w=0;w<e;w++){var y=this.getImageDataPosition(t,w,g);if(r.data[y+3]>0){b=!1;break}}if(!b)break}for(var x=a-1;x>=0;x--){var C=!0;l=x;for(var _=0;_<e;_++){var S=this.getImageDataPosition(t,_,x);if(r.data[S+3]>0){C=!1;break}}if(!C)break}return this.cropAt(t,i,s,o,l)},getColorAtPixel:function(t,e,a){var n=t.width,r=t.data;return{r:r[4*(n*a+e)+0],g:r[4*(n*a+e)+1],b:r[4*(n*a+e)+2],a:r[4*(n*a+e)+3]}},setColorAtPixel:function(t,e,a,n){var r=t.width,i=t.data;i[4*(r*n+a)+0]=255&e.r,i[4*(r*n+a)+1]=255&e.g,i[4*(r*n+a)+2]=255&e.b,i[4*(r*n+a)+3]=255&e.a},colorMatch:function(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a},floodFill:function(t,e,a,n){var r=t.canvas.width,i=t.canvas.height,s=t.getImageData(0,0,r,i);this.floodFillImageData(s,e,a,n),t.putImageData(s,0,0)},floodFillImageData:function(t,e,a,n){var r=t.width,i=t.height,s=[],o=this.getColorAtPixel(t,a,n),l={x:a,y:n};if(!this.colorMatch(o,e)){s.push({x:l.x,y:l.y});while(s.length){l=s.pop();var c=!0,u=!0,d=!1,p=!1;while(u&&l.y>=0)l.y--,u=this.colorMatch(this.getColorAtPixel(t,l.x,l.y),o);while(c&&l.y<i)this.setColorAtPixel(t,e,l.x,l.y),l.x-1>=0&&this.colorMatch(this.getColorAtPixel(t,l.x-1,l.y),o)?d||(d=!0,s.push({x:l.x-1,y:l.y})):d=!1,l.x+1<r&&this.colorMatch(this.getColorAtPixel(t,l.x+1,l.y),o)?p||(s.push({x:l.x+1,y:l.y}),p=!0):p=!1,l.y++,c=this.colorMatch(this.getColorAtPixel(t,l.x,l.y),o)}}}}),p=d,h=a("21a6"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand navbar-light",staticStyle:{position:"absolute"}},[a("a",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",left:"10px",top:"13px"},attrs:{href:"#",role:"button",id:"navbarDropdownMenuLink"},on:{mousedown:function(e){return t.onMainMenuClick()}}},[a("IconMenu",{staticStyle:{"margin-top":"-3px"},attrs:{color:"#ffffff"}}),t._v(" "),a("b",[t._v("Menu")])],1),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"main-menu-children","aria-labelledby":"navbarDropdownMenuLink"}},t._l(t.menuItems,(function(e){return a("li",{key:e.id,class:e.children.length>0?"dropdown-submenu":""},[0==e.children.length?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOver("submenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"submenu-"+e.id,href:"#"},on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOver("submenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"submenu-"+e.id+"-children"}},t._l(e.children,(function(e){return a("li",{key:e.id,staticClass:"dropdown-submenu"},[0==e.children.length?a("a",{staticClass:"dropdown-item",attrs:{id:"subsubmenu-"+e.id,href:"#"},on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOverLevel2("subsubmenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"subsubmenu-"+e.id,href:"#"},on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOverLevel2("subsubmenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"subsubmenu-"+e.id+"-children"}},t._l(e.children,(function(e){return a("li",{key:e.id},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return t.onMenuItemClick(e.id)}}},[t._v(t._s(e.name))])])})),0):t._e()])})),0):t._e()])})),0)])])]),t._m(1)])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",left:"92px",top:"13px"},attrs:{href:"/",role:"button",target:"_blank"}},[a("b",[t._v("Home")])])}],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},g=[],b={name:"IconMenu",props:{color:{type:String,default:"#000000"}}},w=b,y=a("2877"),x=Object(y["a"])(w,f,g,!1,null,"ba0db6c4",null),C=x.exports,_={name:"MainMenu",components:{IconMenu:C},props:{},data:function(){return{menuOpened:!1,menuItems:[{id:"new-project",name:"New project...",children:[]},{id:"edit",name:"Edit",children:[{id:"paste-image-from-clipboard",name:"Paste image from clipboard (CTRL+V)",children:[]}]},{id:"image",name:"Image",children:[{id:"clear-current-layer",name:"Clear current layer",children:[]},{id:"fill-white",name:"Fill with white",children:[]},{id:"fill-black",name:"Fill with black",children:[]},{id:"fill-with-current-fill-style",name:"Fill with current fillStyle",children:[]},{id:"invert-colors",name:"Invert colors",children:[]},{id:"invert-alpha",name:"Invert alpha",children:[]},{id:"flip-horizontally",name:"Flip horizontally",children:[]},{id:"flip-vertically",name:"Flip vertically",children:[]},{id:"rotate-layer",name:"Rotate...",children:[]},{id:"move-layer",name:"Move...",children:[]}]},{id:"layer",name:"Layer",children:[{id:"add-layer",name:"Add layer",children:[]},{id:"duplicate-layer",name:"Duplicate layer",children:[]},{id:"delete-layer",name:"Delete layer",children:[]}]},{id:"draw",name:"Draw",children:[{id:"text",name:"Text",children:[{id:"draw-text",name:"Draw text...",children:[]},{id:"draw-stroke-text",name:"Draw stroke text...",children:[]},{id:"draw-shadow-text",name:"Draw shadow text...",children:[]},{id:"glow-text",name:"Glow text...",children:[]},{id:"draw-3d-text",name:"Draw 3D text...",children:[]},{id:"logo-01",name:"Logo 01...",children:[]},{id:"logo-02",name:"Logo 02...",children:[]},{id:"logo-03",name:"Logo 03...",children:[]},{id:"logo-04",name:"Logo 04...",children:[]},{id:"logo-05",name:"Logo 05...",children:[]},{id:"logo-06",name:"Logo 06...",children:[]},{id:"logo-07",name:"Logo 07...",children:[]},{id:"logo-08",name:"Logo 08...",children:[]},{id:"logo-09",name:"Logo 09...",children:[]},{id:"logo-10",name:"Logo 10...",children:[]}]},{id:"buttons",name:"Buttons",children:[{id:"round-button",name:"Round button...",children:[]},{id:"round-button-2",name:"Round button 2...",children:[]},{id:"round-button-3",name:"Round button 3...",children:[]},{id:"gradient-round-button",name:"Gradient round button...",children:[]},{id:"gradient-round-button-2",name:"Gradient round button 2...",children:[]},{id:"3d-gradient-round-button",name:"3D gradient round button...",children:[]},{id:"3d-gradient-round-button-2",name:"3D gradient round button 2...",children:[]}]},{id:"backgrounds",name:"Backgrounds",children:[{id:"sunburst-effect",name:"Sunburst effect...",children:[]},{id:"checkerboard",name:"Checkerboard...",children:[]},{id:"concentric-circles",name:"Concentric circles...",children:[]},{id:"gray-noise",name:"Gray noise...",children:[]}]},{id:"draw-line",name:"Draw line...",children:[]},{id:"draw-circle",name:"Draw circle...",children:[]},{id:"fill-circle",name:"Fill circle...",children:[]},{id:"draw-rect",name:"Draw rect...",children:[]},{id:"fill-rect",name:"Fill rect...",children:[]}]},{id:"filters",name:"Filters",children:[{id:"color",name:"Color",children:[{id:"grayscale",name:"Grayscale",children:[]},{id:"sepia",name:"Sepia",children:[]},{id:"lighter",name:"Lighter...",children:[]},{id:"darker",name:"Darker...",children:[]},{id:"hue-rotate",name:"Hue rotate...",children:[]},{id:"set-color-component",name:"Set color component...",children:[]},{id:"set-image-color",name:"Set image color...",children:[]},{id:"modulate-image-color",name:"Modulate image color...",children:[]}]},{id:"border",name:"Border",children:[{id:"add-border",name:"Add border...",children:[]},{id:"add-double-border",name:"Add double border...",children:[]},{id:"add-color-border",name:"Add color border...",children:[]}]},{id:"blur",name:"Blur...",children:[]},{id:"add-shadow",name:"Add shadow...",children:[]},{id:"sharpen",name:"Sharpen",children:[]},{id:"emboss",name:"Emboss",children:[]},{id:"emboss-2",name:"Emboss 2...",children:[]},{id:"grow",name:"Grow...",children:[]},{id:"noise",name:"Noise...",children:[]}]},{id:"scripts",name:"Scripts",children:[{id:"new-script",name:"New script...",children:[]}]},{id:"export",name:"Export...",children:[]},{id:"help",name:"Help",children:[]}],currentMenuItem:null}},mounted:function(){window.$(".dropdown-menu").click((function(t){t.stopPropagation()})),window.$("#navbarDropdownMenuLink").click((function(t){t.stopPropagation()}));var t=this;window.$(document).click((function(e){t.resetMenu()}))},methods:{onMainMenuClick:function(){this.menuOpened?this.resetMenu():this.openMainMenu()},hideMenuItem:function(t){var e=document.getElementById(t+"-children");null!=e&&e.classList.remove("show")},showMenuItem:function(t){var e=document.getElementById(t+"-children");null!=e&&e.classList.add("show")},selectMenuItem:function(t){var e=document.getElementById(t);null!=e&&e.classList.add("dropdown-item-selected")},unselectMenuItem:function(t){var e=document.getElementById(t);null!=e&&e.classList.remove("dropdown-item-selected")},unselectMenuItemsLevel1:function(){for(var t=0;t<this.menuItems.length;t++){var e=this.menuItems[t];this.unselectMenuItem("submenu-"+e.id)}this.unselectMenuItemsLevel2()},unselectMenuItemsLevel2:function(){for(var t=0;t<this.menuItems.length;t++)for(var e=this.menuItems[t],a=0;a<e.children.length;a++){var n=e.children[a];this.unselectMenuItem("subsubmenu-"+n.id)}},selectMenuItemLevel1:function(t){this.unselectMenuItemsLevel1(),this.selectMenuItem(t)},selectMenuItemLevel2:function(t){this.unselectMenuItemsLevel2(),this.selectMenuItem(t)},openMainMenu:function(){this.showMenuItem("main-menu"),this.menuOpened=!0},resetMenu:function(){this.hideMenuItem("main-menu"),this.resetMenuLevel2(),this.unselectMenuItemsLevel1(),this.menuOpened=!1},resetMenuLevel2:function(){for(var t=0;t<this.menuItems.length;t++){var e=this.menuItems[t];this.hideMenuItem("submenu-"+e.id)}this.resetMenuLevel3()},resetMenuLevel3:function(){for(var t=0;t<this.menuItems.length;t++)for(var e=this.menuItems[t],a=0;a<e.children.length;a++){var n=e.children[a];this.hideMenuItem("subsubmenu-"+n.id)}},mouseOver:function(t){this.resetMenuLevel2(),this.showMenuItem(t),this.selectMenuItemLevel1(t)},mouseOverLevel2:function(t){this.resetMenuLevel3(),this.showMenuItem(t),this.selectMenuItemLevel2(t)},fillScreenWhite:function(){this.resetMenu(),this.$parent.fillScreenWhite()},fillScreenBlack:function(){this.resetMenu(),this.$parent.fillScreenBlack()},clearCurrentLayer:function(){this.resetMenu(),this.$parent.clearCurrentLayer()},onMenuItemClick:function(t){if("new-project"==t)window.location.reload();else if("fill-white"==t)this.$parent.fillScreenWhite();else if("fill-black"==t)this.$parent.fillScreenBlack();else if("fill-with-current-fill-style"==t)this.$parent.executeSampleScript("Fill with current fillStyle",{});else if("clear-current-layer"==t)this.$parent.clearCurrentLayer();else if("export"==t)this.$parent.showExportModal();else if("help"==t)this.$parent.showModalHelp();else if("paste-image-from-clipboard"==t)this.$parent.showModalPasteImageFromClipboard();else if("add-layer"==t)this.$parent.$refs.layersPanel.showAddLayerForm();else if("duplicate-layer"==t)this.$parent.$refs.layersPanel.showDuplicateLayerForm();else if("delete-layer"==t)this.$parent.deleteCurrentLayer();else if("new-script"==t)this.$parent.createNewScript();else if("grayscale"==t)this.$parent.executeSampleScript("Grayscale layer",{});else if("sepia"==t)this.$parent.executeSampleScript("Repaint with filter",{filter:"sepia(100%)"});else if("lighter"==t)this.$parent.selectSampleScriptWithParams("Lighter");else if("darker"==t)this.$parent.selectSampleScriptWithParams("Darker");else if("invert-colors"==t)this.$parent.executeSampleScript("Invert image colors",{});else if("invert-alpha"==t)this.$parent.executeSampleScript("Invert image alpha",{});else if("blur"==t)this.$parent.selectSampleScriptWithParams("Blur layer");else if("grow"==t)this.$parent.selectSampleScriptWithParams("Grow");else if("set-image-color"==t)this.$parent.selectSampleScriptWithParams("Set image color");else if("set-color-component"==t)this.$parent.selectSampleScriptWithParams("Set color component");else if("modulate-image-color"==t)this.$parent.selectSampleScriptWithParams("Modulate image color");else if("add-border"==t)this.$parent.selectSampleScriptWithParams("Add border");else if("add-double-border"==t)this.$parent.selectSampleScriptWithParams("Add double border");else if("add-color-border"==t)this.$parent.selectSampleScriptWithParams("Add color border");else if("noise"==t)this.$parent.selectSampleScriptWithParams("Noise");else if("sunburst-effect"==t)this.$parent.selectSampleScriptWithParams("Sunburst effect");else if("checkerboard"==t)this.$parent.selectSampleScriptWithParams("Checkerboard");else if("concentric-circles"==t)this.$parent.selectSampleScriptWithParams("Concentric circles");else if("gray-noise"==t)this.$parent.selectSampleScriptWithParams("Gray noise");else if("draw-line"==t)this.$parent.selectSampleScriptWithParams("Draw line");else if("draw-circle"==t)this.$parent.selectSampleScriptWithParams("Draw circle");else if("fill-circle"==t)this.$parent.selectSampleScriptWithParams("Fill circle");else if("draw-rect"==t)this.$parent.selectSampleScriptWithParams("Draw rect");else if("fill-rect"==t)this.$parent.selectSampleScriptWithParams("Fill rect");else if("draw-text"==t)this.$parent.selectSampleScriptWithParams("Draw text");else if("draw-stroke-text"==t)this.$parent.selectSampleScriptWithParams("Draw stroke text");else if("glow-text"==t)this.$parent.selectSampleScriptWithParams("Glow text");else if("draw-3d-text"==t)this.$parent.selectSampleScriptWithParams("Draw 3D text");else if("draw-shadow-text"==t)this.$parent.selectSampleScriptWithParams("Draw shadow text");else if("logo-01"==t)this.$parent.selectSampleScriptWithParams("Logo 01");else if("logo-02"==t)this.$parent.selectSampleScriptWithParams("Logo 02");else if("logo-03"==t)this.$parent.selectSampleScriptWithParams("Logo 03");else if("logo-04"==t)this.$parent.selectSampleScriptWithParams("Logo 04");else if("logo-05"==t)this.$parent.selectSampleScriptWithParams("Logo 05");else if("logo-06"==t)this.$parent.selectSampleScriptWithParams("Logo 06");else if("logo-07"==t)this.$parent.selectSampleScriptWithParams("Logo 07");else if("logo-08"==t)this.$parent.selectSampleScriptWithParams("Logo 08");else if("logo-09"==t)this.$parent.selectSampleScriptWithParams("Logo 09");else if("logo-10"==t)this.$parent.selectSampleScriptWithParams("Logo 10");else if("round-button"==t)this.$parent.selectSampleScriptWithParams("Round button");else if("round-button-2"==t)this.$parent.selectSampleScriptWithParams("Round button 2");else if("round-button-3"==t)this.$parent.selectSampleScriptWithParams("Round button 3");else if("gradient-round-button"==t)this.$parent.selectSampleScriptWithParams("Gradient round button");else if("gradient-round-button-2"==t)this.$parent.selectSampleScriptWithParams("Gradient round button 2");else if("3d-gradient-round-button"==t)this.$parent.selectSampleScriptWithParams("3D gradient round button");else if("3d-gradient-round-button-2"==t)this.$parent.selectSampleScriptWithParams("3D gradient round button 2");else if("flip-horizontally"==t)this.$parent.executeSampleScript("Flip horizontally",{});else if("flip-vertically"==t)this.$parent.executeSampleScript("Flip vertically",{});else if("rotate-layer"==t)this.$parent.selectSampleScriptWithParams("Rotate layer");else if("add-shadow"==t)this.$parent.selectSampleScriptWithParams("Add shadow");else if("sharpen"==t)this.$parent.executeSampleScript("Sharpen",{});else if("emboss"==t)this.$parent.executeSampleScript("Emboss",{});else if("emboss-2"==t)this.$parent.selectSampleScriptWithParams("Emboss 2");else if("hue-rotate"==t)this.$parent.selectSampleScriptWithParams("Hue rotate layer");else{if("move-layer"!=t)return;this.$parent.selectSampleScriptWithParams("Move layer")}this.resetMenu()}}},S=_,P=(a("3e72"),Object(y["a"])(S,m,v,!1,null,"a12aa62c",null)),k=P.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("context")}}},[a("span",{staticClass:"panelTitle"},[t._v("Context")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.context,expression:"$parent.visiblePanels.context"}],staticClass:"panelBody"},[a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.resetContext()}}},[t._v("Reset context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.saveContext()}}},[t._v("Save context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.restoreContext()}}},[t._v("Restore context")])]),a("table",{staticClass:"smallTable contextPropertiesTable"},[a("tbody",[a("tr",[a("td",[t._v("fillStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.$parent.ctx.fillStyle,on:{click:function(e){return t.openColorPicker("fillStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[t._v(t._s(t.$parent.ctx.fillStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("fillStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.fillStyle,expression:"$parent.ctx.fillStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("fillStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("strokeStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.$parent.ctx.strokeStyle,on:{click:function(e){return t.openColorPicker("strokeStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[t._v(t._s(t.$parent.ctx.strokeStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("strokeStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.strokeStyle,expression:"$parent.ctx.strokeStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("strokeStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("font")]),a("td",[t._v(t._s(t.$parent.ctx.font))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("font")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"10px sans-serif"!=t.$parent.ctx.font,expression:"$parent.ctx.font != '10px sans-serif'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("font")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("textAlign")]),a("td",[t._v(t._s(t.$parent.ctx.textAlign))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textAlign")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"start"!=t.$parent.ctx.textAlign,expression:"$parent.ctx.textAlign != 'start'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textAlign")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("globalAlpha")]),a("td",[t._v(t._s(t.$parent.ctx.globalAlpha))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalAlpha")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.globalAlpha,expression:"$parent.ctx.globalAlpha != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalAlpha")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("globalCompositeOperation")]),a("td",[t._v(t._s(t.$parent.ctx.globalCompositeOperation))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalCompositeOperation")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"source-over"!=t.$parent.ctx.globalCompositeOperation,expression:"$parent.ctx.globalCompositeOperation != 'source-over'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalCompositeOperation")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("lineWidth")]),a("td",[t._v(t._s(t.$parent.ctx.lineWidth))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineWidth")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.lineWidth,expression:"$parent.ctx.lineWidth != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineWidth")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("lineCap")]),a("td",[t._v(t._s(t.$parent.ctx.lineCap))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineCap")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"butt"!=t.$parent.ctx.lineCap,expression:"$parent.ctx.lineCap != 'butt'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineCap")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("lineJoin")]),a("td",[t._v(t._s(t.$parent.ctx.lineJoin))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineJoin")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"miter"!=t.$parent.ctx.lineJoin,expression:"$parent.ctx.lineJoin != 'miter'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineJoin")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("miterLimit")]),a("td",[t._v(t._s(t.$parent.ctx.miterLimit))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("miterLimit")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:10!=t.$parent.ctx.miterLimit,expression:"$parent.ctx.miterLimit != 10"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("miterLimit")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("transform")]),a("td",[t._v(t._s(t.$parent.ctx.transform))]),a("td",[a("IconEdit"),a("span",{directives:[{name:"show",rawName:"v-show",value:"matrix(1, 0, 0, 1, 0, 0)"!=t.$parent.ctx.transform,expression:"$parent.ctx.transform != 'matrix(1, 0, 0, 1, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetTransform()}}},[a("IconReset")],1)],1)]),a("tr",[a("td",[t._v("filter")]),a("td",[t._v(t._s(t.$parent.ctx.filter))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("filter")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"none"!=t.$parent.ctx.filter,expression:"$parent.ctx.filter != 'none'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("filter")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowBlur")]),a("td",[t._v(t._s(t.$parent.ctx.shadowBlur))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowBlur")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowBlur,expression:"$parent.ctx.shadowBlur != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowBlur")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowColor")]),a("td",[t._v(t._s(t.$parent.ctx.shadowColor))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowColor")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"rgba(0, 0, 0, 0)"!=t.$parent.ctx.shadowColor,expression:"$parent.ctx.shadowColor != 'rgba(0, 0, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowColor")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowOffsetX")]),a("td",[t._v(t._s(t.$parent.ctx.shadowOffsetX))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetX")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetX,expression:"$parent.ctx.shadowOffsetX != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetX")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowOffsetY")]),a("td",[t._v(t._s(t.$parent.ctx.shadowOffsetY))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetY")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetY,expression:"$parent.ctx.shadowOffsetY != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetY")}}},[a("IconReset")],1)])]),t.$parent.ctx.lineDash?a("tr",[a("td",[t._v("lineDash")]),a("td",[t._v(t._s(t.$parent.ctx.lineDash))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDash")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDash.length,expression:"$parent.ctx.lineDash.length != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDash")}}},[a("IconReset")],1)])]):t._e(),a("tr",[a("td",[t._v("lineDashOffset")]),a("td",[t._v(t._s(t.$parent.ctx.lineDashOffset))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDashOffset")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDashOffset,expression:"$parent.ctx.lineDashOffset != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDashOffset")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("textBaseline")]),a("td",[t._v(t._s(t.$parent.ctx.textBaseline))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textBaseline")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"alphabetic"!=t.$parent.ctx.textBaseline,expression:"$parent.ctx.textBaseline != 'alphabetic'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textBaseline")}}},[a("IconReset")],1)])])])]),a("div",{staticClass:"spacing"})]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditContextProperty",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"fillStyle"==t.currentAttribute,expression:"currentAttribute=='fillStyle'"}]},[t._v("fillStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.fillStyle,expression:"newCtx.fillStyle"}],domProps:{value:t.newCtx.fillStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"fillStyle",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"strokeStyle"==t.currentAttribute,expression:"currentAttribute=='strokeStyle'"}]},[t._v("strokeStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.strokeStyle,expression:"newCtx.strokeStyle"}],domProps:{value:t.newCtx.strokeStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"strokeStyle",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"font"==t.currentAttribute,expression:"currentAttribute=='font'"}]},[t._v("font: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.font,expression:"newCtx.font"}],domProps:{value:t.newCtx.font},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"font",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalAlpha"==t.currentAttribute,expression:"currentAttribute=='globalAlpha'"}]},[t._v("globalAlpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalAlpha,expression:"newCtx.globalAlpha"}],domProps:{value:t.newCtx.globalAlpha},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"globalAlpha",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineWidth"==t.currentAttribute,expression:"currentAttribute=='lineWidth'"}]},[t._v("lineWidth: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineWidth,expression:"newCtx.lineWidth"}],domProps:{value:t.newCtx.lineWidth},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineWidth",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineCap"==t.currentAttribute,expression:"currentAttribute=='lineCap'"}]},[t._v(" lineCap: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineCap,expression:"newCtx.lineCap"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"lineCap",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"butt"}},[t._v("butt")]),a("option",{attrs:{value:"round"}},[t._v("round")]),a("option",{attrs:{value:"square"}},[t._v("square")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineJoin"==t.currentAttribute,expression:"currentAttribute=='lineJoin'"}]},[t._v(" lineJoin: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineJoin,expression:"newCtx.lineJoin"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"lineJoin",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"miter"}},[t._v("miter")]),a("option",{attrs:{value:"bevel"}},[t._v("bevel")]),a("option",{attrs:{value:"round"}},[t._v("round")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"filter"==t.currentAttribute,expression:"currentAttribute=='filter'"}]},[t._v("filter: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.filter,expression:"newCtx.filter"}],domProps:{value:t.newCtx.filter},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"filter",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowBlur"==t.currentAttribute,expression:"currentAttribute=='shadowBlur'"}]},[t._v("shadowBlur: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowBlur,expression:"newCtx.shadowBlur"}],domProps:{value:t.newCtx.shadowBlur},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowBlur",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowColor"==t.currentAttribute,expression:"currentAttribute=='shadowColor'"}]},[t._v("shadowColor: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowColor,expression:"newCtx.shadowColor"}],domProps:{value:t.newCtx.shadowColor},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowColor",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetX"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetX'"}]},[t._v("shadowOffsetX: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetX,expression:"newCtx.shadowOffsetX"}],domProps:{value:t.newCtx.shadowOffsetX},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetX",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetY"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetY'"}]},[t._v("shadowOffsetY: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetY,expression:"newCtx.shadowOffsetY"}],domProps:{value:t.newCtx.shadowOffsetY},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetY",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDash"==t.currentAttribute,expression:"currentAttribute=='lineDash'"}]},[t._v("lineDash: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashStr,expression:"newCtx.lineDashStr"}],domProps:{value:t.newCtx.lineDashStr},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashStr",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDashOffset"==t.currentAttribute,expression:"currentAttribute=='lineDashOffset'"}]},[t._v("lineDashOffset: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashOffset,expression:"newCtx.lineDashOffset"}],domProps:{value:t.newCtx.lineDashOffset},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashOffset",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textAlign"==t.currentAttribute,expression:"currentAttribute=='textAlign'"}]},[t._v(" textAlign: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textAlign,expression:"newCtx.textAlign"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"textAlign",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"start"}},[t._v("start")]),a("option",{attrs:{value:"end"}},[t._v("end")]),a("option",{attrs:{value:"left"}},[t._v("left")]),a("option",{attrs:{value:"right"}},[t._v("right")]),a("option",{attrs:{value:"center"}},[t._v("center")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"miterLimit"==t.currentAttribute,expression:"currentAttribute=='miterLimit'"}]},[t._v("miterLimit: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.miterLimit,expression:"newCtx.miterLimit"}],domProps:{value:t.newCtx.miterLimit},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"miterLimit",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textBaseline"==t.currentAttribute,expression:"currentAttribute=='textBaseline'"}]},[t._v(" textBaseline: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textBaseline,expression:"newCtx.textBaseline"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"textBaseline",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"alphabetic"}},[t._v("alphabetic")]),a("option",{attrs:{value:"top"}},[t._v("top")]),a("option",{attrs:{value:"hanging"}},[t._v("hanging")]),a("option",{attrs:{value:"middle"}},[t._v("middle")]),a("option",{attrs:{value:"ideographic"}},[t._v("ideographic")]),a("option",{attrs:{value:"bottom"}},[t._v("bottom")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalCompositeOperation"==t.currentAttribute,expression:"currentAttribute=='globalCompositeOperation'"}]},[t._v(" globalCompositeOperation: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalCompositeOperation,expression:"newCtx.globalCompositeOperation"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"globalCompositeOperation",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"source-over"}},[t._v("source-over")]),a("option",{attrs:{value:"source-in"}},[t._v("source-in")]),a("option",{attrs:{value:"source-out"}},[t._v("source-out")]),a("option",{attrs:{value:"source-atop"}},[t._v("source-atop")]),a("option",{attrs:{value:"destination-over"}},[t._v("destination-over")]),a("option",{attrs:{value:"destination-in"}},[t._v("destination-in")]),a("option",{attrs:{value:"destination-out"}},[t._v("destination-out")]),a("option",{attrs:{value:"destination-atop"}},[t._v("destination-atop")]),a("option",{attrs:{value:"lighter"}},[t._v("lighter")]),a("option",{attrs:{value:"copy"}},[t._v("copy")]),a("option",{attrs:{value:"xor"}},[t._v("xor")]),a("option",{attrs:{value:"multiply"}},[t._v("multiply")]),a("option",{attrs:{value:"screen"}},[t._v("screen")]),a("option",{attrs:{value:"overlay"}},[t._v("overlay")]),a("option",{attrs:{value:"darken"}},[t._v("darken")]),a("option",{attrs:{value:"lighten"}},[t._v("lighten")]),a("option",{attrs:{value:"color-dodge"}},[t._v("color-dodge")]),a("option",{attrs:{value:"color-burn"}},[t._v("color-burn")]),a("option",{attrs:{value:"hard-light"}},[t._v("hard-light")]),a("option",{attrs:{value:"soft-light"}},[t._v("soft-light")]),a("option",{attrs:{value:"difference"}},[t._v("difference")]),a("option",{attrs:{value:"exclusion"}},[t._v("exclusion")]),a("option",{attrs:{value:"hue"}},[t._v("hue")]),a("option",{attrs:{value:"saturation"}},[t._v("saturation")]),a("option",{attrs:{value:"color"}},[t._v("color")]),a("option",{attrs:{value:"luminosity"}},[t._v("luminosity")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateContextAttribute()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit context attribute")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])},A=[],I={name:"IconEdit",props:{color:{type:String,default:"#000000"}}},F=I,T=Object(y["a"])(F,L,A,!1,null,"7486f52d",null),N=T.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",fill:"#0000aa"}})])},D=[],R={name:"IconReset",props:{}},O=R,W=Object(y["a"])(O,M,D,!1,null,"7df9adc1",null),B=W.exports,U={name:"ContextPanel",components:{IconEdit:N,IconReset:B},props:{},data:function(){return{currentAttribute:null,newCtx:{fillStyle:null,lineCap:"butt",lineJoin:"miter",textAlign:"start",textBaseline:"alphabetic",globalCompositeOperation:"source-over"}}},methods:{editContextAttribute:function(t){this.currentAttribute=t,this.loadContextAttributeValues()},loadContextAttributeValues:function(){this.newCtx.fillStyle=window.ctx.fillStyle,this.newCtx.strokeStyle=window.ctx.strokeStyle,this.newCtx.font=window.ctx.font,this.newCtx.globalAlpha=window.ctx.globalAlpha,this.newCtx.lineWidth=window.ctx.lineWidth,this.newCtx.lineCap=window.ctx.lineCap,this.newCtx.lineJoin=window.ctx.lineJoin,this.newCtx.filter=window.ctx.filter,this.newCtx.shadowBlur=window.ctx.shadowBlur,this.newCtx.shadowColor=window.ctx.shadowColor,this.newCtx.shadowOffsetX=window.ctx.shadowOffsetX,this.newCtx.shadowOffsetY=window.ctx.shadowOffsetY,this.newCtx.lineDashOffset=window.ctx.lineDashOffset,this.newCtx.textAlign=window.ctx.textAlign,this.newCtx.miterLimit=window.ctx.miterLimit,this.newCtx.textBaseline=window.ctx.textBaseline,this.newCtx.globalCompositeOperation=window.ctx.globalCompositeOperation,this.newCtx.lineDashStr="["+window.ctx.getLineDash().toString()+"]"},updateContextAttribute:function(){"fillStyle"==this.currentAttribute?window.ctx.fillStyle=this.newCtx.fillStyle:"strokeStyle"==this.currentAttribute?window.ctx.strokeStyle=this.newCtx.strokeStyle:"font"==this.currentAttribute?window.ctx.font=this.newCtx.font:"globalAlpha"==this.currentAttribute?window.ctx.globalAlpha=this.newCtx.globalAlpha:"lineWidth"==this.currentAttribute?window.ctx.lineWidth=this.newCtx.lineWidth:"lineCap"==this.currentAttribute?window.ctx.lineCap=this.newCtx.lineCap:"lineJoin"==this.currentAttribute?window.ctx.lineJoin=this.newCtx.lineJoin:"filter"==this.currentAttribute?window.ctx.filter=this.newCtx.filter:"shadowBlur"==this.currentAttribute?window.ctx.shadowBlur=this.newCtx.shadowBlur:"shadowColor"==this.currentAttribute?window.ctx.shadowColor=this.newCtx.shadowColor:"shadowOffsetX"==this.currentAttribute?window.ctx.shadowOffsetX=this.newCtx.shadowOffsetX:"shadowOffsetY"==this.currentAttribute?window.ctx.shadowOffsetY=this.newCtx.shadowOffsetY:"lineDashOffset"==this.currentAttribute?window.ctx.lineDashOffset=this.newCtx.lineDashOffset:"textAlign"==this.currentAttribute?window.ctx.textAlign=this.newCtx.textAlign:"miterLimit"==this.currentAttribute?window.ctx.miterLimit=this.newCtx.miterLimit:"textBaseline"==this.currentAttribute?window.ctx.textBaseline=this.newCtx.textBaseline:"globalCompositeOperation"==this.currentAttribute?window.ctx.globalCompositeOperation=this.newCtx.globalCompositeOperation:"lineDash"==this.currentAttribute&&window.ctx.setLineDash(this.newCtx.lineDashStr.replaceAll("[","").replaceAll("]","").split(",")),this.$parent.updateCurrentContextDetails()},openColorPicker:function(t){window.$("#modalColorPicker").modal("show"),this.$parent.$refs.modalColorPicker.target=t,"fillStyle"==t?this.$parent.$refs.modalColorPicker.setCurrentColor(window.ctx.fillStyle):"strokeStyle"==t&&this.$parent.$refs.modalColorPicker.setCurrentColor(window.ctx.strokeStyle)}}},j=U,H=Object(y["a"])(j,E,$,!1,null,"3fd2dc46",null),V=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("layers")}}},[a("span",{staticClass:"panelTitle"},[t._v("Layers")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.layers,expression:"$parent.visiblePanels.layers"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.canvasLayers,(function(e){return a("tr",{key:e.name,class:{selectedLayer:null!=t.$parent.currentLayer&&e.name==t.$parent.currentLayer.name},on:{click:function(a){return t.$parent.setCurrentLayer(e.name)}}},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.visible,expression:"layer.visible"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_layer_visible_"+e.name},domProps:{checked:Array.isArray(e.visible)?t._i(e.visible,null)>-1:e.visible},on:{change:[function(a){var n=e.visible,r=a.target,i=!!r.checked;if(Array.isArray(n)){var s=null,o=t._i(n,s);r.checked?o<0&&t.$set(e,"visible",n.concat([s])):o>-1&&t.$set(e,"visible",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"visible",i)},function(e){return t.$parent.updateCanvasAllLayers()}]}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_layer_visible_"+e.name}})])]),a("td",[a("a",[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.alpha))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.$parent.setCurrentLayer(e.name)}}},[t._v("select")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditLayer"},on:{click:function(a){return t.editLayer(e)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.$parent.deleteLayer(e)}}},[t._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddLayer"},on:{click:function(e){return t.showAddLayerForm()}}},[t._v("Add layer")]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalDuplicateLayer"},on:{click:function(e){return t.showDuplicateLayerForm()}}},[t._v("Duplicate")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveLayerUp()}}},[a("IconUp")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveLayerDown()}}},[a("IconDown")],1)])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",[t._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedLayer.name,expression:"editedLayer.name"}],domProps:{value:t.editedLayer.name},on:{input:function(e){e.target.composing||t.$set(t.editedLayer,"name",e.target.value)}}})]),a("div",[t._v("alpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedLayer.alpha,expression:"editedLayer.alpha"}],domProps:{value:t.editedLayer.alpha},on:{input:function(e){e.target.composing||t.$set(t.editedLayer,"alpha",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateLayer()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[a("div",[t._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newLayerForm.name,expression:"newLayerForm.name"}],domProps:{value:t.newLayerForm.name},on:{input:function(e){e.target.composing||t.$set(t.newLayerForm,"name",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.addLayer()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalDuplicateLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-body"},[a("div",[t._v("New layer name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.duplicateLayerForm.newLayerName,expression:"duplicateLayerForm.newLayerName"}],domProps:{value:t.duplicateLayerForm.newLayerName},on:{input:function(e){e.target.composing||t.$set(t.duplicateLayerForm,"newLayerName",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.duplicateCurrentLayer()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("visible")]),a("th",[t._v("name")]),a("th",[t._v("alpha")]),a("th"),a("th"),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Duplicate layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}})])},X=[],Y={name:"IconUp",props:{}},J=Y,K=Object(y["a"])(J,z,X,!1,null,"fc87067a",null),Z=K.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}})])},tt=[],et={name:"IconDown",props:{}},at=et,nt=Object(y["a"])(at,Q,tt,!1,null,"14a1ec91",null),rt=nt.exports,it={name:"LayersPanel",components:{IconUp:Z,IconDown:rt},props:{},data:function(){return{originalLayer:null,editedLayer:{name:null,alpha:null},newLayerForm:{name:null},duplicateLayerForm:{newLayerName:null}}},methods:{showAddLayerForm:function(){this.newLayerForm.name="NewLayer",window.$("#modalAddLayer").modal("show")},addLayer:function(){this.$parent.addLayerWithName(this.newLayerForm.name),this.$parent.setCurrentLayer(this.newLayerForm.name)},showDuplicateLayerForm:function(){this.duplicateLayerForm.newLayerName="LayerCopy",window.$("#modalDuplicateLayer").modal("show")},duplicateCurrentLayer:function(){this.$parent.duplicateLayer(this.$parent.currentLayer,this.duplicateLayerForm.newLayerName)},editLayer:function(t){this.originalLayer=t,this.editedLayer.name=this.originalLayer.name,this.editedLayer.alpha=this.originalLayer.alpha},updateLayer:function(){this.originalLayer.name=this.editedLayer.name,this.originalLayer.alpha=parseFloat(this.editedLayer.alpha),this.$parent.updateCurrentLayerCanvas(),this.$parent.updateCanvasAllLayers()}}},st=it,ot=Object(y["a"])(st,G,q,!1,null,"fd21fbbc",null),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("events")}}},[a("span",{staticClass:"panelTitle"},[t._v("Events")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.events,expression:"$parent.visiblePanels.events"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.customEvents,(function(e){return a("tr",{key:e.name},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"customEvent.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_custom_event_enabled_"+e.name},domProps:{checked:Array.isArray(e.enabled)?t._i(e.enabled,null)>-1:e.enabled},on:{change:function(a){var n=e.enabled,r=a.target,i=!!r.checked;if(Array.isArray(n)){var s=null,o=t._i(n,s);r.checked?o<0&&t.$set(e,"enabled",n.concat([s])):o>-1&&t.$set(e,"enabled",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"enabled",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_custom_event_enabled_"+e.name}})])]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.type))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.executeCustomEvent(e)}}},[t._v("execute")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditCustomEvent"},on:{click:function(a){return t.showEditCustomEventForm(e)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteCustomEvent(e)}}},[t._v("delete")])])])})),0)]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddCustomEvent"},on:{click:function(e){return t.showAddCustomEventForm()}}},[t._v("Add event")])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.name,expression:"newEventForm.name"}],domProps:{value:t.newEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.newEventForm,"name",e.target.value)}}})]),a("div",[t._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.type,expression:"newEventForm.type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newEventForm,"type",e.target.multiple?a:a[0])}}},t._l(t.customEventTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",[t._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.sourceCode,expression:"newEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:t.newEventForm.sourceCode},on:{input:function(e){e.target.composing||t.$set(t.newEventForm,"sourceCode",e.target.value)}}}),t._m(2)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.addCustomEvent()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-body"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.name,expression:"editEventForm.name"}],domProps:{value:t.editEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"name",e.target.value)}}})]),a("div",[t._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.type,expression:"editEventForm.type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editEventForm,"type",e.target.multiple?a:a[0])}}},t._l(t.customEventTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",[t._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.sourceCode,expression:"editEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:t.editEventForm.sourceCode},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"sourceCode",e.target.value)}}}),t._m(4)]),a("div",{staticClass:"custom-control custom-switch",staticStyle:{"margin-top":"10px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.enabled,expression:"editEventForm.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_edit_custom_event_enabled_"+t.editEventForm.name},domProps:{checked:Array.isArray(t.editEventForm.enabled)?t._i(t.editEventForm.enabled,null)>-1:t.editEventForm.enabled},on:{change:function(e){var a=t.editEventForm.enabled,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&t.$set(t.editEventForm,"enabled",a.concat([i])):s>-1&&t.$set(t.editEventForm,"enabled",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.editEventForm,"enabled",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_edit_custom_event_enabled_"+t.editEventForm.name}},[t._v("Enabled")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateCustomEvent()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("enabled")]),a("th",[t._v("name")]),a("th",[t._v("type")]),a("th",[t._v("execute")]),a("th",[t._v("edit")]),a("th",[t._v("delete")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("b",[t._v("To get current mouse position:")])]),a("div",[t._v("app.mousePosition.x")]),a("div",[t._v("app.mousePosition.y")]),a("div",[a("b",[t._v("To get previous mouse position:")])]),a("div",[t._v("app.previousMousePosition.x")]),a("div",[t._v("app.previousMousePosition.y")]),a("div",[a("b",[t._v("To get last mouse down position:")])]),a("div",[t._v("app.mouseDownPosition.x")]),a("div",[t._v("app.mouseDownPosition.y")]),a("div",[a("b",[t._v("To detect if mouse button is down:")])]),a("div",[t._v("app.isMouseDown")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("b",[t._v("To get current mouse position:")])]),a("div",[t._v("app.mousePosition.x")]),a("div",[t._v("app.mousePosition.y")]),a("div",[a("b",[t._v("To get previous mouse position:")])]),a("div",[t._v("app.previousMousePosition.x")]),a("div",[t._v("app.previousMousePosition.y")]),a("div",[a("b",[t._v("To get last mouse down position:")])]),a("div",[t._v("app.mouseDownPosition.x")]),a("div",[t._v("app.mouseDownPosition.y")]),a("div",[a("b",[t._v("To detect if mouse button is down:")])]),a("div",[t._v("app.isMouseDown")])])}],dt={name:"EventsPanel",components:{},props:{},data:function(){return{customEventTypes:["mouseDown","mouseUp","mouseMove","animationFrame"],originalEvent:null,editEventForm:{name:null,type:null,enabled:null,sourceCode:null},newEventForm:{name:null,type:null,enabled:null,sourceCode:null}}},methods:{showAddCustomEventForm:function(){this.newEventForm.name="Event 01",this.newEventForm.type=this.customEventTypes[0],this.newEventForm.sourceCode="",this.newEventForm.enabled=!0},addCustomEvent:function(){var t={name:this.newEventForm.name,type:this.newEventForm.type,enabled:this.newEventForm.enabled,func:new Function("params",this.newEventForm.sourceCode),source:this.newEventForm.sourceCode};this.$parent.customEvents.push(t)},showEditCustomEventForm:function(t){this.originalEvent=t,this.editEventForm.name=t.name,this.editEventForm.type=t.type,this.editEventForm.enabled=t.enabled,this.editEventForm.sourceCode=t.source},updateCustomEvent:function(){this.originalEvent.name=this.editEventForm.name,this.originalEvent.type=this.editEventForm.type,this.originalEvent.source=this.editEventForm.sourceCode,this.originalEvent.enabled=this.editEventForm.enabled,this.originalEvent.func=new Function("params",this.editEventForm.sourceCode)},executeCustomEvent:function(t){t.func(),this.$parent.updateCanvasAllLayers(),this.$parent.updateCurrentLayerCanvas()},deleteCustomEvent:function(t){this.$parent.deleteCustomEvent(t)}}},pt=dt,ht=(a("7f64"),Object(y["a"])(pt,ct,ut,!1,null,"509b1541",null)),mt=ht.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("images")}}},[a("span",{staticClass:"panelTitle"},[t._v("Images")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.images,expression:"$parent.visiblePanels.images"}],staticClass:"panelBody"},[a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalLoadImage()}}},[t._v("Load image")]),a("div",{staticClass:"spacing"}),t.$parent.images.length>0?a("table",{staticClass:"smallTable contextPropertiesTable"},[t._m(0),a("tbody",t._l(t.$parent.images,(function(e){return a("tr",{key:e.filename},[a("td",[e.url?a("img",{staticStyle:{"max-width":"64px"},attrs:{src:e.url}}):t._e()]),a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectImageToDraw(e)}}},[t._v("draw...")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectImageToDrawScaled(e)}}},[t._v("draw scaled...")])])])})),0)]):t._e(),a("div",{staticClass:"spacing"})]),a("ModalLoadImage",{ref:"modalLoadImage"})],1)},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("image")]),a("th",[t._v("name")]),a("th",[t._v("draw")]),a("th",[t._v("draw scaled")])])])}],gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalLoadImage",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("span",[t._v("Load image: ")]),a("input",{attrs:{type:"file",id:"inputImage"},on:{change:t.onImageUpload}})]),null!=t.image?a("div",[a("img",{staticStyle:{"max-width":"64px"},attrs:{src:t.image.url}})]):t._e(),a("br"),null!=t.image?a("div",[a("span",[t._v("Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image.name,expression:"image.name"}],domProps:{value:t.image.name},on:{input:function(e){e.target.composing||t.$set(t.image,"name",e.target.value)}}})]):t._e()]),a("div",{staticClass:"modal-footer"},[null!=t.image?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.loadImage()}}},[t._v("OK")]):t._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Load image")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],wt={name:"ModalLoadImage",components:{},props:{},data:function(){return{image:null}},methods:{open:function(){this.image=null,window.$("#modalLoadImage").modal("show")},onImageUpload:function(t){var e=t.target.files[0],a=e.name.replace(/\.[^/.]+$/,""),n={filename:e.name,url:URL.createObjectURL(e),name:a};this.image=n},loadImage:function(){null!=this.image&&this.$parent.$parent.images.push(this.image),window.$("#modalLoadImage").modal("hide")}}},yt=wt,xt=Object(y["a"])(yt,gt,bt,!1,null,"2159a0e2",null),Ct=xt.exports,_t={name:"ImagesPanel",components:{ModalLoadImage:Ct},props:{},data:function(){return{}},methods:{selectImageToDraw:function(t){this.$parent.selectSampleScriptWithParams("Draw image");for(var e=0;e<this.$parent.selectedSampleScriptWithParams.params.length;e++){var a=this.$parent.selectedSampleScriptWithParams.params[e];"imageName"==a.name&&(a.value=t.name)}},selectImageToDrawScaled:function(t){this.$parent.selectSampleScriptWithParams("Draw image scaled");for(var e=0;e<this.$parent.selectedSampleScriptWithParams.params.length;e++){var a=this.$parent.selectedSampleScriptWithParams.params[e];"imageName"==a.name&&(a.value=t.name)}},showModalLoadImage:function(){this.$refs.modalLoadImage.open()}}},St=_t,Pt=Object(y["a"])(St,vt,ft,!1,null,"6be1b068",null),kt=Pt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("fonts")}}},[a("span",{staticClass:"panelTitle"},[t._v("Fonts")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.fonts,expression:"$parent.visiblePanels.fonts"}],staticClass:"panelBody"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.fontPanelForm.fontName,expression:"$parent.fontPanelForm.fontName"}],domProps:{value:t.$parent.fontPanelForm.fontName},on:{input:function(e){e.target.composing||t.$set(t.$parent.fontPanelForm,"fontName",e.target.value)}}})]),a("input",{attrs:{type:"file"},on:{change:t.$parent.onFontUpload}}),a("div",[t._v("URL: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.fontPanelForm.fontURL,expression:"$parent.fontPanelForm.fontURL"}],domProps:{value:t.$parent.fontPanelForm.fontURL},on:{input:function(e){e.target.composing||t.$set(t.$parent.fontPanelForm,"fontURL",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.loadFont()}}},[t._v("Load font")]),a("div",{staticClass:"spacing"}),a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.fonts,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.font.style))]),a("td",[t._v(t._s(e.font.weight))])])})),0)]),a("div",{staticClass:"spacing"})])])},$t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("style")]),a("th",[t._v("weight")])])])}],Lt={name:"FontsPanel",components:{},props:{},data:function(){return{}},methods:{}},At=Lt,It=Object(y["a"])(At,Et,$t,!1,null,"a7371202",null),Ft=It.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("globalVariables")}}},[a("span",{staticClass:"panelTitle"},[t._v("Global variables")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.globalVariables,expression:"$parent.visiblePanels.globalVariables"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.globalVariables,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n))]),a("td",[t._v(t._s(e))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.editGlobalVariable(n)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.deleteGlobalVariable(n)}}},[t._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.$parent.popupAddGlobalVariable}},[t._v("add")])])])])},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("value")]),a("th"),a("th")])])}],Mt={name:"GlobalVariablesPanel",components:{},props:{},data:function(){return{}},methods:{}},Dt=Mt,Rt=Object(y["a"])(Dt,Tt,Nt,!1,null,"af606bac",null),Ot=Rt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("logs")}}},[a("span",{staticClass:"panelTitle"},[t._v("Logs")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.logs,expression:"$parent.visiblePanels.logs"}],staticClass:"panelBody"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.clearLogs()}}},[t._v("clear logs")]),a("div",[t._v("Showing "+t._s(t.$parent.logs.length)+" log messages")]),a("table",{staticClass:"smallTable"},[a("tbody",t._l(t.$parent.logs,(function(e){return a("tr",{key:e},[a("td",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"spacing"})])])},Bt=[],Ut={name:"LogsPanel",components:{},props:{},data:function(){return{}},methods:{}},jt=Ut,Ht=Object(y["a"])(jt,Wt,Bt,!1,null,"982cfcb6",null),Vt=Ht.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.$parent.selectedSampleScriptWithParams?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("scriptWithParams")}}},[a("span",{staticClass:"panelTitle"},[t._v("Execute script")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(e){return t.$parent.unselectSampleScriptWithParams()}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.scriptWithParams,expression:"$parent.visiblePanels.scriptWithParams"}],staticClass:"panelBody"},[null!=t.$parent.selectedSampleScriptWithParams?a("div",[a("h3",[t._v(t._s(t.$parent.selectedSampleScriptWithParams.name))]),a("br"),a("table",[a("tbody",t._l(t.$parent.selectedSampleScriptWithParams.params,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"param.value"}],domProps:{value:e.value},on:{input:[function(a){a.target.composing||t.$set(e,"value",a.target.value)},function(e){return t.$parent.onSampleScriptParamChange()}]}}),"colorHex"==e.type?a("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.value,on:{click:function(a){return t.openColorPicker("scriptParam",e)}}}):t._e()])])})),0)]),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.$parent.executeSampleScriptWithParams()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),"SAMPLE_SCRIPT"==t.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.loadSampleScript(t.$parent.selectedSampleScriptWithParams.name)}}},[t._v("Open script")]):t._e(),"SAVED_SCRIPT"==t.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.loadSavedScript(t.$parent.selectedSampleScriptWithParams.name)}}},[t._v("Open script")]):t._e(),a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return t.$parent.unselectSampleScriptWithParams()}}},[t._v("Cancel")])]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.clearLayerBeforeExecutingScriptWithParams,expression:"$parent.clearLayerBeforeExecutingScriptWithParams"}],attrs:{type:"checkbox",id:"checkbox01"},domProps:{checked:Array.isArray(t.$parent.clearLayerBeforeExecutingScriptWithParams)?t._i(t.$parent.clearLayerBeforeExecutingScriptWithParams,null)>-1:t.$parent.clearLayerBeforeExecutingScriptWithParams},on:{change:function(e){var a=t.$parent.clearLayerBeforeExecutingScriptWithParams,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&t.$set(t.$parent,"clearLayerBeforeExecutingScriptWithParams",a.concat([i])):s>-1&&t.$set(t.$parent,"clearLayerBeforeExecutingScriptWithParams",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.$parent,"clearLayerBeforeExecutingScriptWithParams",r)}}}),a("label",{attrs:{for:"checkbox01"}},[t._v("Clear layer before executing")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.executeScriptsWithParamsOnChange,expression:"$parent.executeScriptsWithParamsOnChange"}],attrs:{type:"checkbox",id:"checkbox02"},domProps:{checked:Array.isArray(t.$parent.executeScriptsWithParamsOnChange)?t._i(t.$parent.executeScriptsWithParamsOnChange,null)>-1:t.$parent.executeScriptsWithParamsOnChange},on:{change:function(e){var a=t.$parent.executeScriptsWithParamsOnChange,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&t.$set(t.$parent,"executeScriptsWithParamsOnChange",a.concat([i])):s>-1&&t.$set(t.$parent,"executeScriptsWithParamsOnChange",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.$parent,"executeScriptsWithParamsOnChange",r)}}}),a("label",{attrs:{for:"checkbox02"}},[t._v("Execute automatically on param change")])]):t._e()])]):t._e()},qt=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"12px",height:"12px"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}})])},Xt=[],Yt={name:"IconExecute",props:{color:{type:String,default:"#000000"}}},Jt=Yt,Kt=Object(y["a"])(Jt,zt,Xt,!1,null,"e96ec450",null),Zt=Kt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"0",y:"0",width:"18",height:"18","stroke-width":"2",stroke:"#dc3545",fill:"#dc3545"}}),a("line",{attrs:{x1:"4",y1:"4",x2:"14",y2:"14",stroke:"white","stroke-width":"2"}}),a("line",{attrs:{x1:"4",y1:"14",x2:"14",y2:"4",stroke:"white","stroke-width":"2"}})])},te=[],ee={name:"IconClose",props:{color:{type:String,default:"#000000"}}},ae=ee,ne=Object(y["a"])(ae,Qt,te,!1,null,"05ba1bcb",null),re=ne.exports,ie={name:"ScriptWithParamsPanel",components:{IconExecute:Zt,IconClose:re},props:{},data:function(){return{}},methods:{openColorPicker:function(t,e){window.$("#modalColorPicker").modal("show"),this.$parent.$refs.modalColorPicker.target=t,this.$parent.$refs.modalColorPicker.scriptParam=e,this.$parent.$refs.modalColorPicker.setCurrentColor(e.value)}}},se=ie,oe=Object(y["a"])(se,Gt,qt,!1,null,"03bdb885",null),le=oe.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.currentScript?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("configureScript")}}},[a("span",{staticClass:"panelTitle"},[t._v("Configure script params")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(e){t.currentScript=null}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),t.$parent.visiblePanels.configureScript?a("div",{staticClass:"panelBody"},[a("h3",[t._v(t._s(t.currentScript.name))]),t.currentScript.params.length>0?a("div",[a("b",[t._v("Script params:")])]):t._e(),a("div",{staticClass:"spacing"}),0==t.currentScript.params.length?a("div",[t._v("This script has no params.")]):t._e(),t.currentScript.params.length>0?a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.currentScript.params,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.defaultValue))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.editScriptParam(e)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteScriptParam(e.name)}}},[t._v("delete")])])])})),0)]):t._e(),a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalAddScriptParam()}}},[t._v("Add script param")]),a("div",{staticClass:"spacing"})]):t._e(),a("ModalAddScriptParam",{ref:"modalAddScriptParam"})],1):t._e()},ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("type")]),a("th",[t._v("default value")]),a("th",[t._v("edit")]),a("th",[t._v("delete")])])])}],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalAddScriptParam",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[t._v("Param name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramName,expression:"paramName"}],domProps:{value:t.paramName},on:{input:function(e){e.target.composing||(t.paramName=e.target.value)}}})]),a("div",[t._v(" Param type: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_string",value:"string"},domProps:{checked:t._q(t.paramType,"string")},on:{change:function(e){t.paramType="string"}}}),a("label",{attrs:{for:"type_string"}},[t._v("String ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_number",value:"number"},domProps:{checked:t._q(t.paramType,"number")},on:{change:function(e){t.paramType="number"}}}),a("label",{attrs:{for:"type_number"}},[t._v("Number ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_colorHex",value:"colorHex"},domProps:{checked:t._q(t.paramType,"colorHex")},on:{change:function(e){t.paramType="colorHex"}}}),a("label",{attrs:{for:"type_colorHex"}},[t._v("Color (hex) ")])]),a("div",[t._v("Default value: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.defaultValue,expression:"defaultValue"}],domProps:{value:t.defaultValue},on:{input:function(e){e.target.composing||(t.defaultValue=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[null==t.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addScriptParam()}}},[t._v("Add")]):t._e(),null!=t.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateScriptParam()}}},[t._v("Update")]):t._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add script param")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],he={name:"ModalAddScriptParam",components:{},props:{},data:function(){return{editingParam:null,paramName:"",paramType:"string",defaultValue:""}},methods:{open:function(){this.clearForm(),window.$("#modalAddScriptParam").modal("show")},editScriptParam:function(t){this.editingParam=t,this.paramName=this.editingParam.name,this.paramType=this.editingParam.type,this.defaultValue=this.editingParam.defaultValue,window.$("#modalAddScriptParam").modal("show")},updateScriptParam:function(){this.editingParam.name=this.paramName,this.editingParam.type=this.paramType,this.editingParam.defaultValue="number"==this.paramType?Number(this.defaultValue):this.defaultValue,window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},addScriptParam:function(){var t={name:this.paramName,type:this.paramType,defaultValue:"number"==this.paramType?Number(this.defaultValue):this.defaultValue};this.$parent.addScriptParam(t),window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},clearForm:function(){this.editingParam=null,this.paramName="",this.paramType="string",this.defaultValue=""}}},me=he,ve=(a("7f74"),Object(y["a"])(me,de,pe,!1,null,"0e79785e",null)),fe=ve.exports,ge={name:"ConfigureScriptPanel",components:{ModalAddScriptParam:fe,IconClose:re},props:{},data:function(){return{currentScript:null}},methods:{setCurrentScript:function(t){this.currentScript=t},editScriptParam:function(t){this.$refs.modalAddScriptParam.editScriptParam(t)},showModalAddScriptParam:function(){this.$refs.modalAddScriptParam.open()},addScriptParam:function(t){null==this.currentScript.params&&(this.currentScript.params=[]),this.currentScript.params.push(t)},deleteScriptParam:function(t){for(var e=this.currentScript.params,a=0;a<e.length;a++){var n=e[a];if(n.name==t)return void e.splice(a,1)}}}},be=ge,we=Object(y["a"])(be,ce,ue,!1,null,"2f901e6f",null),ye=we.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalExport",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[t._v("Export type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"full_canvas",value:"FULL_CANVAS"},domProps:{checked:t._q(t.$parent.exportConfigForm.type,"FULL_CANVAS")},on:{change:function(e){return t.$set(t.$parent.exportConfigForm,"type","FULL_CANVAS")}}}),a("label",{attrs:{for:"full_canvas"}},[t._v("Full canvas ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop",value:"CROP"},domProps:{checked:t._q(t.$parent.exportConfigForm.type,"CROP")},on:{change:function(e){return t.$set(t.$parent.exportConfigForm,"type","CROP")}}}),a("label",{attrs:{for:"crop"}},[t._v("Crop ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop_at",value:"CROP_AT"},domProps:{checked:t._q(t.$parent.exportConfigForm.type,"CROP_AT")},on:{change:function(e){return t.$set(t.$parent.exportConfigForm,"type","CROP_AT")}}}),a("label",{attrs:{for:"crop_at"}},[t._v("Crop at... ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"CROP_AT"==t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type == 'CROP_AT'"}]},[a("div",[t._v("Crop start x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropStartX,expression:"$parent.exportConfigForm.cropStartX"}],domProps:{value:t.$parent.exportConfigForm.cropStartX},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropStartX",e.target.value)}}})]),a("div",[t._v("Crop start y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropStartY,expression:"$parent.exportConfigForm.cropStartY"}],domProps:{value:t.$parent.exportConfigForm.cropStartY},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropStartY",e.target.value)}}})]),a("div",[t._v("Crop end x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropEndX,expression:"$parent.exportConfigForm.cropEndX"}],domProps:{value:t.$parent.exportConfigForm.cropEndX},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropEndX",e.target.value)}}})]),a("div",[t._v("Crop end y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropEndY,expression:"$parent.exportConfigForm.cropEndY"}],domProps:{value:t.$parent.exportConfigForm.cropEndY},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropEndY",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$parent.exportCanvas()}}},[t._v("Export")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},Ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Export")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],_e={name:"ModalExport",components:{},props:{},data:function(){return{}},methods:{}},Se=_e,Pe=Object(y["a"])(Se,xe,Ce,!1,null,"b87925c8",null),ke=Pe.exports,Ee=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalPasteImageFromClipboard",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Paste image from clipboard")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("h3",[t._v("Press CTRL+V to paste image from clipboard")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])}],Le={name:"ModalPasteImageFromClipboard",components:{},props:{},data:function(){return{}},methods:{}},Ae=Le,Ie=Object(y["a"])(Ae,Ee,$e,!1,null,"0166b8d0",null),Fe=Ie.exports,Te=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ne=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{id:"modalHelp",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Help")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),n("div",{staticClass:"modal-body"},[n("img",{staticClass:"logo",attrs:{alt:"DrawJS logo",src:a("6cfa")}}),n("br"),n("br"),n("p",[n("a",{attrs:{href:"https://www.youtube.com/channel/UC6MPzpvbIs1x2HtoM83fVcQ",target:"_blank"}},[t._v("Video tutorials")])]),n("p",[n("a",{attrs:{href:"https://danielbarral.itch.io/drawjs/community",target:"_blank"}},[t._v("Discussion board")])]),n("p",[n("a",{attrs:{href:"https://www.reddit.com/r/DrawJS/",target:"_blank"}},[t._v("Reddit")])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])}],Me={name:"ModalHelp",components:{},props:{},data:function(){return{}},methods:{}},De=Me,Re=(a("af30"),Object(y["a"])(De,Te,Ne,!1,null,"0669f9fa",null)),Oe=Re.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalColorPicker",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.screen,expression:"screen"}],attrs:{type:"radio",id:"type_basicColors",value:"basicColors"},domProps:{checked:t._q(t.screen,"basicColors")},on:{change:function(e){t.screen="basicColors"}}}),a("label",{staticClass:"radioLabel",attrs:{for:"type_basicColors"}},[t._v("Basic colors ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.screen,expression:"screen"}],attrs:{type:"radio",id:"type_customColors",value:"customColors"},domProps:{checked:t._q(t.screen,"customColors")},on:{change:function(e){t.screen="customColors"}}}),a("label",{staticClass:"radioLabel",attrs:{for:"type_customColors"}},[t._v("Custom colors ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"basicColors"==t.screen,expression:"screen == 'basicColors'"}]},[a("table",{staticClass:"colorGridTable"},t._l(t.colorGrid.rows,(function(e){return a("tr",{key:e.id},t._l(e.colors,(function(e){return a("td",{key:e.hex},[a("svg",{attrs:{height:"30",width:"30"}},[a("circle",{staticClass:"colorSvg",attrs:{cx:"15",cy:"15",r:"13",stroke:"black","stroke-width":"0.5",fill:e.hex},on:{click:function(a){return t.selectColor(e)}}})])])})),0)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"customColors"==t.screen,expression:"screen == 'customColors'"}]},[a("div",{attrs:{id:"colorPicker"}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentColor.hex,expression:"currentColor.hex"}],domProps:{value:t.currentColor.hex},on:{input:function(e){e.target.composing||t.$set(t.currentColor,"hex",e.target.value)}}}),a("button",{staticClass:"btn btn-primary btn",on:{click:function(e){return t.selectCurrentColor()}}},[t._v("Select")])])]),t._m(1)])])])},Be=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Color Picker")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])}],Ue={},je=[],He=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function Ve(t,e){for(var a in e)t[a]=e[a];return t}function Ge(t){var e=t.parentNode;e&&e.removeChild(t)}function qe(t,e,a){var n,r,i,s,o=arguments;if(e=Ve({},e),arguments.length>3)for(a=[a],n=3;n<arguments.length;n++)a.push(o[n]);if(null!=a&&(e.children=a),null!=t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===e[r]&&(e[r]=t.defaultProps[r]);return s=e.key,null!=(i=e.ref)&&delete e.ref,null!=s&&delete e.key,ze(t,e,s,i)}function ze(t,e,a,r){var i={type:t,props:e,key:a,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(i),i}function Xe(t){return t.children}function Ye(t){if(null==t||"boolean"==typeof t)return null;if("string"==typeof t||"number"==typeof t)return ze(null,t,null,null);if(null!=t.__e||null!=t.__c){var e=ze(t.type,t.props,t.key,null);return e.__e=t.__e,e}return t}function Je(t,e){this.props=t,this.context=e}function Ke(t,e){if(null==e)return t.__p?Ke(t.__p,t.__p.__k.indexOf(t)+1):null;for(var a;e<t.__k.length;e++)if(null!=(a=t.__k[e])&&null!=a.__e)return a.__e;return"function"==typeof t.type?Ke(t):null}function Ze(t){var e,a;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(a=t.__k[e])&&null!=a.__e){t.__e=t.__c.base=a.__e;break}return Ze(t)}}function Qe(t){(!t.__d&&(t.__d=!0)&&1===r.push(t)||s!==n.debounceRendering)&&(s=n.debounceRendering,(n.debounceRendering||i)(ta))}function ta(){var t,e,a,n,i,s,o,l;for(r.sort((function(t,e){return e.__v.__b-t.__v.__b}));t=r.pop();)t.__d&&(a=void 0,n=void 0,s=(i=(e=t).__v).__e,o=e.__P,l=e.u,e.u=!1,o&&(a=[],n=oa(o,i,Ve({},i),e.__n,void 0!==o.ownerSVGElement,null,a,l,null==s?Ke(i):s),la(a,i),n!=s&&Ze(i)))}function ea(t,e,a,n,r,i,s,o,l){var c,u,d,p,h,m,v,f=a&&a.__k||je,g=f.length;if(o==Ue&&(o=null!=i?i[0]:g?Ke(a,0):null),c=0,e.__k=aa(e.__k,(function(a){if(null!=a){if(a.__p=e,a.__b=e.__b+1,null===(d=f[c])||d&&a.key==d.key&&a.type===d.type)f[c]=void 0;else for(u=0;u<g;u++){if((d=f[u])&&a.key==d.key&&a.type===d.type){f[u]=void 0;break}d=null}if(p=oa(t,a,d=d||Ue,n,r,i,s,null,o,l),(u=a.ref)&&d.ref!=u&&(v||(v=[])).push(u,a.__c||p,a),null!=p){if(null==m&&(m=p),null!=a.l)p=a.l,a.l=null;else if(i==d||p!=o||null==p.parentNode){t:if(null==o||o.parentNode!==t)t.appendChild(p);else{for(h=o,u=0;(h=h.nextSibling)&&u<g;u+=2)if(h==p)break t;t.insertBefore(p,o)}"option"==e.type&&(t.value="")}o=p.nextSibling,"function"==typeof e.type&&(e.l=p)}}return c++,a})),e.__e=m,null!=i&&"function"!=typeof e.type)for(c=i.length;c--;)null!=i[c]&&Ge(i[c]);for(c=g;c--;)null!=f[c]&&da(f[c],f[c]);if(v)for(c=0;c<v.length;c++)ua(v[c],v[++c],v[++c])}function aa(t,e,a){if(null==a&&(a=[]),null==t||"boolean"==typeof t)e&&a.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)aa(t[n],e,a);else a.push(e?e(Ye(t)):t);return a}function na(t,e,a,n,r){var i;for(i in a)i in e||ia(t,i,null,a[i],n);for(i in e)r&&"function"!=typeof e[i]||"value"===i||"checked"===i||a[i]===e[i]||ia(t,i,e[i],a[i],n)}function ra(t,e,a){"-"===e[0]?t.setProperty(e,a):t[e]="number"==typeof a&&!1===He.test(e)?a+"px":null==a?"":a}function ia(t,e,a,n,r){var i,s,o,l,c;if("key"===(e=r?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(i=t.style,"string"==typeof a)i.cssText=a;else{if("string"==typeof n&&(i.cssText="",n=null),n)for(s in n)a&&s in a||ra(i,s,"");if(a)for(o in a)n&&a[o]===n[o]||ra(i,o,a[o])}else"o"===e[0]&&"n"===e[1]?(l=e!==(e=e.replace(/Capture$/,"")),c=e.toLowerCase(),e=(c in t?c:e).slice(2),a?(n||t.addEventListener(e,sa,l),(t.t||(t.t={}))[e]=a):t.removeEventListener(e,sa,l)):"list"!==e&&"tagName"!==e&&"form"!==e&&!r&&e in t?t[e]=null==a?"":a:"function"!=typeof a&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==a||!1===a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),a):null==a||!1===a?t.removeAttribute(e):t.setAttribute(e,a))}function sa(t){return this.t[t.type](n.event?n.event(t):t)}function oa(t,e,a,r,i,s,o,l,c,u){var d,p,h,m,v,f,g,b,w,y,x=e.type;if(void 0!==e.constructor)return null;(d=n.__b)&&d(e);try{t:if("function"==typeof x){if(b=e.props,w=(d=x.contextType)&&r[d.__c],y=d?w?w.props.value:d.__p:r,a.__c?g=(p=e.__c=a.__c).__p=p.__E:("prototype"in x&&x.prototype.render?e.__c=p=new x(b,y):(e.__c=p=new Je(b,y),p.constructor=x,p.render=pa),w&&w.sub(p),p.props=b,p.state||(p.state={}),p.context=y,p.__n=r,h=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=x.getDerivedStateFromProps&&Ve(p.__s==p.state?p.__s=Ve({},p.__s):p.__s,x.getDerivedStateFromProps(b,p.__s)),h)null==x.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&o.push(p);else{if(null==x.getDerivedStateFromProps&&null==l&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(b,y),!l&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(b,p.__s,y)){for(p.props=b,p.state=p.__s,p.__d=!1,p.__v=e,e.__e=null!=c?c!==a.__e?c:a.__e:null,e.__k=a.__k,d=0;d<e.__k.length;d++)e.__k[d]&&(e.__k[d].__p=e);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(b,p.__s,y)}for(m=p.props,v=p.state,p.context=y,p.props=b,p.state=p.__s,(d=n.__r)&&d(e),p.__d=!1,p.__v=e,p.__P=t,d=p.render(p.props,p.state,p.context),e.__k=aa(null!=d&&d.type==Xe&&null==d.key?d.props.children:d),null!=p.getChildContext&&(r=Ve(Ve({},r),p.getChildContext())),h||null==p.getSnapshotBeforeUpdate||(f=p.getSnapshotBeforeUpdate(m,v)),ea(t,e,a,r,i,s,o,c,u),p.base=e.__e;d=p.__h.pop();)p.__s&&(p.state=p.__s),d.call(p);h||null==m||null==p.componentDidUpdate||p.componentDidUpdate(m,v,f),g&&(p.__E=p.__p=null)}else e.__e=ca(a.__e,e,a,r,i,s,o,u);(d=n.diffed)&&d(e)}catch(t){n.__e(t,e,a)}return e.__e}function la(t,e){for(var a;a=t.pop();)try{a.componentDidMount()}catch(t){n.__e(t,a.__v)}n.__c&&n.__c(e)}function ca(t,e,a,n,r,i,s,o){var l,c,u,d,p=a.props,h=e.props;if(r="svg"===e.type||r,null==t&&null!=i)for(l=0;l<i.length;l++)if(null!=(c=i[l])&&(null===e.type?3===c.nodeType:c.localName===e.type)){t=c,i[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(h);t=r?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),i=null}return null===e.type?p!==h&&(null!=i&&(i[i.indexOf(t)]=null),t.data=h):e!==a&&(null!=i&&(i=je.slice.call(t.childNodes)),u=(p=a.props||Ue).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,o||(d||u)&&(d&&u&&d.__html==u.__html||(t.innerHTML=d&&d.__html||"")),na(t,h,p,r,o),e.__k=e.props.children,d||ea(t,e,a,n,"foreignObject"!==e.type&&r,i,s,Ue,o),o||("value"in h&&void 0!==h.value&&h.value!==t.value&&(t.value=null==h.value?"":h.value),"checked"in h&&void 0!==h.checked&&h.checked!==t.checked&&(t.checked=h.checked))),t}function ua(t,e,a){try{"function"==typeof t?t(e):t.current=e}catch(t){n.__e(t,a)}}function da(t,e,a){var r,i,s;if(n.unmount&&n.unmount(t),(r=t.ref)&&ua(r,null,e),a||"function"==typeof t.type||(a=null!=(i=t.__e)),t.__e=t.l=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){n.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&da(r[s],e,a);null!=i&&Ge(i)}function pa(t,e,a){return this.constructor(t,a)}function ha(t,e,a){var r,i,s;n.__p&&n.__p(t,e),i=(r=a===o)?null:a&&a.__k||e.__k,t=qe(Xe,null,[t]),s=[],oa(e,r?e.__k=t:(a||e).__k=t,i||Ue,Ue,void 0!==e.ownerSVGElement,a&&!r?[a]:i?null:je.slice.call(e.childNodes),s,!1,a||Ue,r),la(s,t)}function ma(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function va(t,e,a){return e&&ma(t.prototype,e),a&&ma(t,a),t}function fa(){return fa=Object.assign||function(t){for(var e=arguments,a=1;a<arguments.length;a++){var n=e[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fa.apply(this,arguments)}n={},Je.prototype.setState=function(t,e){var a=this.__s!==this.state&&this.__s||(this.__s=Ve({},this.state));("function"!=typeof t||(t=t(a,this.props)))&&Ve(a,t),null!=t&&this.__v&&(this.u=!1,e&&this.__h.push(e),Qe(this))},Je.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,Qe(this))},Je.prototype.render=Xe,r=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=n.debounceRendering,n.__e=function(t,e,a){for(var n;e=e.__p;)if((n=e.__c)&&!n.__p)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(t));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(t)}return Qe(n.__E=n)}catch(e){t=e}throw t},o=Ue;var ga="[-\\+]?\\d+%?",ba="[-\\+]?\\d*\\.\\d+%?",wa="(?:"+ba+")|(?:"+ga+")",ya="[\\s|\\(]+("+wa+")[,|\\s]+("+wa+")[,|\\s]+("+wa+")\\s*\\)?",xa="[\\s|\\(]+("+wa+")[,|\\s]+("+wa+")[,|\\s]+("+wa+")[,|\\s]+("+wa+")\\s*\\)?",Ca=new RegExp("rgb"+ya),_a=new RegExp("rgba"+xa),Sa=new RegExp("hsl"+ya),Pa=new RegExp("hsla"+xa),ka="^(?:#?|0x?)",Ea="([0-9a-fA-F]{1})",$a="([0-9a-fA-F]{2})",La=new RegExp(ka+Ea+Ea+Ea+"$"),Aa=new RegExp(ka+Ea+Ea+Ea+Ea+"$"),Ia=new RegExp(ka+$a+$a+$a+"$"),Fa=new RegExp(ka+$a+$a+$a+$a+"$"),Ta=2e3,Na=4e4,Ma=Math.log,Da=Math.round,Ra=Math.floor;function Oa(t,e,a){return Math.min(Math.max(t,e),a)}function Wa(t,e){var a=t.indexOf("%")>-1,n=parseFloat(t);return a?e/100*n:n}function Ba(t){return parseInt(t,16)}function Ua(t){return t.toString(16).padStart(2,"0")}var ja=function(){function t(t,e){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=e,this.initialValue=fa({},this.$)}var e=t.prototype;return e.set=function(e){if("string"===typeof e)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(e)?this.hexString=e:/^rgba?/.test(e)?this.rgbString=e:/^hsla?/.test(e)&&(this.hslString=e);else{if("object"!==typeof e)throw new Error("Invalid color value");e instanceof t?this.hsva=e.hsva:"r"in e&&"g"in e&&"b"in e?this.rgb=e:"h"in e&&"s"in e&&"v"in e?this.hsv=e:"h"in e&&"s"in e&&"l"in e?this.hsl=e:"kelvin"in e&&(this.kelvin=e.kelvin)}},e.setChannel=function(t,e,a){var n;this[t]=fa({},this[t],(n={},n[e]=a,n))},e.reset=function(){this.hsva=this.initialValue},e.clone=function(){return new t(this)},e.unbind=function(){this.onChange=void 0},t.hsvToRgb=function(t){var e=t.h/60,a=t.s/100,n=t.v/100,r=Ra(e),i=e-r,s=n*(1-a),o=n*(1-i*a),l=n*(1-(1-i)*a),c=r%6,u=[n,o,s,s,l,n][c],d=[l,n,n,o,s,s][c],p=[s,s,l,n,n,o][c];return{r:Oa(255*u,0,255),g:Oa(255*d,0,255),b:Oa(255*p,0,255)}},t.rgbToHsv=function(t){var e=t.r/255,a=t.g/255,n=t.b/255,r=Math.max(e,a,n),i=Math.min(e,a,n),s=r-i,o=0,l=r,c=0===r?0:s/r;switch(r){case i:o=0;break;case e:o=(a-n)/s+(a<n?6:0);break;case a:o=(n-e)/s+2;break;case n:o=(e-a)/s+4;break}return{h:60*o%360,s:Oa(100*c,0,100),v:Oa(100*l,0,100)}},t.hsvToHsl=function(t){var e=t.s/100,a=t.v/100,n=(2-e)*a,r=n<=1?n:2-n,i=r<1e-9?0:e*a/r;return{h:t.h,s:Oa(100*i,0,100),l:Oa(50*n,0,100)}},t.hslToHsv=function(t){var e=2*t.l,a=t.s*(e<=100?e:200-e)/100,n=e+a<1e-9?0:2*a/(e+a);return{h:t.h,s:Oa(100*n,0,100),v:Oa((e+a)/2,0,100)}},t.kelvinToRgb=function(t){var e,a,n,r=t/100;return r<66?(e=255,a=-155.25485562709179-.44596950469579133*(a=r-2)+104.49216199393888*Ma(a),n=r<20?0:.8274096064007395*(n=r-10)-254.76935184120902+115.67994401066147*Ma(n)):(e=351.97690566805693+.114206453784165*(e=r-55)-40.25366309332127*Ma(e),a=325.4494125711974+.07943456536662342*(a=r-50)-28.0852963507957*Ma(a),n=255),{r:Oa(Ra(e),0,255),g:Oa(Ra(a),0,255),b:Oa(Ra(n),0,255)}},t.rgbToKelvin=function(e){var a,n=e.r,r=e.b,i=.4,s=Ta,o=Na;while(o-s>i){a=.5*(o+s);var l=t.kelvinToRgb(a);l.b/l.r>=r/n?o=a:s=a}return a},va(t,[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(t){var e=this.$;if(t=fa({},e,t),this.onChange){var a={h:!1,v:!1,s:!1,a:!1};for(var n in e)a[n]=t[n]!=e[n];this.$=t,(a.h||a.s||a.v||a.a)&&this.onChange(this,a)}else this.$=t}},{key:"hsva",get:function(){return fa({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(t){this.hsv=fa({},this.hsv,{a:t})}},{key:"kelvin",get:function(){return t.rgbToKelvin(this.rgb)},set:function(e){this.rgb=t.kelvinToRgb(e)}},{key:"red",get:function(){var t=this.rgb;return t.r},set:function(t){this.rgb=fa({},this.rgb,{r:t})}},{key:"green",get:function(){var t=this.rgb;return t.g},set:function(t){this.rgb=fa({},this.rgb,{g:t})}},{key:"blue",get:function(){var t=this.rgb;return t.b},set:function(t){this.rgb=fa({},this.rgb,{b:t})}},{key:"rgb",get:function(){var e=t.hsvToRgb(this.$),a=e.r,n=e.g,r=e.b;return{r:Da(a),g:Da(n),b:Da(r)}},set:function(e){this.hsv=fa({},t.rgbToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"rgba",get:function(){return fa({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var e=t.hsvToHsl(this.$),a=e.h,n=e.s,r=e.l;return{h:Da(a),s:Da(n),l:Da(r)}},set:function(e){this.hsv=fa({},t.hslToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"hsla",get:function(){return fa({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},set:function(t){var e,a,n,r,i=1;if((e=Ca.exec(t))?(a=Wa(e[1],255),n=Wa(e[2],255),r=Wa(e[3],255)):(e=_a.exec(t))&&(a=Wa(e[1],255),n=Wa(e[2],255),r=Wa(e[3],255),i=Wa(e[4],1)),!e)throw new Error("Invalid rgb string");this.rgb={r:a,g:n,b:r,a:i}}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+Ua(t.r)+Ua(t.g)+Ua(t.b)},set:function(t){var e,a,n,r,i=255;if((e=La.exec(t))?(a=17*Ba(e[1]),n=17*Ba(e[2]),r=17*Ba(e[3])):(e=Aa.exec(t))?(a=17*Ba(e[1]),n=17*Ba(e[2]),r=17*Ba(e[3]),i=17*Ba(e[4])):(e=Ia.exec(t))?(a=Ba(e[1]),n=Ba(e[2]),r=Ba(e[3])):(e=Fa.exec(t))&&(a=Ba(e[1]),n=Ba(e[2]),r=Ba(e[3]),i=Ba(e[4])),!e)throw new Error("Invalid hex string");this.rgb={r:a,g:n,b:r,a:i/255}}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+Ua(t.r)+Ua(t.g)+Ua(t.b)+Ua(Ra(255*t.a))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},set:function(t){var e,a,n,r,i=1;if((e=Sa.exec(t))?(a=Wa(e[1],360),n=Wa(e[2],100),r=Wa(e[3],100)):(e=Pa.exec(t))&&(a=Wa(e[1],360),n=Wa(e[2],100),r=Wa(e[3],100),i=Wa(e[4],1)),!e)throw new Error("Invalid hsl string");this.hsl={h:a,s:n,l:r,a:i}}},{key:"hslaString",get:function(){var t=this.hsla;return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},set:function(t){this.hslString=t}}]),t}(),Ha={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function Va(t){var e,a=t.width,n=t.sliderSize,r=t.borderWidth,i=t.handleRadius,s=t.padding,o=t.sliderShape,l="horizontal"===t.layoutDirection;return n=null!=(e=n)?e:2*s+2*i,"circle"===o?{handleStart:t.padding+t.handleRadius,handleRange:a-2*s-2*i,width:a,height:a,cx:a/2,cy:a/2,radius:a/2-r/2}:{handleStart:n/2,handleRange:a-n,radius:n/2,x:0,y:0,width:l?n:a,height:l?a:n}}function Ga(t,e){var a=e.hsva,n=e.rgb;switch(t.sliderType){case"red":return n.r/2.55;case"green":return n.g/2.55;case"blue":return n.b/2.55;case"alpha":return 100*a.a;case"kelvin":var r=t.minTemperature,i=t.maxTemperature,s=i-r,o=(e.kelvin-r)/s*100;return Math.max(0,Math.min(o,100));case"hue":return a.h/=3.6;case"saturation":return a.s;case"value":default:return a.v}}function qa(t,e,a){var n,r=Va(t),i=r.handleRange,s=r.handleStart;n="horizontal"===t.layoutDirection?-1*a+i+s:e-s,n=Math.max(Math.min(n,i),0);var o=Math.round(100/i*n);switch(t.sliderType){case"kelvin":var l=t.minTemperature,c=t.maxTemperature,u=c-l;return l+u*(o/100);case"alpha":return o/100;case"hue":return 3.6*o;case"red":case"blue":case"green":return 2.55*o;default:return o}}function za(t,e){var a=Va(t),n=a.width,r=a.height,i=a.handleRange,s=a.handleStart,o="horizontal"===t.layoutDirection,l=Ga(t,e),c=o?n/2:r/2,u=s+l/100*i;return o&&(u=-1*u+i+2*s),{x:o?c:u,y:o?u:c}}function Xa(t,e){var a=e.hsv,n=e.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+n.g+","+n.b+")"],[100,"rgb(255,"+n.g+","+n.b+")"]];case"green":return[[0,"rgb("+n.r+",0,"+n.b+")"],[100,"rgb("+n.r+",255,"+n.b+")"]];case"blue":return[[0,"rgb("+n.r+","+n.g+",0)"],[100,"rgb("+n.r+","+n.g+",255)"]];case"alpha":return[[0,"rgba("+n.r+","+n.g+","+n.b+",0)"],[100,"rgb("+n.r+","+n.g+","+n.b+")"]];case"kelvin":for(var r=[],i=t.minTemperature,s=t.maxTemperature,o=8,l=s-i,c=i,u=0;c<s;c+=l/o,u+=1){var d=ja.kelvinToRgb(c),p=d.r,h=d.g,m=d.b;r.push([100/o*u,"rgb("+p+","+h+","+m+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var v=ja.hsvToHsl({h:a.h,s:0,v:a.v}),f=ja.hsvToHsl({h:a.h,s:100,v:a.v});return[[0,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"],[100,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"]];case"value":default:var g=ja.hsvToHsl({h:a.h,s:a.s,v:100});return[[0,"#000"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]]}}var Ya,Ja=2*Math.PI,Ka=function(t,e){return(t%e+e)%e},Za=function(t,e){return Math.sqrt(t*t+e*e)};function Qa(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function tn(t,e,a){var n=en(t),r=n.cx,i=n.cy,s=t.width/2;return Za(r-e,i-a)<s}function en(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function an(t,e,a){var n=t.wheelAngle,r=t.wheelDirection;return a&&"clockwise"===r?e=n+e:"clockwise"===r?e=360-n+e:a&&"anticlockwise"===r?e=n+180-e:"anticlockwise"===r&&(e=n-e),Ka(e,360)}function nn(t,e){var a=e.hsv,n=en(t),r=n.cx,i=n.cy,s=Qa(t),o=(180+an(t,a.h,!0))*(Ja/360),l=a.s/100*s,c="clockwise"===t.wheelDirection?-1:1;return{x:r+l*Math.cos(o)*c,y:i+l*Math.sin(o)*c}}function rn(t,e,a){var n=en(t),r=n.cx,i=n.cy,s=Qa(t);e=r-e,a=i-a;var o=an(t,Math.atan2(-a,-e)*(360/Ja)),l=Math.min(Za(e,a),s);return{h:Math.round(o),s:Math.round(100/s*l)}}function sn(t){var e=t.width,a=t.boxHeight,n=t.padding,r=t.handleRadius;return{width:e,height:null!=a?a:e,radius:n+r}}function on(t,e,a){var n=sn(t),r=n.width,i=n.height,s=n.radius,o=s,l=r-2*s,c=i-2*s,u=(e-o)/l*100,d=(a-o)/c*100;return{s:Math.max(0,Math.min(u,100)),v:Math.max(0,Math.min(100-d,100))}}function ln(t,e){var a=sn(t),n=a.width,r=a.height,i=a.radius,s=e.hsv,o=i,l=n-2*i,c=r-2*i;return{x:o+s.s/100*l,y:o+(c-s.v/100*c)}}function cn(t,e){var a=e.hue;return[[[0,"#fff"],[100,"hsl("+a+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}function un(t){Ya||(Ya=document.getElementsByTagName("base"));var e=window.navigator.userAgent,a=/^((?!chrome|android).)*safari/i.test(e),n=/iPhone|iPod|iPad/i.test(e),r=window.location;return(a||n)&&Ya.length>0?r.protocol+"//"+r.host+r.pathname+r.search+t:t}function dn(t,e,a,n){for(var r=0;r<n.length;r++){var i=n[r].x-e,s=n[r].y-a,o=Math.sqrt(i*i+s*s);if(o<t.handleRadius)return r}return null}function pn(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function hn(t,e,a){return t+"-gradient("+e+", "+a.map((function(t){var e=t[0],a=t[1];return a+" "+e+"%"})).join(",")+")"}function mn(t){return"string"===typeof t?t:t+"px"}var vn={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},fn=["mousemove","touchmove","mouseup","touchend"],gn=function(t){function e(e){t.call(this,e),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.handleEvent.bind(this),a={onMouseDown:e,ontouchstart:e},n="horizontal"===t.layoutDirection,r=null===t.margin?t.sliderMargin:t.margin,i={overflow:"visible",display:n?"inline-block":"block"};return t.index>0&&(i[n?"marginLeft":"marginTop"]=r),qe(Xe,null,t.children(this.uid,a,i))},e.prototype.handleEvent=function(t){var e=this,a=this.props.onInput,n=this.base.getBoundingClientRect();t.preventDefault();var r=t.touches?t.changedTouches[0]:t,i=r.clientX-n.left,s=r.clientY-n.top;switch(t.type){case"mousedown":case"touchstart":var o=a(i,s,0);!1!==o&&fn.forEach((function(t){document.addEventListener(t,e,{passive:!1})}));break;case"mousemove":case"touchmove":a(i,s,1);break;case"mouseup":case"touchend":a(i,s,2),fn.forEach((function(t){document.removeEventListener(t,e,{passive:!1})}));break}},e}(Je);function bn(t){var e=t.r,a=t.url,n=e,r=e;return qe("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+mn(t.x)+", "+mn(t.y)+")",willChange:"transform",top:mn(-e),left:mn(-e),width:mn(2*e),height:mn(2*e),position:"absolute",overflow:"visible"}},a&&qe("use",Object.assign({xlinkHref:un(a)},t.props)),!a&&qe("circle",{cx:n,cy:r,r:e,fill:"none","stroke-width":2,stroke:"#000"}),!a&&qe("circle",{cx:n,cy:r,r:e-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}function wn(t){var e=t.activeIndex,a=void 0!==e&&e<t.colors.length?t.colors[e]:t.color,n=Va(t),r=n.width,i=n.height,s=n.radius,o=za(t,a),l=Xa(t,a);function c(e,n,r){var i=qa(t,e,n);t.parent.inputActive=!0,a[t.sliderType]=i,t.onInput(r,t.id)}return qe(gn,Object.assign({},t,{onInput:c}),(function(e,n,c){return qe("div",Object.assign({},n,{className:"IroSlider",style:Object.assign({},{position:"relative",width:mn(r),height:mn(i),borderRadius:mn(s),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},c)}),qe("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:mn(s),background:hn("linear","horizontal"===t.layoutDirection?"to top":"to right",l)},pn(t))}),qe(bn,{isActive:!0,index:a.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:o.x,y:o.y}))}))}function yn(t){var e=sn(t),a=e.width,n=e.height,r=e.radius,i=t.colors,s=t.parent,o=t.activeIndex,l=void 0!==o&&o<t.colors.length?t.colors[o]:t.color,c=cn(t,l),u=i.map((function(e){return ln(t,e)}));function d(e,a,n){if(0===n){var r=dn(t,e,a,u);null!==r?s.setActiveColor(r):(s.inputActive=!0,l.hsv=on(t,e,a),t.onInput(n,t.id))}else 1===n&&(s.inputActive=!0,l.hsv=on(t,e,a));t.onInput(n,t.id)}return qe(gn,Object.assign({},t,{onInput:d}),(function(e,s,o){return qe("div",Object.assign({},s,{className:"IroBox",style:Object.assign({},{width:mn(a),height:mn(n),position:"relative"},o)}),qe("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:mn(r)},pn(t),{background:hn("linear","to bottom",c[1])+","+hn("linear","to right",c[0])})}),i.filter((function(t){return t!==l})).map((function(e){return qe(bn,{isActive:!1,index:e.index,fill:e.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[e.index].x,y:u[e.index].y})})),qe(bn,{isActive:!0,index:l.index,fill:l.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[l.index].x,y:u[l.index].y}))}))}bn.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},wn.defaultProps=Object.assign({},Ha);var xn="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",Cn="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function _n(t){var e=en(t),a=e.width,n=t.colors,r=(t.borderWidth,t.parent),i=t.color,s=i.hsv,o=n.map((function(e){return nn(t,e)})),l={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function c(e,a,n){if(0===n){if(!tn(t,e,a))return!1;var s=dn(t,e,a,o);null!==s?r.setActiveColor(s):(r.inputActive=!0,i.hsv=rn(t,e,a),t.onInput(n,t.id))}else 1===n&&(r.inputActive=!0,i.hsv=rn(t,e,a));t.onInput(n,t.id)}return qe(gn,Object.assign({},t,{onInput:c}),(function(e,r,c){return qe("div",Object.assign({},r,{className:"IroWheel",style:Object.assign({},{width:mn(a),height:mn(a),position:"relative"},c)}),qe("div",{className:"IroWheelHue",style:Object.assign({},l,{transform:"rotateZ("+(t.wheelAngle+90)+"deg)",background:"clockwise"===t.wheelDirection?xn:Cn})}),qe("div",{className:"IroWheelSaturation",style:Object.assign({},l,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),t.wheelLightness&&qe("div",{className:"IroWheelLightness",style:Object.assign({},l,{background:"#000",opacity:1-s.v/100})}),qe("div",{className:"IroWheelBorder",style:Object.assign({},l,pn(t))}),n.filter((function(t){return t!==i})).map((function(e){return qe(bn,{isActive:!1,index:e.index,fill:e.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:o[e.index].x,y:o[e.index].y})})),qe(bn,{isActive:!0,index:i.index,fill:i.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:o[i.index].x,y:o[i.index].y}))}))}function Sn(t){var e=function(e,a){var n,r=document.createElement("div");function i(){var t=e instanceof Element?e:document.querySelector(e);t.appendChild(n.base),n.onMount(t)}return ha(qe(t,Object.assign({},{ref:function(t){return n=t}},a)),r),"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i),n};return e.prototype=t.prototype,Object.assign(e,t),e.__component=t,e}var Pn=function(t){function e(e){var a=this;t.call(this,e),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=e.id;var n=e.colors.length>0?e.colors:[e.color];n.forEach((function(t){return a.addColor(t)})),this.setActiveColor(0),this.state=Object.assign({},e,{color:this.color,colors:this.colors,layout:e.layout})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addColor=function(t,e){void 0===e&&(e=this.colors.length);var a=new ja(t,this.onColorChange.bind(this));this.colors.splice(e,0,a),this.colors.forEach((function(t,e){return t.index=e})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",a)},e.prototype.removeColor=function(t){var e=this.colors.splice(t,1)[0];e.unbind(),this.colors.forEach((function(t,e){return t.index=e})),this.state&&this.setState({colors:this.colors}),e.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",e)},e.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},e.prototype.setColors=function(t,e){var a=this;void 0===e&&(e=0),this.colors.forEach((function(t){return t.unbind()})),this.colors=[],t.forEach((function(t){return a.addColor(t)})),this.setActiveColor(e),this.emit("color:setAll",this.colors)},e.prototype.on=function(t,e){var a=this,n=this.events;(Array.isArray(t)?t:[t]).forEach((function(t){(n[t]||(n[t]=[])).push(e),a.deferredEvents[t]&&(a.deferredEvents[t].forEach((function(t){e.apply(null,t)})),a.deferredEvents[t]=[])}))},e.prototype.off=function(t,e){var a=this;(Array.isArray(t)?t:[t]).forEach((function(t){var n=a.events[t];n&&n.splice(n.indexOf(e),1)}))},e.prototype.emit=function(t){var e=this,a=[],n=arguments.length-1;while(n-- >0)a[n]=arguments[n+1];var r=this.activeEvents,i=!!r.hasOwnProperty(t)&&r[t];if(!i){r[t]=!0;var s=this.events[t]||[];s.forEach((function(t){return t.apply(e,a)})),r[t]=!1}},e.prototype.deferredEmit=function(t){var e,a=[],n=arguments.length-1;while(n-- >0)a[n]=arguments[n+1];var r=this.deferredEvents;(e=this).emit.apply(e,[t].concat(a)),(r[t]||(r[t]=[])).push(a)},e.prototype.setOptions=function(t){this.setState(t)},e.prototype.resize=function(t){this.setOptions({width:t})},e.prototype.reset=function(){this.colors.forEach((function(t){return t.reset()})),this.setState({colors:this.colors})},e.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},e.prototype.onColorChange=function(t,e){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,e)),this.emit("color:change",t,e)},e.prototype.emitInputEvent=function(t,e){0===t?this.emit("input:start",this.color,e):1===t?this.emit("input:move",this.color,e):2===t&&this.emit("input:end",this.color,e)},e.prototype.render=function(t,e){var a=this,n=e.layout;if(!Array.isArray(n)){switch(n){default:n=[{component:_n},{component:wn}]}e.transparency&&n.push({component:wn,options:{sliderType:"alpha"}})}return qe("div",{class:"IroColorPicker",id:e.id,style:{display:e.display}},n.map((function(t,n){var r=t.component,i=t.options;return qe(r,Object.assign({},e,i,{ref:void 0,onInput:a.emitInputEvent.bind(a),parent:a,index:n}))})))},e}(Je);Pn.defaultProps=Object.assign({},vn,{colors:[],display:"block",id:null,layout:"default",margin:null});var kn,En=Sn(Pn);(function(t){t.version="5.5.2",t.Color=ja,t.ColorPicker=En,function(t){t.h=qe,t.ComponentBase=gn,t.Handle=bn,t.Slider=wn,t.Wheel=_n,t.Box=yn}(t.ui||(t.ui={}))})(kn||(kn={}));var $n=kn,Ln=$n,An={name:"ModalColorPicker",components:{},props:{},data:function(){return{screen:"basicColors",target:null,scriptParam:null,colorPicker:null,currentColor:{hex:"#FFFFFF"},colorGrid:{rows:[{id:"row1",colors:[{hex:"#000000"}]}]}}},methods:{selectCurrentColor:function(){this.selectColor(this.currentColor)},selectColor:function(t){"fillStyle"==this.target?window.ctx.fillStyle=t.hex:"strokeStyle"==this.target?window.ctx.strokeStyle=t.hex:"scriptParam"==this.target&&(this.scriptParam.value=t.hex,this.$parent.$refs.scriptWithParamsPanel.$forceUpdate()),window.$("#modalColorPicker").modal("hide"),this.$parent.updateCurrentContextDetails(),this.target=null},addColorToGrid:function(t,e){var a={hex:e};this.colorGrid.rows[t].colors.push(a)},buildColorGrid:function(){this.colorGrid.rows[0].colors=[],this.addColorToGrid(0,"#000000"),this.addColorToGrid(0,"#222222"),this.addColorToGrid(0,"#444444"),this.addColorToGrid(0,"#666666"),this.addColorToGrid(0,"#888888"),this.addColorToGrid(0,"#AAAAAA"),this.addColorToGrid(0,"#CCCCCC"),this.addColorToGrid(0,"#DDDDDD"),this.addColorToGrid(0,"#EEEEEE"),this.addColorToGrid(0,"#FFFFFF");var t={id:"row2",colors:[]};this.colorGrid.rows.push(t),this.addColorToGrid(1,"#FF0000"),this.addColorToGrid(1,"#FF8800"),this.addColorToGrid(1,"#FFFF00"),this.addColorToGrid(1,"#00FF00"),this.addColorToGrid(1,"#00FFFF"),this.addColorToGrid(1,"#0088FF"),this.addColorToGrid(1,"#0000FF"),this.addColorToGrid(1,"#8800FF"),this.addColorToGrid(1,"#FF00FF"),this.addColorToGrid(1,"#880000"),this.buildRow(192),this.buildRow(128),this.buildRow(64),this.buildRow(-64),this.buildRow(-128),this.buildRow(-192)},buildRow:function(t){var e=this.colorGrid.rows.length,a="row"+e+1,n={id:a,colors:[]};this.colorGrid.rows.push(n);for(var r=0;r<10;r++){var i=this.colorGrid.rows[1].colors[r].hex,s=this.changeColor(i,t);this.addColorToGrid(e,s)}},changeColor:function(t,e){var a=p.hexToRgb(t),n=p.rgbAdd(a,e),r=p.rgbToHex(n);return r},setCurrentColor:function(t){this.currentColor.hex=t,this.colorPicker.color.hexString=t}},mounted:function(){this.buildColorGrid();var t=new Ln.ColorPicker("#colorPicker",{layout:[{component:Ln.ui.Box,options:{}},{component:Ln.ui.Slider,options:{sliderType:"hue"}},{component:Ln.ui.Slider,options:{sliderType:"alpha"}}]});this.colorPicker=t;var e=this;t.on("color:change",(function(t){e.currentColor.hex=t.hex8String}))}},In=An,Fn=(a("a9bb"),Object(y["a"])(In,We,Be,!1,null,"0f8f1538",null)),Tn=Fn.exports,Nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M7 16c.55 0 1 .45 1 1 0 1.1-.9 2-2 2-.17 0-.33-.02-.5-.05.31-.55.5-1.21.5-1.95 0-.55.45-1 1-1M18.67 3c-.26 0-.51.1-.71.29L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41l-1.34-1.34c-.2-.2-.45-.29-.7-.29zM7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3z"}})])},Mn=[],Dn={name:"IconBrush",props:{color:{type:String,default:"#000000"}}},Rn=Dn,On=Object(y["a"])(Rn,Nn,Mn,!1,null,"ed10066c",null),Wn=On.exports,Bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#00000000"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"8",stroke:"white","stroke-width":"3",fill:"#00000000"}})])},Un=[],jn={name:"IconCircle",props:{color:{type:String,default:"#000000"}}},Hn=jn,Vn=Object(y["a"])(Hn,Bn,Un,!1,null,"245b1e52",null),Gn=Vn.exports,qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"3",y:"3",width:"12",height:"12","stroke-width":"2",stroke:"white",fill:"#00000000"}})])},zn=[],Xn={name:"IconRectangle",props:{color:{type:String,default:"#000000"}}},Yn=Xn,Jn=Object(y["a"])(Yn,qn,zn,!1,null,"668816fc",null),Kn=Jn.exports,Zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"black",width:"18px",height:"18px"}},[a("line",{attrs:{x1:"3",y1:"3",x2:"15",y2:"15",stroke:"white","stroke-width":"2"}})])},Qn=[],tr={name:"IconLine",props:{color:{type:String,default:"#000000"}}},er=tr,ar=Object(y["a"])(er,Zn,Qn,!1,null,"7cbee4ac",null),nr=ar.exports,rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("ellipse",{attrs:{cx:"9",cy:"9",rx:"7",ry:"5",stroke:"white","stroke-width":"2",fill:"#00000000"}})])},ir=[],sr={name:"IconEllipse",props:{color:{type:String,default:"#000000"}}},or=sr,lr=Object(y["a"])(or,rr,ir,!1,null,"5fb03d42",null),cr=lr.exports,ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1px",height:"18px",fill:"#00000000"}})},dr=[],pr={name:"IconNone",props:{color:{type:String,default:"#000000"}}},hr=pr,mr=Object(y["a"])(hr,ur,dr,!1,null,"ab28acae",null),vr=mr.exports,fr=a("960a"),gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])},br=[],wr={name:"IconBack",props:{color:{type:String,default:"#000000"}}},yr=wr,xr=Object(y["a"])(yr,gr,br,!1,null,"37a9ab3e",null),Cr=xr.exports,_r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"bi bi-eraser-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}})])},Sr=[],Pr={name:"IconEraser",props:{color:{type:String,default:"#000000"}}},kr=Pr,Er=Object(y["a"])(kr,_r,Sr,!1,null,"77ef27be",null),$r=Er.exports,Lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:t.color,d:"M21.143 9.667c-.733-1.392-1.914-3.05-3.617-4.753-2.977-2.978-5.478-3.914-6.785-3.914-.414 0-.708.094-.86.246l-1.361 1.36c-1.899-.236-3.42.106-4.294.983-.876.875-1.164 2.159-.792 3.523.492 1.806 2.305 4.049 5.905 5.375.038.323.157.638.405.885.588.588 1.535.586 2.121 0s.588-1.533.002-2.119c-.588-.587-1.537-.588-2.123-.001l-.17.256c-2.031-.765-3.395-1.828-4.232-2.9l3.879-3.875c.496 2.73 6.432 8.676 9.178 9.178l-7.115 7.107c-.234.153-2.798-.316-6.156-3.675-3.393-3.393-3.175-5.271-3.027-5.498l1.859-1.856c-.439-.359-.925-1.103-1.141-1.689l-2.134 2.131c-.445.446-.685 1.064-.685 1.82 0 1.634 1.121 3.915 3.713 6.506 2.764 2.764 5.58 4.243 7.432 4.243.648 0 1.18-.195 1.547-.562l8.086-8.078c.91.874-.778 3.538-.778 4.648 0 1.104.896 1.999 2 1.999 1.105 0 2-.896 2-2 0-3.184-1.425-6.81-2.857-9.34zm-16.209-5.371c.527-.53 1.471-.791 2.656-.761l-3.209 3.206c-.236-.978-.049-1.845.553-2.445zm9.292 4.079l-.03-.029c-1.292-1.292-3.803-4.356-3.096-5.063.715-.715 3.488 1.521 5.062 3.096.862.862 2.088 2.247 2.937 3.458-1.717-1.074-3.491-1.469-4.873-1.462z"}})])},Ar=[],Ir={name:"IconBucketFill",props:{color:{type:String,default:"#000000"}}},Fr=Ir,Tr=Object(y["a"])(Fr,Lr,Ar,!1,null,"6b4b9f41",null),Nr=Tr.exports,Mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"}})])},Dr=[],Rr={name:"IconMove",props:{color:{type:String,default:"#000000"}}},Or=Rr,Wr=Object(y["a"])(Or,Mr,Dr,!1,null,"8afed674",null),Br=Wr.exports,Ur={name:"Main",components:{MainMenu:k,IconEdit:N,IconBrush:Wn,IconCircle:Gn,IconRectangle:Kn,IconLine:nr,IconEllipse:cr,IconNone:vr,IconExecute:Zt,IconDonate:fr["a"],IconBack:Cr,IconEraser:$r,IconBucketFill:Nr,IconMove:Br,ModalExport:ke,ModalPasteImageFromClipboard:Fe,ModalHelp:Oe,ModalColorPicker:Tn,ContextPanel:V,LayersPanel:lt,EventsPanel:mt,ImagesPanel:kt,FontsPanel:Ft,GlobalVariablesPanel:Ot,LogsPanel:Vt,ScriptWithParamsPanel:le,ConfigureScriptPanel:ye},methods:{getToolClass:function(t){return this.currentTool==t?"btn btn-dark btn-sm":"btn btn-primary btn-sm"},loadFont:function(){this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var t=this.fontPanelForm.fontURL,e="url(".concat(t,")"),a=new FontFace(this.fontPanelForm.fontName,e),n=this;a.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t};n.fonts.push(e)}))},onFontUpload:function(t){var e=t.target.files[0],a=URL.createObjectURL(e),n="url(".concat(a,")");this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var r=new FontFace(this.fontPanelForm.fontName,n),i=this;r.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t};i.fonts.push(e)}))},setCurrentTool:function(t){this.currentTool=t,"pencil"==t?(window.ctx.lineWidth=3,window.ctx.filter="none"):"brush"==t&&(window.ctx.lineWidth=20,window.ctx.filter="blur(3px)"),this.updateCurrentContextDetails()},onCanvasMouseUp:function(t){this.isMouseDown=!1;var e=!1;"line"==this.currentTool?(this.drawLine(),e=!0):"rectangle"==this.currentTool?(this.drawRect(),e=!0):"circle"==this.currentTool?(this.drawCircle(),e=!0):"ellipse"==this.currentTool&&(this.drawEllipse(),e=!0);for(var a=0;a<this.customEvents.length;a++){var n=this.customEvents[a];"mouseUp"==n.type&&n.enabled&&(n.func(),e=!0)}e&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseDown:function(t){this.isMouseDown=!0,this.updateMouseDownPosition(t);var e=!1;if("pencil"==this.currentTool||"brush"==this.currentTool)this.paintBrush(),e=!0;else if("move"==this.currentTool){var a=window.ctx.canvas.width,n=window.ctx.canvas.height;this.mouseDownCanvas=document.createElement("canvas"),this.mouseDownCanvas.width=a,this.mouseDownCanvas.height=n;var r=this.mouseDownCanvas.getContext("2d");r.drawImage(window.ctx.canvas,0,0)}else if("bucketFill"==this.currentTool){var i=null;if(window.ctx.fillStyle.startsWith("#"))i=p.hexToRgb(window.ctx.fillStyle),i.a=255;else if(window.ctx.fillStyle.startsWith("rgba")){var s=window.ctx.fillStyle.substring(5);s=s.substring(0,s.length-1);var o=s.split(",");i={r:Number(o[0]),g:Number(o[1]),b:Number(o[2]),a:255*Number(o[3])}}null!=i&&p.floodFill(window.ctx,i,this.mousePosition.x,this.mousePosition.y)}for(var l=0;l<this.customEvents.length;l++){var c=this.customEvents[l];"mouseDown"==c.type&&c.enabled&&(c.func(),e=!0)}e&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseMove:function(t){if(this.updateMousePosition(t),this.isMouseDown)if("pencil"==this.currentTool||"brush"==this.currentTool)this.paintBrush();else if("move"==this.currentTool){var e=window.ctx.canvas.width,a=window.ctx.canvas.height,n=this.mousePosition.x-this.mouseDownPosition.x,r=this.mousePosition.y-this.mouseDownPosition.y,i=this.mouseDownCanvas.getContext("2d");window.ctx.save(),window.ctx.setTransform(1,0,0,1,0,0),window.ctx.clearRect(0,0,e,a),window.ctx.restore(),window.ctx.putImageData(i.getImageData(0,0,e,a),n,r)}else"eraser"==this.currentTool&&(window.ctx.save(),window.ctx.globalCompositeOperation="destination-out",window.ctx.lineWidth=20,window.ctx.filter="blur(3px)",this.paintBrush(),window.ctx.restore());for(var s=0;s<this.customEvents.length;s++){var o=this.customEvents[s];"mouseMove"==o.type&&o.enabled&&o.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()},drawLine:function(){var t=window.ctx;t.beginPath(),t.moveTo(this.mouseDownPosition.x,this.mouseDownPosition.y),t.lineTo(this.mousePosition.x,this.mousePosition.y),t.stroke()},drawRect:function(){var t=window.ctx;t.beginPath(),t.rect(this.mouseDownPosition.x,this.mouseDownPosition.y,this.mousePosition.x-this.mouseDownPosition.x,this.mousePosition.y-this.mouseDownPosition.y),t.stroke()},drawCircle:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x),n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y),r=Math.min(a,n)/2,i=window.ctx;i.beginPath(),i.arc(t,e,r,0,2*Math.PI),i.stroke()},drawEllipse:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x)/2,n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y)/2,r=0,i=0,s=2*Math.PI,o=!1,l=window.ctx;l.beginPath(),l.ellipse(t,e,a,n,r,i,s,o),l.stroke()},paintBrush:function(){ctx.save(),ctx.beginPath(),ctx.lineCap="round",ctx.moveTo(this.previousMousePosition.x,this.previousMousePosition.y),ctx.lineTo(this.mousePosition.x,this.mousePosition.y),ctx.stroke(),ctx.restore()},updateMousePosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer")),this.previousMousePosition.x=this.mousePosition.x,this.previousMousePosition.y=this.mousePosition.y,this.mousePosition.x=t.clientX-e.offsetLeft,this.mousePosition.y=t.clientY-e.offsetTop},updateMouseDownPosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer")),this.mouseDownPosition.x=t.clientX-e.offsetLeft,this.mouseDownPosition.y=t.clientY-e.offsetTop},editGlobalVariable:function(t){var e=prompt("New value",""),a=prompt("New type","number");"number"==a&&(e=Number(e)),this.globalVariables[t]=e,this.$forceUpdate()},deleteGlobalVariable:function(t){delete this.globalVariables[t],this.$forceUpdate()},popupAddGlobalVariable:function(){var t=prompt("Variable name",""),e=prompt("Type","number"),a=prompt("Value","");"number"==e&&(a=Number(a)),this.addGlobalVariable(t,a),this.$forceUpdate()},addGlobalVariable:function(t,e){this.globalVariables[t]=e},combineLayers:function(t,e){for(var a=this.getLayerByName(t),n=a.canvas.getContext("2d"),r=n.getImageData(0,0,this.canvasWidth,this.canvasHeight),i=this.getLayerByName(e),s=i.canvas.getContext("2d"),o=s.getImageData(0,0,this.canvasWidth,this.canvasHeight),l=0;l<r.data.length;l+=4)r.data[l+3]=r.data[l+3]*(o.data[l+3]/255);n.putImageData(r,0,0)},updateCanvasAllLayers:function(){var t=document.getElementById("canvasAllLayers").getContext("2d");t.save(),t.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawTiledBackground(t),this.drawAllLayers(t),t.restore()},updateCurrentLayerCanvas:function(){if(null!=this.currentLayer){var t=document.getElementById("canvasCurrentLayer").getContext("2d");this.drawTiledBackground(t),t.save(),t.globalAlpha=this.currentLayer.alpha,t.drawImage(this.currentLayer.canvas,0,0),t.restore()}},clearCurrentLayer:function(){ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},clearFilters:function(){ctx.filter="none",this.updateCurrentContextDetails()},saveContext:function(){ctx.save()},restoreContext:function(){ctx.restore(),this.updateCurrentContextDetails()},clip:function(){ctx.clip()},resetTransform:function(){ctx.setTransform(1,0,0,1,0,0),this.updateCurrentContextDetails()},resetContextAttribute:function(t){var e=window.ctx;"fillStyle"==t?e.fillStyle="#000000":"strokeStyle"==t?e.strokeStyle="#000000":"font"==t?e.font="10px sans-serif":"globalAlpha"==t?e.globalAlpha="1":"lineWidth"==t?e.lineWidth="1":"lineCap"==t?e.lineCap="butt":"lineJoin"==t?e.lineJoin="miter":"filter"==t?e.filter="none":"shadowBlur"==t?e.shadowBlur="0":"shadowColor"==t?e.shadowColor="rgba(0, 0, 0, 0)":"shadowOffsetX"==t?e.shadowOffsetX="0":"shadowOffsetY"==t?e.shadowOffsetY="0":"lineDashOffset"==t?e.lineDashOffset=0:"textAlign"==t?e.textAlign="start":"miterLimit"==t?e.miterLimit=10:"textBaseline"==t?e.textBaseline="alphabetic":"globalCompositeOperation"==t?e.globalCompositeOperation="source-over":"lineDash"==t&&e.setLineDash([]),this.updateCurrentContextDetails()},buildBackgroundCanvas:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");e.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var a=!0,n=!0,r=10,i=0;i<this.canvasWidth;i+=r){n=a;for(var s=0;s<this.canvasHeight;s+=r)e.fillStyle=n?"#cccccc":"#eeeeee",e.fillRect(i,s,r,r),n=!n;a=!a}return t},addLayerWithName:function(t){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight,e.getContext("2d").clearRect(0,0,this.canvasWidth,this.canvasHeight);var a={name:t,alpha:1,canvas:e,visible:!0};this.canvasLayers.push(a)},duplicateCurrentLayer:function(){this.duplicateLayer(this.currentLayer)},duplicateLayer:function(t,e){null==e&&(e=prompt("New layer name","")),"string"==typeof t&&(t=this.getLayerByName(t));var a=document.createElement("canvas");a.width=this.canvasWidth,a.height=this.canvasHeight;var n=a.getContext("2d");n.drawImage(t.canvas,0,0);var r={name:e,alpha:t.alpha,canvas:a,visible:t.visible};this.canvasLayers.push(r)},deleteCurrentLayer:function(){this.deleteLayer(this.currentLayer)},deleteLayerByName:function(t){this.deleteLayer(this.getLayerByName(t))},deleteLayer:function(t){var e=this.getLayerIndex(t);this.canvasLayers.splice(e,1),t==this.currentLayer&&this.canvasLayers.length>0&&this.setCurrentLayer(this.canvasLayers[0].name),this.updateCanvasAllLayers()},deleteCustomEvent:function(t){var e=this.getCustomEventIndex(t);this.customEvents.splice(e,1)},renderLayerToContext:function(t,e){e.save(),e.globalAlpha=t.alpha,e.drawImage(t.canvas,0,0),e.restore()},setCurrentLayer:function(t){var e=this.getLayerByName(t);null!=e&&(this.currentLayer=e,window.ctx=e.canvas.getContext("2d"),this.updateCurrentContextDetails()),this.updateCurrentLayerCanvas()},getImageByName:function(t){for(var e=0;e<this.images.length;e++){var a=this.images[e];if(a.name==t)return a}return null},getLayerByName:function(t){for(var e=0;e<this.canvasLayers.length;e++){var a=this.canvasLayers[e];if(a.name==t)return a}return null},getCurrentLayerIndex:function(){for(var t=0;t<this.canvasLayers.length;t++){var e=this.canvasLayers[t];if(e==this.currentLayer)return t}return null},getLayerIndex:function(t){for(var e=0;e<this.canvasLayers.length;e++){var a=this.canvasLayers[e];if(a==t)return e}return null},getCustomEventIndex:function(t){for(var e=0;e<this.customEvents.length;e++){var a=this.customEvents[e];if(a.name==t.name)return e}return null},getCurrentLayer:function(){return this.currentLayer},getCurrentCanvas:function(){return this.getCurrentLayer().canvas},getCurrentContext:function(){return this.getCurrentCanvas().getContext("2d")},updateCurrentContextDetails:function(){var t=null;null!=this.currentLayer&&(t=this.currentLayer.canvas,this.ctx.fillStyle=t.getContext("2d").fillStyle,this.ctx.strokeStyle=t.getContext("2d").strokeStyle,this.ctx.lineWidth=t.getContext("2d").lineWidth,this.ctx.lineCap=t.getContext("2d").lineCap,this.ctx.lineJoin=t.getContext("2d").lineJoin,this.ctx.miterLimit=t.getContext("2d").miterLimit,this.ctx.font=t.getContext("2d").font,this.ctx.textAlign=t.getContext("2d").textAlign,this.ctx.globalAlpha=t.getContext("2d").globalAlpha,this.ctx.globalCompositeOperation=t.getContext("2d").globalCompositeOperation,this.ctx.transform=t.getContext("2d").getTransform(),this.ctx.lineDash=t.getContext("2d").getLineDash(),this.ctx.filter=t.getContext("2d").filter,this.ctx.shadowBlur=t.getContext("2d").shadowBlur,this.ctx.shadowColor=t.getContext("2d").shadowColor,this.ctx.shadowOffsetX=t.getContext("2d").shadowOffsetX,this.ctx.shadowOffsetY=t.getContext("2d").shadowOffsetY,this.ctx.lineDashOffset=t.getContext("2d").lineDashOffset,this.ctx.textBaseline=t.getContext("2d").textBaseline)},configScript:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t){var a=this.savedScripts[e];this.$refs.configureScriptPanel.setCurrentScript(a),this.visiblePanels["configureScript"]=!0}},executeSavedScript:function(t,e){for(var a=0;a<this.savedScripts.length;a++)if(this.savedScripts[a].name==t){null==e&&(e={});var n=this.savedScripts[a].func(e);return this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),n}},executeEditedSampleScript:function(){var t=this.editedSampleScript,e=new Function("params",t),a={};e(a),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScript:function(t,e){for(var a=0;a<this.allSampleScripts.length;a++)this.allSampleScripts[a].name==t&&(null==e&&(e={}),this.allSampleScripts[a].func(e));this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScriptWithParams:function(){this.clearLayerBeforeExecutingScriptWithParams&&this.clearCurrentLayer();var t={};if(null!=this.selectedSampleScriptWithParams.params)for(var e=0;e<this.selectedSampleScriptWithParams.params.length;e++){var a=this.selectedSampleScriptWithParams.params[e];null==a.value?t[a.name]=a.defaultValue:"number"==a.type?t[a.name]=Number(a.value):t[a.name]=a.value}this.selectedSampleScriptWithParams.func(t),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},onSampleScriptParamChange:function(){this.executeScriptsWithParamsOnChange&&this.executeSampleScriptWithParams()},deleteSavedScript:function(t){for(var e=0;e<this.savedScripts.length;e++)this.savedScripts[e].name==t&&this.savedScripts.splice(e,1)},loadSavedScript:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t)return document.getElementById("sourceCode").value=this.savedScripts[e].source,this.currentScriptName=t,this.currentScript=this.savedScripts[e],void(this.currentScriptType="SAVED_SCRIPT")},loadSampleScript:function(t){for(var e=0;e<this.allSampleScripts.length;e++)this.allSampleScripts[e].name==t&&(this.currentScriptName=this.allSampleScripts[e].name,this.currentScript=this.allSampleScripts[e],this.currentScriptType="SAMPLE_SCRIPT",document.getElementById("sourceCode").value=this.allSampleScripts[e].source)},selectSampleScript:function(t){for(var e=0;e<this.sampleScripts.length;e++)this.sampleScripts[e].name==t&&(this.selectedSampleScript=this.sampleScripts[e],this.editedSampleScript=this.selectedSampleScript.source)},selectSampleScriptWithParams:function(t){for(var e=0;e<this.allSampleScripts.length;e++)if(this.allSampleScripts[e].name==t&&(this.selectedSampleScriptWithParams=this.allSampleScripts[e],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},selectSavedScriptWithParams:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t&&(this.selectedSampleScriptWithParams=this.savedScripts[e],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},unselectSampleScript:function(){this.selectedSampleScript=null},unselectSampleScriptWithParams:function(){this.selectedSampleScriptWithParams=null},copySampleSourceCode:function(){var t=document.createRange();t.selectNode(document.getElementById("selectedSampleScriptSourceCode")),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()},executeScript:function(){var t=document.getElementById("sourceCode").value;this.dinamicFunction=new Function("params",t);var e={};this.dinamicFunction(e),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},createNewScript:function(){var t=prompt("Script name",""),e="",a={name:t,func:new Function("params",e),source:e,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a)},saveSampleScriptAs:function(){var t=this.newScriptName,e=this.editedSampleScript,a={name:t,func:new Function("params",e),source:e,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a),window.$("#modalSaveSampleScriptAs").modal("hide")},newScript:function(){this.currentScriptName=null,this.currentScript=null,this.currentScriptType=null,document.getElementById("sourceCode").value=""},saveScriptAs:function(){this.currentScriptName=prompt("Script name","");var t=document.getElementById("sourceCode").value;this.currentScript={name:this.currentScriptName,func:new Function("params",t),source:t,type:"SAVED_SCRIPT",params:[]},this.currentScriptType="SAVED_SCRIPT",this.savedScripts.push(this.currentScript)},saveScript:function(){if(null!=this.currentScriptName&&""!=this.currentScriptName&&null!=this.currentScript&&"SAMPLE_SCRIPT"!=this.currentScriptType){var t=document.getElementById("sourceCode").value;this.currentScript.source=t,this.currentScript.func=new Function("params",t)}else this.saveScriptAs()},moveLayerUp:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t-1),this.updateCanvasAllLayers()},moveLayerDown:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t+1),this.updateCanvasAllLayers()},arrayMove:function(t,e,a){var n=t[e];t.splice(e,1),t.splice(a,0,n)},saveScriptsToLocalStorage:function(){localStorage.savedScripts=JSON.stringify(this.savedScripts)},loadScriptsFromLocalStorage:function(){this.savedScripts=JSON.parse(localStorage.savedScripts);for(var t=0;t<this.savedScripts.length;t++){var e=this.savedScripts[t];e.func=new Function("params",e.source)}},filterSampleScripts:function(){this.sampleScripts=Object(u["b"])(this.sampleScriptsFilter.type,this.sampleScriptsFilter.text),this.numFilteredSampleScripts=this.sampleScripts.length},clearSearch:function(){this.sampleScriptsFilter.type="",this.sampleScriptsFilter.text="",this.filterSampleScripts(),this.numFilteredSampleScripts=this.sampleScripts.length},resetContext:function(){ctx.fillStyle="#000000",ctx.strokeStyle="#000000",ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.font="10px sans-serif",ctx.textAlign="start",ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.filter="none",ctx.shadowBlur=0,ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineDashOffset=0,ctx.textBaseline="alphabetic",ctx.setTransform(1,0,0,1,0,0),ctx.setLineDash([]),this.updateCurrentContextDetails()},fillScreenWhite:function(){this.executeSampleScript("Fill screen white")},fillScreenBlack:function(){this.executeSampleScript("Fill screen black")},repaintCurrentLayer:function(){this.executeSampleScript("Repaint")},togglePanelVisibility:function(t){this.visiblePanels[t]=!this.visiblePanels[t]},log:function(t){this.logs.push(t)},clearLogs:function(){this.logs=[]},drawImageToCurrentLayer:function(t){var e=new Image;e.src=t,ctx.drawImage(e,0,0),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},exportCanvas:function(){"FULL_CANVAS"==this.exportConfigForm.type?this.exportCanvasAllLayers():"CROP"==this.exportConfigForm.type?this.exportCanvasAllLayersCropped():"CROP_AT"==this.exportConfigForm.type&&this.exportCanvasAllLayersCroppedAt()},exportCanvasAllLayers:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");this.drawAllLayers(e),t.toBlob((function(t){Object(h["saveAs"])(t,"Image.png")}))},exportCanvasAllLayersCropped:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");this.drawAllLayers(e);var a=p.crop(t);a.toBlob((function(t){Object(h["saveAs"])(t,"Image.png")}))},exportCanvasAllLayersCroppedAt:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");this.drawAllLayers(e);var a=p.cropAt(t,this.exportConfigForm.cropStartX,this.exportConfigForm.cropStartY,this.exportConfigForm.cropEndX,this.exportConfigForm.cropEndY);a.toBlob((function(t){Object(h["saveAs"])(t,"Image.png")}))},drawAllLayers:function(t){for(var e=this.canvasLayers.length-1;e>=0;e--){var a=this.canvasLayers[e];a.visible&&(t.save(),t.globalAlpha=a.alpha,t.drawImage(a.canvas,0,0),t.restore())}},drawTiledBackground:function(t){t.save(),t.globalAlpha=1,t.drawImage(this.backgroundCanvas,0,0),t.restore()},loop:function(){for(var t=0;t<this.customEvents.length;t++){var e=this.customEvents[t];"animationFrame"==e.type&&e.enabled&&e.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas(),window.requestAnimationFrame(this.loop)},showExportModal:function(){window.$("#modalExport").modal("show")},showModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("show")},closeModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("hide")},showModalHelp:function(){window.$("#modalHelp").modal("show")},showModalSaveSampleScriptAs:function(){this.newScriptName="",window.$("#modalSaveSampleScriptAs").modal("show")},pasteClipboardImage:function(t){p.pasteClipboardImage(t),this.closeModalPasteImageFromClipboard()},openColorPicker:function(t){window.$("#modalColorPicker").modal("show"),this.$refs.modalColorPicker.target=t,"fillStyle"==t?this.$refs.modalColorPicker.setCurrentColor(this.ctx.fillStyle):"strokeStyle"==t&&this.$refs.modalColorPicker.setCurrentColor(this.ctx.strokeStyle)}},data:function(){return{tempCanvas:null,mouseDownCanvas:null,canvasWidth:600,canvasHeight:400,currentScriptName:null,currentScript:null,currentScriptType:null,newScriptName:"",dinamicFunction:new Function("params",""),savedScripts:[],sampleScripts:[],allSampleScripts:[],numSampleScripts:null,numFilteredSampleScripts:null,selectedSampleScript:null,selectedSampleScriptWithParams:null,editedSampleScript:"",canvasLayers:[],backgroundCanvas:null,globalVariables:{},viewType:"MAIN_CANVAS",currentLayer:null,ctx:{fillStyle:null,strokeStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,font:null,textAlign:null,globalAlpha:null,globalCompositeOperation:null,transform:null},sampleScriptsFilter:{type:"",text:""},sampleScriptTypes:[],images:[],fonts:[],visiblePanels:{layers:!0,context:!1,images:!1,globalVariables:!1,fonts:!1,logs:!1,events:!1,scriptWithParams:!0,configureScript:!1},logs:[],mousePosition:{x:0,y:0},previousMousePosition:{x:0,y:0},mouseDownPosition:{x:0,y:0},isMouseDown:!1,currentTool:"pencil",customEvents:[],fontPanelForm:{fontName:"",fontURL:""},exportConfigForm:{type:"FULL_CANVAS",cropStartX:0,cropStartY:0,cropEndX:this.canvasWidth,cropEndY:this.canvasHeight},clearLayerBeforeExecutingScriptWithParams:!1,executeScriptsWithParamsOnChange:!1}},mounted:function(){window.app=this,window.$util=p,this.allSampleScripts=Object(u["b"])(),this.sampleScripts=Object(u["b"])(),this.sampleScriptTypes=Object(u["a"])(),this.numSampleScripts=this.allSampleScripts.length,this.numFilteredSampleScripts=this.allSampleScripts.length,this.backgroundCanvas=this.buildBackgroundCanvas();var t="layer01";this.addLayerWithName(t),this.setCurrentLayer(t),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),document.getElementById("canvasAllLayers").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasAllLayers").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasAllLayers").addEventListener("mousedown",this.onCanvasMouseDown),document.getElementById("canvasCurrentLayer").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasCurrentLayer").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasCurrentLayer").addEventListener("mousedown",this.onCanvasMouseDown),window.requestAnimationFrame(this.loop),document.addEventListener("paste",this.pasteClipboardImage,!1)}},jr=Ur,Hr=(a("22de"),Object(y["a"])(jr,l,c,!1,null,null,null));e["default"]=Hr.exports},d784:function(t,e,a){"use strict";a("ac1f");var n=a("6eeb"),r=a("d039"),i=a("b622"),s=a("9112"),o=i("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,u){var h=i(t),m=!r((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=m&&!r((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[h]=/./[h]),a.exec=function(){return e=!0,null},a[h](""),!e}));if(!m||!v||"replace"===t&&(!l||!c||d)||"split"===t&&!p){var f=/./[h],g=a(h,""[t],(function(t,e,a,n,r){return e.exec===RegExp.prototype.exec?m&&!r?{done:!0,value:f.call(e,a,n)}:{done:!0,value:t.call(a,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=g[0],w=g[1];n(String.prototype,t,b),n(RegExp.prototype,h,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}u&&s(RegExp.prototype[h],"sham",!0)}},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),s=i("map");n({target:"Array",proto:!0,forced:!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);