(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"0650":function(e,t,a){"use strict";a("24bd")},"0cb2":function(e,t,a){var n=a("7b0b"),r=Math.floor,i="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,s,c,u){var p=a+e.length,d=s.length,m=l;return void 0!==c&&(c=n(c),m=o),i.call(u,m,(function(n,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(p);case"<":o=c[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>d){var u=r(l/10);return 0===u?n:u<=d?void 0===s[u-1]?i.charAt(1):s[u-1]+i.charAt(1):n}o=s[l-1]}return void 0===o?"":o}))}},"0d3b":function(e,t,a){var n=a("d039"),r=a("b622"),i=a("c430"),o=r("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,a="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),a+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},1276:function(e,t,a){"use strict";var n=a("d784"),r=a("44e7"),i=a("825a"),o=a("1d80"),l=a("4840"),s=a("8aa5"),c=a("50c4"),u=a("14c3"),p=a("9263"),d=a("9f7f"),m=d.UNSUPPORTED_Y,h=[].push,f=Math.min,v=4294967295;n("split",2,(function(e,t,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var n=String(o(this)),i=void 0===a?v:a>>>0;if(0===i)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,i);var l,s,c,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,f=new RegExp(e.source,d+"g");while(l=p.call(f,n)){if(s=f.lastIndex,s>m&&(u.push(n.slice(m,l.index)),l.length>1&&l.index<n.length&&h.apply(u,l.slice(1)),c=l[0].length,m=s,u.length>=i))break;f.lastIndex===l.index&&f.lastIndex++}return m===n.length?!c&&f.test("")||u.push(""):u.push(n.slice(m)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var r=o(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,r,a):n.call(String(r),t,a)},function(e,r){var o=a(n,e,this,r,n!==t);if(o.done)return o.value;var p=i(e),d=String(this),h=l(p,RegExp),g=p.unicode,y=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(m?"g":"y"),x=new h(m?"^(?:"+p.source+")":p,y),b=void 0===r?v:r>>>0;if(0===b)return[];if(0===d.length)return null===u(x,d)?[d]:[];var w=0,C=0,_=[];while(C<d.length){x.lastIndex=m?0:C;var S,L=u(x,m?d.slice(C):d);if(null===L||(S=f(c(x.lastIndex+(m?C:0)),d.length))===w)C=s(d,C,g);else{if(_.push(d.slice(w,C)),_.length===b)return _;for(var F=1;F<=L.length-1;F++)if(_.push(L[F]),_.length===b)return _;C=w=S}}return _.push(d.slice(w)),_}]}),m)},"14c3":function(e,t,a){var n=a("c6b6"),r=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"1dde":function(e,t,a){var n=a("d039"),r=a("b622"),i=a("2d00"),o=r("species");e.exports=function(e){return i>=51||!n((function(){var t=[],a=t.constructor={};return a[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"21a6":function(e,t,a){(function(a){var n,r,i;(function(a,o){r=[],n=o,i="function"===typeof n?n.apply(t,r):n,void 0===i||(e.exports=i)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,a){var l=o.URL||o.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?i(s):r(s.href)?n(e,t,a):i(s,s.target="_blank")):(s.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(s.href)}),4e4),setTimeout((function(){i(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),a);else if(r(e))n(e,a,o);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){i(l)}))}}:function(e,t,a,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,a);var i="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&s||l)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var p=o.URL||o.webkitURL,d=p.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){p.revokeObjectURL(d)}),4e4)}});o.saveAs=s.saveAs=s,e.exports=s}))}).call(this,a("c8ba"))},"22de":function(e,t,a){"use strict";a("8319")},"24bd":function(e,t,a){},2532:function(e,t,a){"use strict";var n=a("23e7"),r=a("5a34"),i=a("1d80"),o=a("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,a){"use strict";var n=a("6eeb"),r=a("825a"),i=a("d039"),o=a("ad6d"),l="toString",s=RegExp.prototype,c=s[l],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=c.name!=l;(u||p)&&n(RegExp.prototype,l,(function(){var e=r(this),t=String(e.source),a=e.flags,n=String(void 0===a&&e instanceof RegExp&&!("flags"in s)?o.call(e):a);return"/"+t+"/"+n}),{unsafe:!0})},"2b3d":function(e,t,a){"use strict";a("3ca3");var n,r=a("23e7"),i=a("83ab"),o=a("0d3b"),l=a("da84"),s=a("37e8"),c=a("6eeb"),u=a("19aa"),p=a("5135"),d=a("60da"),m=a("4df4"),h=a("6547").codeAt,f=a("5fb2"),v=a("d44e"),g=a("9861"),y=a("69f3"),x=l.URL,b=g.URLSearchParams,w=g.getState,C=y.set,_=y.getterFor("URL"),S=Math.floor,L=Math.pow,F="Invalid authority",k="Invalid scheme",P="Invalid host",A="Invalid port",E=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,$=/\d/,N=/^(0x|0X)/,D=/^[0-7]+$/,V=/^\d+$/,T=/^[\dA-Fa-f]+$/,B=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,R=/[\u0000\t\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,O=/[\t\u000A\u000D]/g,W=function(e,t){var a,n,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return P;if(a=G(t.slice(1,-1)),!a)return P;e.host=a}else if(Q(e)){if(t=f(t),B.test(t))return P;if(a=H(t),null===a)return P;e.host=a}else{if(R.test(t))return P;for(a="",n=m(t),r=0;r<n.length;r++)a+=J(n[r],Y);e.host=a}},H=function(e){var t,a,n,r,i,o,l,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),t=s.length,t>4)return e;for(a=[],n=0;n<t;n++){if(r=s[n],""==r)return e;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=N.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)o=0;else{if(!(10==i?V:8==i?D:T).test(r))return e;o=parseInt(r,i)}a.push(o)}for(n=0;n<t;n++)if(o=a[n],n==t-1){if(o>=L(256,5-t))return null}else if(o>255)return null;for(l=a.pop(),n=0;n<a.length;n++)l+=a[n]*L(256,3-n);return l},G=function(e){var t,a,n,r,i,o,l,s=[0,0,0,0,0,0,0,0],c=0,u=null,p=0,d=function(){return e.charAt(p)};if(":"==d()){if(":"!=e.charAt(1))return;p+=2,c++,u=c}while(d()){if(8==c)return;if(":"!=d()){t=a=0;while(a<4&&T.test(d()))t=16*t+parseInt(d(),16),p++,a++;if("."==d()){if(0==a)return;if(p-=a,c>6)return;n=0;while(d()){if(r=null,n>0){if(!("."==d()&&n<4))return;p++}if(!$.test(d()))return;while($.test(d())){if(i=parseInt(d(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;p++}s[c]=256*s[c]+r,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(p++,!d())return}else if(d())return;s[c++]=t}else{if(null!==u)return;p++,c++,u=c}}if(null!==u){o=c-u,c=7;while(0!=c&&o>0)l=s[c],s[c--]=s[u+o-1],s[u+--o]=l}else if(8!=c)return;return s},z=function(e){for(var t=null,a=1,n=null,r=0,i=0;i<8;i++)0!==e[i]?(r>a&&(t=n,a=r),n=null,r=0):(null===n&&(n=i),++r);return r>a&&(t=n,a=r),t},X=function(e){var t,a,n,r;if("number"==typeof e){for(t=[],a=0;a<4;a++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=z(e),a=0;a<8;a++)r&&0===e[a]||(r&&(r=!1),n===a?(t+=a?":":"::",r=!0):(t+=e[a].toString(16),a<7&&(t+=":")));return"["+t+"]"}return e},Y={},U=d({},Y,{" ":1,'"':1,"<":1,">":1,"`":1}),j=d({},U,{"#":1,"?":1,"{":1,"}":1}),q=d({},j,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(e,t){var a=h(e,0);return a>32&&a<127&&!p(t,e)?e:encodeURIComponent(e)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return p(K,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var a;return 2==e.length&&E.test(e.charAt(0))&&(":"==(a=e.charAt(1))||!t&&"|"==a)},ae=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,a=t.length;!a||"file"==e.scheme&&1==a&&te(t[0],!0)||t.pop()},re=function(e){return"."===e||"%2e"===e.toLowerCase()},ie=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},le={},se={},ce={},ue={},pe={},de={},me={},he={},fe={},ve={},ge={},ye={},xe={},be={},we={},Ce={},_e={},Se={},Le={},Fe={},ke=function(e,t,a,r){var i,o,l,s,c=a||oe,u=0,d="",h=!1,f=!1,v=!1;a||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(M,"")),t=t.replace(O,""),i=m(t);while(u<=i.length){switch(o=i[u],c){case oe:if(!o||!E.test(o)){if(a)return k;c=se;continue}d+=o.toLowerCase(),c=le;break;case le:if(o&&(I.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(a)return k;d="",c=se,u=0;continue}if(a&&(Q(e)!=p(K,d)||"file"==d&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,a)return void(Q(e)&&K[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?c=xe:Q(e)&&r&&r.scheme==e.scheme?c=ce:Q(e)?c=me:"/"==i[u+1]?(c=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Se)}break;case se:if(!r||r.cannotBeABaseURL&&"#"!=o)return k;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=Fe;break}c="file"==r.scheme?xe:pe;continue;case ce:if("/"!=o||"/"!=i[u+1]){c=pe;continue}c=he,u++;break;case ue:if("/"==o){c=fe;break}c=_e;continue;case pe:if(e.scheme=r.scheme,o==n)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&Q(e))c=de;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Le;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=_e;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Fe}break;case de:if(!Q(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=_e;continue}c=fe}else c=he;break;case me:if(c=he,"/"!=o||"/"!=d.charAt(u+1))continue;u++;break;case he:if("/"!=o&&"\\"!=o){c=fe;continue}break;case fe:if("@"==o){h&&(d="%40"+d),h=!0,l=m(d);for(var g=0;g<l.length;g++){var y=l[g];if(":"!=y||v){var x=J(y,q);v?e.password+=x:e.username+=x}else v=!0}d=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(h&&""==d)return F;u-=m(d).length+1,d="",c=ve}else d+=o;break;case ve:case ge:if(a&&"file"==e.scheme){c=we;continue}if(":"!=o||f){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(Q(e)&&""==d)return P;if(a&&""==d&&(Z(e)||null!==e.port))return;if(s=W(e,d),s)return s;if(d="",c=Ce,a)return;continue}"["==o?f=!0:"]"==o&&(f=!1),d+=o}else{if(""==d)return P;if(s=W(e,d),s)return s;if(d="",c=ye,a==ge)return}break;case ye:if(!$.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)||a){if(""!=d){var b=parseInt(d,10);if(b>65535)return A;e.port=Q(e)&&b===K[e.scheme]?null:b,d=""}if(a)return;c=Ce;continue}return A}d+=o;break;case xe:if(e.scheme="file","/"==o||"\\"==o)c=be;else{if(!r||"file"!=r.scheme){c=_e;continue}if(o==n)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",c=Le;else{if("#"!=o){ae(i.slice(u).join(""))||(e.host=r.host,e.path=r.path.slice(),ne(e)),c=_e;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Fe}}break;case be:if("/"==o||"\\"==o){c=we;break}r&&"file"==r.scheme&&!ae(i.slice(u).join(""))&&(te(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=_e;continue;case we:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!a&&te(d))c=_e;else if(""==d){if(e.host="",a)return;c=Ce}else{if(s=W(e,d),s)return s;if("localhost"==e.host&&(e.host=""),a)return;d="",c=Ce}continue}d+=o;break;case Ce:if(Q(e)){if(c=_e,"/"!=o&&"\\"!=o)continue}else if(a||"?"!=o)if(a||"#"!=o){if(o!=n&&(c=_e,"/"!=o))continue}else e.fragment="",c=Fe;else e.query="",c=Le;break;case _e:if(o==n||"/"==o||"\\"==o&&Q(e)||!a&&("?"==o||"#"==o)){if(ie(d)?(ne(e),"/"==o||"\\"==o&&Q(e)||e.path.push("")):re(d)?"/"==o||"\\"==o&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==n||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",c=Le):"#"==o&&(e.fragment="",c=Fe)}else d+=J(o,j);break;case Se:"?"==o?(e.query="",c=Le):"#"==o?(e.fragment="",c=Fe):o!=n&&(e.path[0]+=J(o,Y));break;case Le:a||"#"!=o?o!=n&&("'"==o&&Q(e)?e.query+="%27":e.query+="#"==o?"%23":J(o,Y)):(e.fragment="",c=Fe);break;case Fe:o!=n&&(e.fragment+=J(o,U));break}u++}},Pe=function(e){var t,a,n=u(this,Pe,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),l=C(n,{type:"URL"});if(void 0!==r)if(r instanceof Pe)t=_(r);else if(a=ke(t={},String(r)),a)throw TypeError(a);if(a=ke(l,o,null,t),a)throw TypeError(a);var s=l.searchParams=new b,c=w(s);c.updateSearchParams(l.query),c.updateURL=function(){l.query=String(s)||null},i||(n.href=Ee.call(n),n.origin=Ie.call(n),n.protocol=$e.call(n),n.username=Ne.call(n),n.password=De.call(n),n.host=Ve.call(n),n.hostname=Te.call(n),n.port=Be.call(n),n.pathname=Re.call(n),n.search=Me.call(n),n.searchParams=Oe.call(n),n.hash=We.call(n))},Ae=Pe.prototype,Ee=function(){var e=_(this),t=e.scheme,a=e.username,n=e.password,r=e.host,i=e.port,o=e.path,l=e.query,s=e.fragment,c=t+":";return null!==r?(c+="//",Z(e)&&(c+=a+(n?":"+n:"")+"@"),c+=X(r),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==l&&(c+="?"+l),null!==s&&(c+="#"+s),c},Ie=function(){var e=_(this),t=e.scheme,a=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&Q(e)?t+"://"+X(e.host)+(null!==a?":"+a:""):"null"},$e=function(){return _(this).scheme+":"},Ne=function(){return _(this).username},De=function(){return _(this).password},Ve=function(){var e=_(this),t=e.host,a=e.port;return null===t?"":null===a?X(t):X(t)+":"+a},Te=function(){var e=_(this).host;return null===e?"":X(e)},Be=function(){var e=_(this).port;return null===e?"":String(e)},Re=function(){var e=_(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Me=function(){var e=_(this).query;return e?"?"+e:""},Oe=function(){return _(this).searchParams},We=function(){var e=_(this).fragment;return e?"#"+e:""},He=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(Ae,{href:He(Ee,(function(e){var t=_(this),a=String(e),n=ke(t,a);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:He(Ie),protocol:He($e,(function(e){var t=_(this);ke(t,String(e)+":",oe)})),username:He(Ne,(function(e){var t=_(this),a=m(String(e));if(!ee(t)){t.username="";for(var n=0;n<a.length;n++)t.username+=J(a[n],q)}})),password:He(De,(function(e){var t=_(this),a=m(String(e));if(!ee(t)){t.password="";for(var n=0;n<a.length;n++)t.password+=J(a[n],q)}})),host:He(Ve,(function(e){var t=_(this);t.cannotBeABaseURL||ke(t,String(e),ve)})),hostname:He(Te,(function(e){var t=_(this);t.cannotBeABaseURL||ke(t,String(e),ge)})),port:He(Be,(function(e){var t=_(this);ee(t)||(e=String(e),""==e?t.port=null:ke(t,e,ye))})),pathname:He(Re,(function(e){var t=_(this);t.cannotBeABaseURL||(t.path=[],ke(t,e+"",Ce))})),search:He(Me,(function(e){var t=_(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ke(t,e,Le)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:He(Oe),hash:He(We,(function(e){var t=_(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ke(t,e,Fe)):t.fragment=null}))}),c(Ae,"toJSON",(function(){return Ee.call(this)}),{enumerable:!0}),c(Ae,"toString",(function(){return Ee.call(this)}),{enumerable:!0}),x){var Ge=x.createObjectURL,ze=x.revokeObjectURL;Ge&&c(Pe,"createObjectURL",(function(e){return Ge.apply(x,arguments)})),ze&&c(Pe,"revokeObjectURL",(function(e){return ze.apply(x,arguments)}))}v(Pe,"URL"),r({global:!0,forced:!o,sham:!i},{URL:Pe})},"2ca0":function(e,t,a){"use strict";var n=a("23e7"),r=a("06cf").f,i=a("50c4"),o=a("5a34"),l=a("1d80"),s=a("ab13"),c=a("c430"),u="".startsWith,p=Math.min,d=s("startsWith"),m=!c&&!d&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!m&&!d},{startsWith:function(e){var t=String(l(this));o(e);var a=i(p(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return u?u.call(t,n,a):t.slice(a,a+n.length)===n}})},"2d4e":function(e,t,a){},"3b1b":function(e,t,a){},"44e7":function(e,t,a){var n=a("861d"),r=a("c6b6"),i=a("b622"),o=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},"466d":function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),o=a("1d80"),l=a("8aa5"),s=a("14c3");n("match",1,(function(e,t,a){return[function(t){var a=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var o=r(e),c=String(this);if(!o.global)return s(o,c);var u=o.unicode;o.lastIndex=0;var p,d=[],m=0;while(null!==(p=s(o,c))){var h=String(p[0]);d[m]=h,""===h&&(o.lastIndex=l(c,i(o.lastIndex),u)),m++}return 0===m?null:d}]}))},"4de4":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").filter,i=a("1dde"),o=i("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,a){"use strict";var n=a("0366"),r=a("7b0b"),i=a("9bdd"),o=a("e95a"),l=a("50c4"),s=a("8418"),c=a("35a1");e.exports=function(e){var t,a,u,p,d,m,h=r(e),f="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,x=c(h),b=0;if(y&&(g=n(g,v>2?arguments[2]:void 0,2)),void 0==x||f==Array&&o(x))for(t=l(h.length),a=new f(t);t>b;b++)m=y?g(h[b],b):h[b],s(a,b,m);else for(p=x.call(h),d=p.next,a=new f;!(u=d.call(p)).done;b++)m=y?i(p,g,[u.value,b],!0):u.value,s(a,b,m);return a.length=b,a}},5319:function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),o=a("a691"),l=a("1d80"),s=a("8aa5"),c=a("0cb2"),u=a("14c3"),p=Math.max,d=Math.min,m=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,a,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=n.REPLACE_KEEPS_$0,v=h?"$":"$0";return[function(a,n){var r=l(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,r,n):t.call(String(r),a,n)},function(e,n){if(!h&&f||"string"===typeof n&&-1===n.indexOf(v)){var l=a(t,e,this,n);if(l.done)return l.value}var g=r(e),y=String(this),x="function"===typeof n;x||(n=String(n));var b=g.global;if(b){var w=g.unicode;g.lastIndex=0}var C=[];while(1){var _=u(g,y);if(null===_)break;if(C.push(_),!b)break;var S=String(_[0]);""===S&&(g.lastIndex=s(y,i(g.lastIndex),w))}for(var L="",F=0,k=0;k<C.length;k++){_=C[k];for(var P=String(_[0]),A=p(d(o(_.index),y.length),0),E=[],I=1;I<_.length;I++)E.push(m(_[I]));var $=_.groups;if(x){var N=[P].concat(E,A,y);void 0!==$&&N.push($);var D=String(n.apply(void 0,N))}else D=c(P,y,A,E,$,n);A>=F&&(L+=y.slice(F,A)+D,F=A+P.length)}return L+y.slice(F)}]}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),s=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(l,"")),a}};e.exports={start:s(1),end:s(2),trim:s(3)}},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5fb2":function(e,t,a){"use strict";var n=2147483647,r=36,i=1,o=26,l=38,s=700,c=72,u=128,p="-",d=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",f=r-i,v=Math.floor,g=String.fromCharCode,y=function(e){var t=[],a=0,n=e.length;while(a<n){var r=e.charCodeAt(a++);if(r>=55296&&r<=56319&&a<n){var i=e.charCodeAt(a++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),a--)}else t.push(r)}return t},x=function(e){return e+22+75*(e<26)},b=function(e,t,a){var n=0;for(e=a?v(e/s):e>>1,e+=v(e/t);e>f*o>>1;n+=r)e=v(e/f);return v(n+(f+1)*e/(e+l))},w=function(e){var t=[];e=y(e);var a,l,s=e.length,d=u,m=0,f=c;for(a=0;a<e.length;a++)l=e[a],l<128&&t.push(g(l));var w=t.length,C=w;w&&t.push(p);while(C<s){var _=n;for(a=0;a<e.length;a++)l=e[a],l>=d&&l<_&&(_=l);var S=C+1;if(_-d>v((n-m)/S))throw RangeError(h);for(m+=(_-d)*S,d=_,a=0;a<e.length;a++){if(l=e[a],l<d&&++m>n)throw RangeError(h);if(l==d){for(var L=m,F=r;;F+=r){var k=F<=f?i:F>=f+o?o:F-f;if(L<k)break;var P=L-k,A=r-k;t.push(g(x(k+P%A))),L=v(P/A)}t.push(g(x(L))),f=b(m,S,C==w),m=0,++C}}++m,++d}return t.join("")};e.exports=function(e){var t,a,n=[],r=e.toLowerCase().replace(m,".").split(".");for(t=0;t<r.length;t++)a=r[t],n.push(d.test(a)?"xn--"+w(a):a);return n.join(".")}},6062:function(e,t,a){"use strict";var n=a("6d61"),r=a("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(e,t,a){"use strict";var n=a("9bf2").f,r=a("7c73"),i=a("e2cc"),o=a("0366"),l=a("19aa"),s=a("2266"),c=a("7dd0"),u=a("2626"),p=a("83ab"),d=a("f183").fastKey,m=a("69f3"),h=m.set,f=m.getterFor;e.exports={getConstructor:function(e,t,a,c){var u=e((function(e,n){l(e,u,t),h(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),void 0!=n&&s(n,e[c],{that:e,AS_ENTRIES:a})})),m=f(t),v=function(e,t,a){var n,r,i=m(e),o=g(e,t);return o?o.value=a:(i.last=o={index:r=d(t,!0),key:t,value:a,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),p?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e},g=function(e,t){var a,n=m(e),r=d(t);if("F"!==r)return n.index[r];for(a=n.first;a;a=a.next)if(a.key==t)return a};return i(u.prototype,{clear:function(){var e=this,t=m(e),a=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete a[n.index],n=n.next;t.first=t.last=void 0,p?t.size=0:e.size=0},delete:function(e){var t=this,a=m(t),n=g(t,e);if(n){var r=n.next,i=n.previous;delete a.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),a.first==n&&(a.first=r),a.last==n&&(a.last=i),p?a.size--:t.size--}return!!n},forEach:function(e){var t,a=m(this),n=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),i(u.prototype,a?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&n(u.prototype,"size",{get:function(){return m(this).size}}),u},setStrong:function(e,t,a){var n=t+" Iterator",r=f(t),i=f(n);c(e,t,(function(e,t){h(this,{type:n,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),u(t)}}},"65f0":function(e,t,a){var n=a("861d"),r=a("e8b5"),i=a("b622"),o=i("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"68f9":function(e,t,a){},"6cfa":function(e,t,a){e.exports=a.p+"img/drawjs-logo.18b6678c.png"},"6d61":function(e,t,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("94ca"),o=a("6eeb"),l=a("f183"),s=a("2266"),c=a("19aa"),u=a("861d"),p=a("d039"),d=a("1c7e"),m=a("d44e"),h=a("7156");e.exports=function(e,t,a){var f=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),g=f?"set":"add",y=r[e],x=y&&y.prototype,b=y,w={},C=function(e){var t=x[e];o(x,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})},_=i(e,"function"!=typeof y||!(v||x.forEach&&!p((function(){(new y).entries().next()}))));if(_)b=a.getConstructor(t,e,f,g),l.REQUIRED=!0;else if(i(e,!0)){var S=new b,L=S[g](v?{}:-0,1)!=S,F=p((function(){S.has(1)})),k=d((function(e){new y(e)})),P=!v&&p((function(){var e=new y,t=5;while(t--)e[g](t,t);return!e.has(-0)}));k||(b=t((function(t,a){c(t,b,e);var n=h(new y,t,b);return void 0!=a&&s(a,n[g],{that:n,AS_ENTRIES:f}),n})),b.prototype=x,x.constructor=b),(F||P)&&(C("delete"),C("has"),f&&C("get")),(P||L)&&C(g),v&&x.clear&&delete x.clear}return w[e]=b,n({global:!0,forced:b!=y},w),m(b,e),v||a.setStrong(b,e,f),b}},7156:function(e,t,a){var n=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var i,o;return r&&"function"==typeof(i=t.constructor)&&i!==a&&n(o=i.prototype)&&o!==a.prototype&&r(e,o),e}},"7f64":function(e,t,a){"use strict";a("2d4e")},"7f74":function(e,t,a){"use strict";a("bc74")},8319:function(e,t,a){},8418:function(e,t,a){"use strict";var n=a("c04e"),r=a("9bf2"),i=a("5c6c");e.exports=function(e,t,a){var o=n(t);o in e?r.f(e,o,i(0,a)):e[o]=a}},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},9263:function(e,t,a){"use strict";var n=a("ad6d"),r=a("9f7f"),i=a("5692"),o=RegExp.prototype.exec,l=i("native-string-replace",String.prototype.replace),s=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],d=c||p||u;d&&(s=function(e){var t,a,r,i,s=this,d=u&&s.sticky,m=n.call(s),h=s.source,f=0,v=e;return d&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),v=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,f++),a=new RegExp("^(?:"+h+")",m)),p&&(a=new RegExp("^"+h+"$(?!\\s)",m)),c&&(t=s.lastIndex),r=o.call(d?a:s,v),d?r?(r.input=r.input.slice(f),r[0]=r[0].slice(f),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:c&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),p&&r&&r.length>1&&l.call(r[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=s},9861:function(e,t,a){"use strict";a("e260");var n=a("23e7"),r=a("d066"),i=a("0d3b"),o=a("6eeb"),l=a("e2cc"),s=a("d44e"),c=a("9ed3"),u=a("69f3"),p=a("19aa"),d=a("5135"),m=a("0366"),h=a("f5df"),f=a("825a"),v=a("861d"),g=a("7c73"),y=a("5c6c"),x=a("9a1f"),b=a("35a1"),w=a("b622"),C=r("fetch"),_=r("Headers"),S=w("iterator"),L="URLSearchParams",F=L+"Iterator",k=u.set,P=u.getterFor(L),A=u.getterFor(F),E=/\+/g,I=Array(4),$=function(e){return I[e-1]||(I[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},N=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace(E," "),a=4;try{return decodeURIComponent(t)}catch(n){while(a)t=t.replace($(a--),N);return t}},V=/[!'()~]|%20/g,T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e){return T[e]},R=function(e){return encodeURIComponent(e).replace(V,B)},M=function(e,t){if(t){var a,n,r=t.split("&"),i=0;while(i<r.length)a=r[i++],a.length&&(n=a.split("="),e.push({key:D(n.shift()),value:D(n.join("="))}))}},O=function(e){this.entries.length=0,M(this.entries,e)},W=function(e,t){if(e<t)throw TypeError("Not enough arguments")},H=c((function(e,t){k(this,{type:F,iterator:x(P(e).entries),kind:t})}),"Iterator",(function(){var e=A(this),t=e.kind,a=e.iterator.next(),n=a.value;return a.done||(a.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),a})),G=function(){p(this,G,L);var e,t,a,n,r,i,o,l,s,c=arguments.length>0?arguments[0]:void 0,u=this,m=[];if(k(u,{type:L,entries:m,updateURL:function(){},updateSearchParams:O}),void 0!==c)if(v(c))if(e=b(c),"function"===typeof e){t=e.call(c),a=t.next;while(!(n=a.call(t)).done){if(r=x(f(n.value)),i=r.next,(o=i.call(r)).done||(l=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");m.push({key:o.value+"",value:l.value+""})}}else for(s in c)d(c,s)&&m.push({key:s,value:c[s]+""});else M(m,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},z=G.prototype;l(z,{append:function(e,t){W(arguments.length,2);var a=P(this);a.entries.push({key:e+"",value:t+""}),a.updateURL()},delete:function(e){W(arguments.length,1);var t=P(this),a=t.entries,n=e+"",r=0;while(r<a.length)a[r].key===n?a.splice(r,1):r++;t.updateURL()},get:function(e){W(arguments.length,1);for(var t=P(this).entries,a=e+"",n=0;n<t.length;n++)if(t[n].key===a)return t[n].value;return null},getAll:function(e){W(arguments.length,1);for(var t=P(this).entries,a=e+"",n=[],r=0;r<t.length;r++)t[r].key===a&&n.push(t[r].value);return n},has:function(e){W(arguments.length,1);var t=P(this).entries,a=e+"",n=0;while(n<t.length)if(t[n++].key===a)return!0;return!1},set:function(e,t){W(arguments.length,1);for(var a,n=P(this),r=n.entries,i=!1,o=e+"",l=t+"",s=0;s<r.length;s++)a=r[s],a.key===o&&(i?r.splice(s--,1):(i=!0,a.value=l));i||r.push({key:o,value:l}),n.updateURL()},sort:function(){var e,t,a,n=P(this),r=n.entries,i=r.slice();for(r.length=0,a=0;a<i.length;a++){for(e=i[a],t=0;t<a;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===a&&r.push(e)}n.updateURL()},forEach:function(e){var t,a=P(this).entries,n=m(e,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<a.length)t=a[r++],n(t.value,t.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),o(z,S,z.entries),o(z,"toString",(function(){var e,t=P(this).entries,a=[],n=0;while(n<t.length)e=t[n++],a.push(R(e.key)+"="+R(e.value));return a.join("&")}),{enumerable:!0}),s(G,L),n({global:!0,forced:!i},{URLSearchParams:G}),i||"function"!=typeof C||"function"!=typeof _||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,a,n,r=[e];return arguments.length>1&&(t=arguments[1],v(t)&&(a=t.body,h(a)===L&&(n=t.headers?new _(t.headers):new _,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:y(0,String(a)),headers:y(0,n)}))),r.push(t)),C.apply(this,r)}}),e.exports={URLSearchParams:G,getState:P}},"9a1f":function(e,t,a){var n=a("825a"),r=a("35a1");e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},"9bdd":function(e,t,a){var n=a("825a"),r=a("2a62");e.exports=function(e,t,a,i){try{return i?t(n(a)[0],a[1]):t(a)}catch(o){throw r(e),o}}},"9f7f":function(e,t,a){"use strict";var n=a("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,a){"use strict";var n=a("23e7"),r=a("44ad"),i=a("fc6a"),o=a("a640"),l=[].join,s=r!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:s||!c},{join:function(e){return l.call(i(this),void 0===e?",":e)}})},a434:function(e,t,a){"use strict";var n=a("23e7"),r=a("23cb"),i=a("a691"),o=a("50c4"),l=a("7b0b"),s=a("65f0"),c=a("8418"),u=a("1dde"),p=u("splice"),d=Math.max,m=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var a,n,u,p,v,g,y=l(this),x=o(y.length),b=r(e,x),w=arguments.length;if(0===w?a=n=0:1===w?(a=0,n=x-b):(a=w-2,n=m(d(i(t),0),x-b)),x+a-n>h)throw TypeError(f);for(u=s(y,n),p=0;p<n;p++)v=b+p,v in y&&c(u,p,y[v]);if(u.length=n,a<n){for(p=b;p<x-n;p++)v=p+n,g=p+a,v in y?y[g]=y[v]:delete y[g];for(p=x;p>x-n+a;p--)delete y[p-1]}else if(a>n)for(p=x-n;p>b;p--)v=p+n-1,g=p+a-1,v in y?y[g]=y[v]:delete y[g];for(p=0;p<a;p++)y[p+b]=arguments[p+2];return y.length=x-n+a,u}})},a630:function(e,t,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),o=!i((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:r})},a640:function(e,t,a){"use strict";var n=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&n((function(){a.call(null,t||function(){throw 1},1)}))}},a9bb:function(e,t,a){"use strict";a("68f9")},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("6eeb"),l=a("5135"),s=a("c6b6"),c=a("7156"),u=a("c04e"),p=a("d039"),d=a("7c73"),m=a("241c").f,h=a("06cf").f,f=a("9bf2").f,v=a("58a8").trim,g="Number",y=r[g],x=y.prototype,b=s(d(x))==g,w=function(e){var t,a,n,r,i,o,l,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),o=i.length,l=0;l<o;l++)if(s=i.charCodeAt(l),s<48||s>r)return NaN;return parseInt(i,n)}return+c};if(i(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var C,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(b?p((function(){x.valueOf.call(a)})):s(a)!=g)?c(new y(w(t)),a,_):w(t)},S=n?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;S.length>L;L++)l(y,C=S[L])&&!l(_,C)&&f(_,C,h(y,C));_.prototype=x,x.constructor=_,o(r,g,_)}},ab13:function(e,t,a){var n=a("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},ac1f:function(e,t,a){"use strict";var n=a("23e7"),r=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},af30:function(e,t,a){"use strict";a("3b1b")},b0c0:function(e,t,a){var n=a("83ab"),r=a("9bf2").f,i=Function.prototype,o=i.toString,l=/^\s*function ([^ (]*)/,s="name";n&&!(s in i)&&r(i,s,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(e){return""}}})},b727:function(e,t,a){var n=a("0366"),r=a("44ad"),i=a("7b0b"),o=a("50c4"),l=a("65f0"),s=[].push,c=function(e){var t=1==e,a=2==e,c=3==e,u=4==e,p=6==e,d=7==e,m=5==e||p;return function(h,f,v,g){for(var y,x,b=i(h),w=r(b),C=n(f,v,3),_=o(w.length),S=0,L=g||l,F=t?L(h,_):a||d?L(h,0):void 0;_>S;S++)if((m||S in w)&&(y=w[S],x=C(y,S,b),e))if(t)F[S]=x;else if(x)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:s.call(F,y)}else switch(e){case 4:return!1;case 7:s.call(F,y)}return p?-1:c||u?u:F}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},bb2f:function(e,t,a){var n=a("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc74:function(e,t,a){},caad:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").includes,i=a("44d2");n({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cd56:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header"},[n("MainMenu"),n("img",{attrs:{src:a("6cfa")}}),n("div",{staticStyle:{position:"absolute",right:"10px",top:"13px",margin:"0px"}},[e._m(0),e._m(1),e._m(2),n("a",{staticClass:"btn btn-danger",attrs:{href:"https://danielbarral.itch.io/drawjs/donate",role:"button",target:"_blank"}},[n("IconDonate",{attrs:{color:"#ffffff"}}),e._v(" Donate")],1)])],1),n("div",{staticClass:"appDiv",attrs:{id:"app"}},[n("div",{staticClass:"mainLayout"},[n("div",{staticClass:"columnBox colDiv"},[n("div",{staticClass:"scriptsDiv"},[e._m(3),n("div",{staticClass:"tabContentScroll"},[n("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[n("div",{staticClass:"tab-pane show active",attrs:{id:"tabSampleScripts",role:"tabpanel","aria-labelledby":"sampleScripts-tab"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:null==e.selectedSampleScript,expression:"selectedSampleScript == null"}]},[n("span",[e._v("Type:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.sampleScriptsFilter.type,expression:"sampleScriptsFilter.type"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.sampleScriptsFilter,"type",t.target.multiple?a:a[0])},function(t){return e.filterSampleScripts()}]}},[n("option",{attrs:{value:""}},[e._v("(Show all)")]),e._l(e.sampleScriptTypes,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),n("span",[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.sampleScriptsFilter.text,expression:"sampleScriptsFilter.text"}],attrs:{placeholder:"script name"},domProps:{value:e.sampleScriptsFilter.text},on:{input:[function(t){t.target.composing||e.$set(e.sampleScriptsFilter,"text",t.target.value)},function(t){return e.filterSampleScripts()}]}}),n("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.sampleScriptsFilter.type||""!=e.sampleScriptsFilter.text,expression:"sampleScriptsFilter.type != '' || sampleScriptsFilter.text != ''"}]},[e._v("Showing "+e._s(e.numFilteredSampleScripts)+" of "+e._s(e.numSampleScripts)+" "),n("a",{attrs:{href:"#"},on:{click:function(t){return e.clearSearch()}}},[e._v("Clear search")])]),n("table",{staticStyle:{"margin-top":"5px"}},e._l(e.sampleScripts,(function(t){return n("tr",{key:t.name},[n("td",[e._v(e._s(t.name))]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(a){return e.executeSampleScript(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==t.params},on:{click:function(a){return e.selectSampleScriptWithParams(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ... ")],1)]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.loadSampleScript(t.name)}}},[e._v("Open")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.selectSampleScript(t.name)}}},[e._v("View")])])])})),0)]),null!=e.selectedSampleScript?n("div",[n("h3",[n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(t){return e.unselectSampleScript()}}},[n("IconBack",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Back")],1),e._v(" "+e._s(e.selectedSampleScript.name))]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-success btn-sm",on:{click:function(t){return e.executeEditedSampleScript()}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Execute")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.copySampleSourceCode()}}},[e._v("Copy")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.showModalSaveSampleScriptAs()}}},[e._v("Save as...")])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editedSampleScript,expression:"editedSampleScript"}],staticStyle:{width:"100%",height:"180px"},attrs:{spellcheck:"false"},domProps:{value:e.editedSampleScript},on:{input:function(t){t.target.composing||(e.editedSampleScript=t.target.value)}}})]):e._e()]),n("div",{staticClass:"tab-pane",staticStyle:{"margin-left":"3px"},attrs:{id:"tabSavedScripts",role:"tabpanel","aria-labelledby":"savedScripts-tab"}},[n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.createNewScript()}}},[e._v("New script...")])]),n("br"),e.savedScripts.length>0?n("table",{staticClass:"smallTable"},[e._m(4),n("tbody",e._l(e.savedScripts,(function(t){return n("tr",{key:t.name},[n("td",[n("b",[e._v(e._s(t.name))])]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return e.executeSavedScript(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==t.params},on:{click:function(a){return e.selectSavedScriptWithParams(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ...")],1)]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.configScript(t.name)}}},[e._v("Params")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.loadSavedScript(t.name)}}},[e._v("Open")])]),n("td",[n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.deleteSavedScript(t.name)}}},[e._v("delete")])])])})),0)]):e._e(),0==e.savedScripts.length?n("div",[e._v("You haven't created any script yet.")]):e._e(),n("br"),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.saveScriptsToLocalStorage()}}},[e._v("Save to local storage")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.loadScriptsFromLocalStorage()}}},[e._v("Load from local storage")])])])])])]),n("div",[n("div",{staticClass:"panelHeader"},[n("span",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}]},[n("b",[e._v("Sample script:")]),e._v(" "+e._s(e.currentScriptName))]),n("span",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}]},[n("b",[e._v("My script:")]),e._v(" "+e._s(e.currentScriptName))]),n("span",{directives:[{name:"show",rawName:"v-show",value:null==e.currentScriptType,expression:"currentScriptType == null"}]},[n("b",[e._v("Untitled script")])])]),n("textarea",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode",spellcheck:"false"}}),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-success btn-sm",on:{click:e.executeScript}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Execute")],1),n("button",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(t){return e.selectSavedScriptWithParams(e.currentScriptName)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ...")],1),n("button",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(t){return e.selectSampleScriptWithParams(e.currentScriptName)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ...")],1),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=e.currentScriptType},on:{click:function(t){return e.configScript(e.currentScriptName)}}},[e._v("Params")]),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=e.currentScriptType},on:{click:e.saveScript}},[e._v("Save")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.saveScriptAs}},[e._v("Save as...")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.newScript}},[e._v("New")])])])]),n("div",{staticClass:"columnBox mainColDiv"},[e._m(5),n("div",{staticClass:"tab-content tabCanvas",staticStyle:{"margin-top":"5px"},attrs:{id:"tabCanvas"}},[n("div",{staticClass:"tab-pane show active",attrs:{id:"tab_all_layers",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasAllLayers",width:e.canvasWidth,height:e.canvasHeight}})]),n("div",{staticClass:"tab-pane",attrs:{id:"tab_current_layer",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasCurrentLayer",width:e.canvasWidth,height:e.canvasHeight}})])]),n("div",{staticClass:"buttonGroup"},[n("span",[n("b",[e._v("Current tool: ")]),e._v(e._s(e.currentTool))]),e._m(6),n("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.ctx.fillStyle,on:{click:function(t){return e.openColorPicker("fillStyle")}}}),n("span",{staticClass:"spanFillStyleStrokeStyle"},[e._v(e._s(e.ctx.fillStyle))]),e._m(7),n("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.ctx.strokeStyle,on:{click:function(t){return e.openColorPicker("strokeStyle")}}}),n("span",{staticClass:"spanFillStyleStrokeStyle"},[e._v(e._s(e.ctx.strokeStyle))]),n("span",{staticStyle:{"margin-left":"10px"}},[n("b",[e._v("Position: ")]),e._v(e._s(e.mousePosition.x)+","+e._s(e.mousePosition.y))])]),n("div",{staticClass:"buttonGroup"},[e._m(8),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("move"),on:{click:function(t){return e.setCurrentTool("move")}}},[n("IconMove",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Move")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("pencil"),on:{click:function(t){return e.setCurrentTool("pencil")}}},[n("IconEdit",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Pencil")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("brush"),on:{click:function(t){return e.setCurrentTool("brush")}}},[n("IconBrush",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Brush")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("eraser"),on:{click:function(t){return e.setCurrentTool("eraser")}}},[n("IconEraser",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Eraser")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("bucketFill"),on:{click:function(t){return e.setCurrentTool("bucketFill")}}},[n("IconBucketFill",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Bucket fill")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("line"),on:{click:function(t){return e.setCurrentTool("line")}}},[n("IconLine",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Line")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("rectangle"),on:{click:function(t){return e.setCurrentTool("rectangle")}}},[n("IconRectangle",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Rectangle")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("circle"),on:{click:function(t){return e.setCurrentTool("circle")}}},[n("IconCircle",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Circle")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("ellipse"),on:{click:function(t){return e.setCurrentTool("ellipse")}}},[n("IconEllipse",{attrs:{color:"#ffffff"}})],1),n("span",{staticClass:"tooltiptext0"},[e._v("Ellipse")])]),n("div",{staticClass:"tooltip0"},[n("button",{class:e.getToolClass("none"),on:{click:function(t){return e.setCurrentTool("none")}}},[n("IconNone",{attrs:{color:"#ffffff"}}),e._v(" None")],1),n("span",{staticClass:"tooltiptext0"},[e._v("None")])])]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.clearCurrentLayer()}}},[e._v("Clear current layer")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.fillScreenWhite()}}},[e._v("Fill with white")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.fillScreenBlack()}}},[e._v("Fill with black")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.repaintCurrentLayer()}}},[e._v("Repaint current layer")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.resetContext()}}},[e._v("Reset context")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.clip()}}},[e._v("Clip")])])]),n("div",{staticClass:"columnBoxRight"},[n("ConfigureScriptPanel",{ref:"configureScriptPanel"}),n("ScriptWithParamsPanel",{ref:"scriptWithParamsPanel"}),n("LayersPanel",{ref:"layersPanel"}),n("ContextPanel"),n("EventsPanel"),n("ImagesPanel"),n("FontsPanel"),n("GlobalVariablesPanel"),n("LogsPanel")],1)]),e._v(" "),n("div",{staticClass:"modal fade",attrs:{id:"modalSaveSampleScriptAs",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[e._m(9),n("div",{staticClass:"modal-body"},[n("div",[e._v("Name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newScriptName,expression:"newScriptName"}],domProps:{value:e.newScriptName},on:{input:function(t){t.target.composing||(e.newScriptName=t.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.saveSampleScriptAs()}}},[e._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),n("ModalExport"),n("ModalPasteImageFromClipboard"),n("ModalHelp"),n("ModalColorPicker",{ref:"modalColorPicker"})],1)])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"https://www.youtube.com/channel/UC6MPzpvbIs1x2HtoM83fVcQ",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("aaba")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"https://www.reddit.com/r/DrawJS/",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("8f63")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"https://danielbarral.itch.io/drawjs",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("e004")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"sampleScripts-tab","data-toggle":"tab",href:"#tabSampleScripts",role:"tab"}},[e._v("Sample scripts")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"savedScripts-tab","data-toggle":"tab",href:"#tabSavedScripts",role:"tab"}},[e._v("My scripts")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th"),a("th"),a("th"),a("th"),a("th")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_all_layers",role:"tab","aria-controls":"tab_all_layers","aria-selected":"false"}},[e._v("All layers")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_current_layer",role:"tab","aria-controls":"tab_current_layer","aria-selected":"false"}},[e._v("Current layer")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[e._v("fillStyle: ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[e._v("strokeStyle: ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("b",[e._v("Tools: ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Save sample script as...")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],i=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("4de4"),a("2ca0"),a("ac1f"),a("1276"),a("a9e3"),a("a434"),a("b0c0"),a("6062"),a("caad"),a("2532"),a("a630"),[]),o=new Set,l={},s="",c="";function u(e,t){t.type="SAMPLE_SCRIPT",i.push(t);for(var a=0;a<e.length;a++){var n=e[a];o.add(n),null==l[n]&&(l[n]=[]),l[n].push(t)}}function p(e,t){var a=t||"";a=a.toLowerCase();var n=null;n=null==e||""==e?i:l[e];for(var r=[],o=0;o<n.length;o++){var s=n[o];s.name.toLowerCase().includes(a)&&r.push(s)}return r}function d(){return Array.from(o)}c="\nlet startX = params.startX ?? 100;\nlet startY = params.startY ?? 100;\nlet endX = params.endX ?? 200;\nlet endY = params.endY ?? 200;\n\nctx.beginPath();\nctx.moveTo(startX, startY);\nctx.lineTo(endX, endY);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw line",func:new Function("params",c),source:c,params:[{name:"startX",type:"number",defaultValue:100},{name:"startY",type:"number",defaultValue:100},{name:"endX",type:"number",defaultValue:200},{name:"endY",type:"number",defaultValue:200}]}),c="\nctx.beginPath();\nctx.moveTo(0, 0);\nctx.lineTo(100, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw line (simple)",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet radius = params.radius ?? 100;\n\nctx.beginPath();\nctx.arc(x, y, radius, 0, 2 * Math.PI);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw circle",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"radius",type:"number",defaultValue:100}]}),c="\nctx.beginPath();\nctx.arc(100, 100, 10, 0, 2 * Math.PI);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw circle (simple)",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet radius = params.radius ?? 100;\n\nctx.beginPath();\nctx.arc(x, y, radius, 0, 2 * Math.PI);\nctx.fill();\n",u(["basic drawing"],{name:"Fill circle",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"radius",type:"number",defaultValue:100}]}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet width = params.width ?? 100;\nlet height = params.height ?? 100;\n\nctx.beginPath();\nctx.rect(x, y, width, height);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw rect",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:100},{name:"height",type:"number",defaultValue:100}]}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet width = params.width ?? 100;\nlet height = params.height ?? 100;\n\nctx.fillRect(x, y, width, height);\n",u(["basic drawing"],{name:"Fill rect",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:100},{name:"height",type:"number",defaultValue:100}]}),c='\nlet text = params.text ?? "Hello World";\nlet font = params.font ?? "30px Arial";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\n\nctx.font = font;\nctx.fillText(text, x, y);\n',u(["basic drawing","text"],{name:"Draw text",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Hello World"},{name:"font",defaultValue:"30px Arial"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c='\nctx.font = "30px Arial";\nctx.fillText("Hello World", 100, 150);\n',u(["basic drawing","text"],{name:"Draw text (simple)",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? "Hello World";\nlet font = params.font ?? "30px Arial";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\n\nctx.font = font;\nctx.strokeText(text, x, y);\n',u(["basic drawing","text"],{name:"Draw stroke text",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Hello World"},{name:"font",defaultValue:"30px Arial"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c='\n// Create gradient\nvar grd = ctx.createLinearGradient(0, 0, 200, 0);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Linear Gradient",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar grd = ctx.createRadialGradient(75, 50, 5, 90, 60, 100);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Circular Gradient",func:new Function("params",c),source:c}),c="\nctx.rotate(20 * Math.PI / 180);\n",u(["context"],{name:"Rotate canvas",func:new Function("params",c),source:c}),c="\nlet angle = params.angle ?? 10;\nlet centerX = params.centerX ?? 300;\nlet centerY = params.centerY ?? 200;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.translate(centerX, centerY);\nctx.rotate(angle * Math.PI / 180);\nctx.translate(-centerX, -centerY);\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["context","layer"],{name:"Rotate layer",func:new Function("params",c),source:c,params:[{name:"angle",type:"number",defaultValue:10},{name:"centerX",type:"number",defaultValue:300},{name:"centerY",type:"number",defaultValue:200}]}),c="\nlet a = params.horizontalScaling ?? 1;\nlet b = params.verticalSkewing ?? 0;\nlet c = params.horizontalSkewing ?? 0;\nlet d = params.verticalScaling ?? 1;\nlet e = params.horizontalTranslation ?? 0;\nlet f = params.verticalTranslation ?? 0;\n\nctx.setTransform(a, b, c, d, e, f);\n",u(["other","context"],{name:"Set transform",func:new Function("params",c),source:c}),c="\nctx.setTransform(1, 0, 0, 1, 0, 0);\n",u(["other","context"],{name:"Reset transform",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar gradient = ctx.createLinearGradient(0, 0, c.width, 0);\ngradient.addColorStop("0"," magenta");\ngradient.addColorStop("0.5", "blue");\ngradient.addColorStop("1.0", "red");\n// Fill with gradient\nctx.fillStyle = gradient;\n',u(["basic drawing","context"],{name:"Set gradient fillstyle",func:new Function("params",c),source:c}),c="\nctx.clearRect(0, 0, 600, 400); \n",u(["basic drawing"],{name:"Clear rect",func:new Function("params",c),source:c}),c="\nctx.globalAlpha = 0.2;\n",u(["alpha"],{name:"Set global alpha",func:new Function("params",c),source:c}),c='\nctx.shadowBlur = 20;\nctx.shadowColor = "black";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n',u(["filters"],{name:"Set shadow",func:new Function("params",c),source:c}),c="\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.shadowBlur = params.shadowBlur ?? 10;\nctx.shadowColor = params.shadowColor ?? \"#000000\";\nctx.shadowOffsetX = params.shadowOffsetX ?? 10;\nctx.shadowOffsetY = params.shadowOffsetY ?? 10;\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["filters"],{name:"Add shadow",func:new Function("params",c),source:c,params:[{name:"shadowBlur",type:"number",defaultValue:10},{name:"shadowColor",type:"colorHex",defaultValue:"#000000"},{name:"shadowOffsetX",type:"number",defaultValue:10},{name:"shadowOffsetY",type:"number",defaultValue:10}]}),c="\nctx.clip();\n",u(["context"],{name:"Clip",func:new Function("params",c),source:c}),c='\n// Clip a rectangular area\nctx.rect(50, 20, 200, 120);\nctx.stroke();\nctx.clip();\n// Draw red rectangle after clip()\nctx.fillStyle = "red";\nctx.fillRect(0, 0, 150, 100);\n',u(["context"],{name:"Clip rect",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#FF0000";\n',u(["context","color"],{name:"Set fill style",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgb(255,0,0)';\n",u(["context","color"],{name:"Set fill style RGB",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n",u(["context","color"],{name:"Set fill style RGBA",func:new Function("params",c),source:c}),c='\nctx.strokeStyle = "#FF0000";\n',u(["context"],{name:"Set stroke style",func:new Function("params",c),source:c}),c="\nctx.lineWidth = 5;\n",u(["basic drawing"],{name:"Set line width",func:new Function("params",c),source:c}),c="\nparams.x = params.x || 300;\nparams.y = params.y || 200;\nparams.r = params.r || 20;\nparams.n = params.n || 5;\nparams.inset = params.inset || 2.5;\n\nctx.save();\nctx.beginPath();\nctx.translate(params.x, params.y);\nctx.moveTo(0,0-params.r);\nfor (var i = 0; i < params.n; i++) {\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - (params.r*params.inset));\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - params.r);\n}\nctx.closePath();\nctx.fill();\nctx.restore();\n",u(["shapes"],{name:"Draw star",func:new Function("params",c),source:c}),c="\nlet cx = params.cx || 300;\nlet cy = params.cy || 200;\nlet spikes = params.spikes || 5;\nlet innerRadius = params.innerRadius || 100;\nlet outerRadius = params.outerRadius || 40;\n\nlet rot=Math.PI/2*3;\nlet x=cx;\nlet y=cy;\nlet step=Math.PI/spikes;\n\nctx.beginPath();\nctx.moveTo(cx,cy-outerRadius)\nfor(i=0;i<spikes;i++){\n  x=cx+Math.cos(rot)*outerRadius;\n  y=cy+Math.sin(rot)*outerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n\n  x=cx+Math.cos(rot)*innerRadius;\n  y=cy+Math.sin(rot)*innerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n}\nctx.lineTo(cx,cy-outerRadius);\nctx.closePath();\nctx.lineWidth=3;\nctx.strokeStyle='#999900';\nctx.stroke();\nctx.fillStyle='#ffff00';\nctx.fill();\n",u(["shapes"],{name:"Draw star 2",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Draw star',{x: 300, y: 200, r: 48, n: 24, inset: 1.3});\n",u(["shapes"],{name:"Draw spike ball",func:new Function("params",c),source:c}),c="\nctx.restore();\n",c="\nctx.save();\n",u(["context"],{name:"Save context",func:new Function("params",c),source:c}),c="\nctx.restore();\n",u(["context"],{name:"Restore context",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.createImageData(width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] = $util.random256(); // R value\n  imageData.data[i + 1] = $util.random256(); // G value\n  imageData.data[i + 2] = $util.random256(); // B value\n  imageData.data[i + 3] = 255; // A value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["other"],{name:"Draw random pixels",func:new Function("params",c),source:c}),c="\nlet amount = params.amount ?? 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += amount; // R value\n  imageData.data[i + 1] += amount; // G value\n  imageData.data[i + 2] += amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Lighter",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:50}]}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] -= amount; // R value\n  imageData.data[i + 1] -= amount; // G value\n  imageData.data[i + 2] -= amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Darker",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:50}]}),c="\nlet amount = params.amount ?? 5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\nlet x = 0;\nlet y = 0;\n\nctx.save();\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  if (imageData.data[i + 3] > 0) {\n    ctx.fillStyle = 'rgba(' + imageData.data[i] + ', ' + imageData.data[i + 1] + ', ' + imageData.data[i + 2] + ', ' + imageData.data[i + 3]/255 + ')';\n    ctx.beginPath();\n    ctx.arc(x + 0.5, y + 0.5, amount, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n  x++;\n  if (x>width-1) {\n    x = 0;\n    y++;\n  }\n}\n\nctx.restore();\n",u(["other","border"],{name:"Grow",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:5}]}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i + 3] = 255 - imageData.data[i + 3];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["alpha"],{name:"Invert image alpha",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = 255 - imageData.data[i];\n    imageData.data[i+1] = 255 - imageData.data[i+1];\n    imageData.data[i+2] = 255 - imageData.data[i+2];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color"],{name:"Invert image colors",func:new Function("params",c),source:c}),c='\nlet sourceColor = params.sourceColor ?? "#FFFFFF";\nlet targetColor = params.targetColor ?? "#FF0000";\nlet tolerance = params.tolerance ?? 0;\n\nlet sourceColorRGB = $util.hexToRgb(sourceColor);\nlet targetColorRGB = $util.hexToRgb(targetColor);\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    let r = imageData.data[i];\n    let g = imageData.data[i+1];\n    let b = imageData.data[i+2];\n\n    let rDiff = Math.abs(r - sourceColorRGB.r);\n    let gDiff = Math.abs(g - sourceColorRGB.g);\n    let bDiff = Math.abs(b - sourceColorRGB.b);\n\n    if (rDiff <= tolerance && gDiff <= tolerance && bDiff <= tolerance) {\n      imageData.data[i] = targetColorRGB.r;\n      imageData.data[i+1] = targetColorRGB.g;\n      imageData.data[i+2] = targetColorRGB.b;\n    }\n}\n\nctx.putImageData(imageData, 0, 0);\n',u(["color"],{name:"Replace color",func:new Function("params",c),source:c,params:[{name:"sourceColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"targetColor",type:"colorHex",defaultValue:"#FF0000"},{name:"tolerance",type:"number",defaultValue:0}]}),c="\nlet p = new Path2D('M160 110H40v20h120v30L200 120l-40-40z');\nctx.fill(p);\n",u(["SVG"],{name:"Draw Path2D",func:new Function("params",c),source:c}),s='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="300px" height="300px">\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4z"/>\n</svg>\n',c="\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\nlet xml = params.xml;\n\nlet defaultXml = `".concat(s,"`;\n\nxml = xml ?? defaultXml;\n\nvar svg64 = btoa(xml);\n\nvar b64Start = 'data:image/svg+xml;base64,';\n\nvar image64 = b64Start + svg64;\n\nvar img = new Image();\nimg.src = image64;\n\nctx.drawImage(img, x, y);\n"),u(["SVG"],{name:"Draw SVG",func:new Function("params",c),source:c}),s='\n<svg viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg" width="500px" height="400px">\n  <circle cx="300" cy="200" r="50" fill="#ff0000"/>\n</svg>\n',c="\nvar xml = `".concat(s,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - circle",func:new Function("params",c),source:c}),s='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix\n          kernelMatrix="1 0 0\n                        0 0 0\n                        0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(s,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix",func:new Function("params",c),source:c}),s='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix order="5" bias="0.5" preserveAlpha="true"\n          kernelMatrix="1 0 0 0 0\n                        0 1 0 0 0\n                        0 0 0 0 0\n                        0 0 0 -1 0\n                        0 0 0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(s,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix 2",func:new Function("params",c),source:c}),s='\n<svg viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg" width="600px" height="400px">\n  <filter id="emboss1" x="0" y="0" width="100%" height="100%">\n    <feTurbulence baseFrequency="0.025" seed="0" />\n  </filter>\n  <rect x="0" y="0" width="600" height="400" style="filter:url(#emboss1);" />\n</svg>\n',c="\nvar xml = `".concat(s,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - turbulence",func:new Function("params",c),source:c}),s='\n<svg height="200" width="200" viewBox="0 0 220 220"\n    xmlns="http://www.w3.org/2000/svg">\n  <filter id = "filter">\n    <feSpecularLighting result="specOut"\n        specularExponent="20" lighting-color="#bbbbbb">\n      <fePointLight x="50" y="50" z="200"/>\n    </feSpecularLighting>\n    <feComposite in="SourceGraphic" in2="specOut"\n        operator="arithmetic" k1="0" k2="1" k3="1" k4="0"/>\n  </filter>\n  <circle cx="110" cy="110" r="100" style="filter:url(#filter)"/>\n</svg>\n',c="\nvar xml = `".concat(s,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - SpecularLighting",func:new Function("params",c),source:c}),c="\nctx.filter = 'blur(3px)';\n",u(["filters"],{name:"Blur",func:new Function("params",c),source:c}),c="\nlet amount = params.amount ?? 3;\nlet filterString = 'blur(' + amount + 'px)';\napp.executeSampleScript('Repaint with filter',{filter: filterString});\n",u(["filters"],{name:"Blur layer",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:3}]}),c="\nctx.filter = 'grayscale(100%)';\n",u(["filters","context","color"],{name:"Grayscale",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Repaint with filter', {filter: 'grayscale(100%)'});\n",u(["filters","layer","color"],{name:"Grayscale layer",func:new Function("params",c),source:c}),c="\nlet filter = params.filter ?? 'grayscale(100%)';\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.filter = filter;\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["filters"],{name:"Repaint with filter",func:new Function("params",c),source:c}),c="\nctx.filter = 'grayscale(50%)';\n",u(["filters","context","color"],{name:"Grayscale 50%",func:new Function("params",c),source:c}),c="\nctx.filter = 'brightness(1.2)';\n",u(["filters","context","color"],{name:"Brightness",func:new Function("params",c),source:c}),c="\nctx.filter = 'contrast(150%)';\n",u(["filters","context","color"],{name:"Contrast",func:new Function("params",c),source:c}),c="\nctx.filter = 'invert(100%)';\n",u(["filters","context","color"],{name:"Invert",func:new Function("params",c),source:c}),c="\nctx.filter = 'hue-rotate(120deg)';\n",u(["context","filters","color"],{name:"Hue rotate",func:new Function("params",c),source:c}),c="\nctx.filter = 'drop-shadow(-9px 9px 3px #666666)';\n",u(["filters","context"],{name:"Drop shadow",func:new Function("params",c),source:c}),c="\nctx.filter = 'sepia(100%)';\n",u(["filters","context","color"],{name:"Sepia",func:new Function("params",c),source:c}),c="\nctx.filter = 'opacity(50%)';\n",u(["filters","context"],{name:"Opacity",func:new Function("params",c),source:c}),c="\nctx.filter = 'saturate(30%)';\n",u(["filters","context","color"],{name:"Saturate",func:new Function("params",c),source:c}),c="\nctx.filter = 'none';\n",u(["filters"],{name:"Clear filters",func:new Function("params",c),source:c}),c="\nctx.drawImage(app.canvasLayers[3].canvas, 0, 0);\n",u(["other","layer","app"],{name:"Paint layer to another",func:new Function("params",c),source:c}),c="\nlet red = params.r ?? 255;\nlet green = params.g ?? 0;\nlet blue = params.b ?? 0;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = red;\n    imageData.data[i+1] = green;\n    imageData.data[i+2] = blue;\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["color"],{name:"Set image color",func:new Function("params",c),source:c,params:[{name:"r",type:"number",defaultValue:255},{name:"g",type:"number",defaultValue:0},{name:"b",type:"number",defaultValue:0}]}),c="\nlet red = params.r ?? 1;\nlet green = params.g ?? 0.5;\nlet blue = params.b ?? 0.5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = imageData.data[i] * red;\n    imageData.data[i+1] = imageData.data[i+1] * green;\n    imageData.data[i+2] = imageData.data[i+2] * blue;\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["color","filters"],{name:"Modulate image color",func:new Function("params",c),source:c,params:[{name:"r",type:"number",defaultValue:1},{name:"g",type:"number",defaultValue:.5},{name:"b",type:"number",defaultValue:.5}]}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet tempCanvas = document.createElement('canvas');\ntempCanvas.width = width;\ntempCanvas.height = height;\n\nlet tempCtx = tempCanvas.getContext('2d');\ntempCtx.drawImage(ctx.canvas, 0, 0);\n\nctx.clearRect(0, 0, width, height);\nctx.drawImage(tempCtx.canvas, 0, 0);\n",u(["other"],{name:"Repaint",func:new Function("params",c),source:c}),c="\nlet amount = params.amount ?? 3;\nlet lightOffset = params.lightOffset ?? 100;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Grow',{amount: amount});\napp.executeSampleScript('Lighter', {amount: lightOffset});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border"],{name:"Add border",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:3},{name:"lightOffset",type:"number",defaultValue:100}]}),c="\nlet amount = params.amount || 4;\nlet lightOffset = params.lightOffset || 100;\n\napp.executeSampleScript('Add border', {amount: amount, lightOffset: lightOffset});\napp.executeSampleScript('Add border', {amount: amount, lightOffset: -lightOffset});\n",u(["border"],{name:"Add double border",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:4},{name:"lightOffset",type:"number",defaultValue:100}]}),c="\nlet amount = params.amount ?? 3;\nlet red = params.r ?? 255;\nlet green = params.g ?? 0;\nlet blue = params.b ?? 0;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Set image color', {r: red, g: green, b: blue});\napp.executeSampleScript('Grow',{amount: amount});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border","color"],{name:"Add color border",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:3},{name:"r",type:"number",defaultValue:255},{name:"g",type:"number",defaultValue:0},{name:"b",type:"number",defaultValue:0}]}),c='\nlet text = "Hello world!"\nlet width = ctx.measureText(text).width;\n',u(["text"],{name:"Measure text",func:new Function("params",c),source:c}),c="\nctx.setLineDash([4, 2]);\nctx.beginPath();\nctx.lineDashOffset = 0;\nctx.moveTo(100, 100);\nctx.lineTo(300, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw dashed line",func:new Function("params",c),source:c}),c="\napp.addLayerWithName('My layer name');\n",u(["app","layer"],{name:"Add layer",func:new Function("params",c),source:c}),c="\napp.duplicateLayer('sourceLayerName', 'newLayerName');\n",u(["app","layer"],{name:"Duplicate layer",func:new Function("params",c),source:c}),c="\napp.setCurrentLayer('layer01');\n",u(["app","layer"],{name:"Set current layer",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Grow',{amount: 10});\n",u(["app"],{name:"Execute sample script",func:new Function("params",c),source:c}),c="\napp.executeSavedScript('MyScriptName',{myParam: 10});\n",u(["app"],{name:"Execute saved script",func:new Function("params",c),source:c}),c="\napp.globalVariables.speedX = 100;\n",u(["app"],{name:"Set global variable",func:new Function("params",c),source:c}),c="\nvar speedX = app.globalVariables.speedX;\nalert(speedX);\n",u(["app"],{name:"Get global variable",func:new Function("params",c),source:c}),c="\napp.resetContext();\n",u(["app","context"],{name:"Reset context",func:new Function("params",c),source:c}),c="\napp.combineLayers('baseLayerName','maskLayerName');\n",u(["app","mask","layer"],{name:"Apply mask to layer",func:new Function("params",c),source:c}),c='\n// Options: "top", "hanging", "middle", "alphabetic" (default), "ideographic", "bottom"\nctx.textBaseline = "bottom";\n',u(["text"],{name:"Set text baseline",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw ellipse",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.fill();\n",u(["basic drawing"],{name:"Fill ellipse",func:new Function("params",c),source:c}),c="\nctx.scale(4, 4);\n",u(["context"],{name:"Set scale",func:new Function("params",c),source:c}),c="\nlet start = { x: 100, y: 100 };\nlet cp1 = { x: 100, y: 200 };\nlet cp2 = { x: 200, y: 100 };\nlet end = { x: 200, y: 200 };\n\nctx.beginPath();\nctx.moveTo(start.x, start.y);\nctx.bezierCurveTo(cp1.x, cp1.y, cp2.x, cp2.y, end.x, end.y);\nctx.stroke();\n",u(["basic drawing"],{name:"Bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet cpx = 200;\nlet cpy = 100;\nlet targetX = 200;\nlet targetY = 200;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.quadraticCurveTo(cpx, cpy, targetX, targetY);\nctx.stroke();\n",u(["basic drawing"],{name:"Quadratic bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet x1 = 200;\nlet y1 = 200;\nlet x2 = 100;\nlet y2 = 200;\nlet radius = 20;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.arcTo(x1, y1, x2, y2, radius);\nctx.lineTo(x2, y2);\nctx.stroke();\n",u(["basic drawing"],{name:"Arc to",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\nimg.onload = function() {\n  var pattern = ctx.createPattern(img, 'repeat');\n  ctx.fillStyle = pattern;\n  ctx.fillRect(0, 0, 300, 300);\n};\n",u(["basic drawing","image"],{name:"Create pattern",func:new Function("params",c),source:c}),c="\nconst patternCanvas = document.createElement('canvas');\nconst patternContext = patternCanvas.getContext('2d');\n\npatternCanvas.width = 50;\npatternCanvas.height = 50;\n\npatternContext.fillStyle = '#fec';\npatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\npatternContext.arc(0, 0, 50, 0, .5 * Math.PI);\npatternContext.stroke();\n\nconst pattern = ctx.createPattern(patternCanvas, 'repeat');\nctx.fillStyle = pattern;\nctx.fillRect(0, 0, canvas.width, canvas.height);\n",u(["basic drawing"],{name:"Create pattern from canvas",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? "Text";\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\n\nctx.shadowBlur = params.shadowBlur ?? 5;\nctx.shadowColor = params.shadowColor ?? "#000000";\nctx.shadowOffsetX = params.shadowOffsetX ?? 5;\nctx.shadowOffsetY = params.shadowOffsetY ?? 5;\nctx.fillStyle = params.fillStyle ?? "#FF0000";\nctx.font = params.font ?? "64px Arial";\n\nctx.fillText(text, x, y);\n',u(["filters","text"],{name:"Draw shadow text",func:new Function("params",c),source:c,params:[{name:"text",type:"string",defaultValue:"Text"},{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"font",type:"string",defaultValue:"64px Arial"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"shadowBlur",type:"number",defaultValue:5},{name:"shadowColor",type:"colorHex",defaultValue:"#000000"},{name:"shadowOffsetX",type:"number",defaultValue:5},{name:"shadowOffsetY",type:"number",defaultValue:5}]}),c='\nlet text = params.text ?? "Hello World";\nlet font = params.font ?? "64px Arial";\nlet x = params.x ?? 100;\nlet y = params.y ?? 200;\nlet height = params.height ?? 6;\n\nctx.fillStyle = params.fillStyle ?? "#FF0000";\n\napp.executeSampleScript(\'Draw text\', {text, font, x, y});\napp.executeSampleScript(\'3D effect 3\', {numSteps: height});\n',u(["3d","text"],{name:"Draw 3D text",func:new Function("params",c),source:c,params:[{name:"text",type:"string",defaultValue:"Hello World"},{name:"font",type:"string",defaultValue:"64px Arial"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:6}]}),c='\nlet text = params.text ?? "Neon";\nlet textColor = params.textColor ?? "#FFFFFF";\nlet glowColor = params.glowColor ??  "#FFFF00";\nlet nearColor = params.textColor ?? "#FFFFFF"\nlet blur = params.blur ?? 5;\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\n\nctx.font = params.font ?? "64px Arial";\n\nctx.fillStyle = textColor;\n\nctx.shadowOffsetX = 0;\nctx.shadowOffsetY = 0;\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *4;\nctx.fillText(text, x, y);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *3;\nctx.fillText(text, x, y);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur * 2;\nctx.fillText(text, x, y);\n\nctx.shadowColor = nearColor;\nctx.shadowBlur = blur;\nctx.fillText(text, x, y);\nctx.fillText(text, x, y);\n',u(["filters","glow","text"],{name:"Glow text",func:new Function("params",c),source:c,params:[{name:"text",type:"string",defaultValue:"Text"},{name:"textColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"glowColor",type:"colorHex",defaultValue:"#FFFF00"},{name:"blur",type:"number",defaultValue:5},{name:"font",type:"string",defaultValue:"64px Arial"},{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200}]}),c='\nctx.fillStyle = "#FFFFFF";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen white",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#000000";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen black",func:new Function("params",c),source:c}),c="\nctx.fillRect(0, 0, 600, 400);\n",u(["basic drawing"],{name:"Fill with current fillStyle",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.addEventListener('load', function() {\n  ctx.drawImage(img, 100, 100);\n}, false);\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\n",u(["basic drawing","image"],{name:"Draw image from URL",func:new Function("params",c),source:c}),c='\nlet imageName = params.imageName ?? "";\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\n\nlet image = app.getImageByName(imageName);\n\nif (image != null) {\n  var img = new Image();\n  img.src = image.url;\n  ctx.drawImage(img, x, y);\n}\n',u(["basic drawing","image"],{name:"Draw image",func:new Function("params",c),source:c,params:[{name:"imageName",type:"string",defaultValue:""},{name:"x",type:"number",defaultValue:0},{name:"y",type:"number",defaultValue:0}]}),c='\nlet imageName = params.imageName ?? "";\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\nlet width = params.width ?? 100;\nlet height = params.height ?? 100;\n\nlet image = app.getImageByName(imageName);\n\nif (image != null) {\n  var img = new Image();\n  img.src = image.url;\n  ctx.drawImage(img, x, y, width, height);\n}\n',u(["basic drawing","image"],{name:"Draw image scaled",func:new Function("params",c),source:c,params:[{name:"imageName",type:"string",defaultValue:""},{name:"x",type:"number",defaultValue:0},{name:"y",type:"number",defaultValue:0},{name:"width",type:"number",defaultValue:100},{name:"height",type:"number",defaultValue:100}]}),c="\napp.log('message');\n",u(["other"],{name:"Log",func:new Function("params",c),source:c}),c="\nlet random = $util.random256();\napp.log('random256 = ' + random);\n",u(["other","util","math"],{name:"Random 256",func:new Function("params",c),source:c}),c="\nlet random = Math.random();\napp.log('random = ' + random);\n",u(["math"],{name:"Random number",func:new Function("params",c),source:c}),c="\nparams.numSteps = params.numSteps || 10;\nlet dxOffset = params.dxStep != null ? params.dxStep : 0;\nlet dyOffset = params.dyStep != null ? params.dyStep : -1;\n\nlet canvasClone = $util.cloneCanvas(app.getCurrentLayer().canvas);\n\ndx = 0;\ndy = 0;\nfor (let i=0; i<params.numSteps; i++) {\n  dx += dxOffset;\n  dy += dyOffset;\n  ctx.drawImage(canvasClone, dx, dy);\n}\n",u(["filters"],{name:"3D effect",func:new Function("params",c),source:c,params:[{name:"numSteps",type:"number",defaultValue:10},{name:"dxStep",type:"number",defaultValue:0},{name:"dyStep",type:"number",defaultValue:-1}]}),c="\nlet numSteps = params.numSteps ?? 10;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\n",u(["filters"],{name:"3D effect 2",func:new Function("params",c),source:c}),c="\nlet numSteps = params.numSteps ?? 6;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\napp.executeSampleScript('Add border', {amount: 2, lightOffset: -100});\n\napp.duplicateLayer(originalLayerName, '_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\napp.executeSampleScript('Add border', {amount: 1, lightOffset: -120});\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\napp.deleteLayerByName('_temp_layer_02');\n",u(["filters"],{name:"3D effect 3",func:new Function("params",c),source:c}),c='\nlet faceRadius = params.faceRadius ?? 100;\nlet eyeSpacing = params.eyeSpacing ?? 40;\nlet eyeInnerRadius = params.eyeInnerRadius ?? 8;\nlet eyeOuterRadius = params.eyeOuterRadius ?? 25;\nlet eyeBrowOffset = params.eyeBrowOffset ?? 10;\nlet eyeOffsetX = params.eyeOffsetX ?? 0;\nlet eyeBallOffsetX = params.eyeBallOffsetX ?? 0;\nlet eyeBallOffsetY = params.eyeBallOffsetY ?? 0;\nlet eyeBallDirectionOffset = params.eyeBallDirectionOffset ?? 0;\nlet mouthRadius = params.mouthRadius ?? 20;\nlet faceColor = params.faceColor ?? "#FF6633";\nlet mouthColor  = params.mouthColor ?? "#660000";\nlet eyeBrowWidth = params.eyeBrowWidth ?? 5;\nlet eyeBrowAngle = params.eyeBrowAngle ?? 0.5;\n\n//face\nctx.beginPath();\nctx.fillStyle = faceColor;\nctx.arc(200, 150, faceRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//mouth\nctx.beginPath();\nctx.fillStyle = mouthColor;\nctx.arc(200+eyeOffsetX, 210, mouthRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//first eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX+eyeBallOffsetX+eyeBallDirectionOffset, 120+eyeBallOffsetY, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//second eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX+eyeBallOffsetX-eyeBallDirectionOffset, 120+eyeBallOffsetY, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\nctx.lineWidth = eyeBrowWidth;\n\n//eyebrow 1\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 12/8*Math.PI - eyeBrowAngle, 12/8*Math.PI + eyeBrowAngle);\nctx.stroke();\n\n//eyebrow 2\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 12/8*Math.PI - eyeBrowAngle, 12/8*Math.PI + eyeBrowAngle);\nctx.stroke();\n',u(["other"],{name:"Draw face",func:new Function("params",c),source:c,params:[{name:"faceRadius",type:"number",defaultValue:100},{name:"faceColor",type:"colorHex",defaultValue:"#FF6633"},{name:"mouthRadius",type:"number",defaultValue:20},{name:"mouthColor",type:"colorHex",defaultValue:"#660000"},{name:"eyeInnerRadius",type:"number",defaultValue:8},{name:"eyeOuterRadius",type:"number",defaultValue:25},{name:"eyeSpacing",type:"number",defaultValue:40},{name:"eyeBrowOffset",type:"number",defaultValue:10},{name:"eyeOffsetX",type:"number",defaultValue:0},{name:"eyeBallOffsetX",type:"number",defaultValue:0},{name:"eyeBallOffsetY",type:"number",defaultValue:0},{name:"eyeBrowWidth",type:"number",defaultValue:5},{name:"eyeBrowAngle",type:"number",defaultValue:.5},{name:"eyeBallDirectionOffset",type:"number",defaultValue:0}]}),c="\nlet font = params.font ?? \"92px Comfortaa\";\nlet text = params.text ?? \"My Logo\";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\nlet gradientStartY = params.gradientStartY ?? 25;\nlet gradientEndY = params.gradientEndY ?? 225;\nlet gradientColor1 = params.gradientColor1 ?? \"#FFFFFF\";\nlet gradientColor2 = params.gradientColor2 ?? \"#FF0000\";\nlet gradientColor3 = params.gradientColor3 ?? \"#000000\";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, gradientColor1);\ngrd.addColorStop(0.5, gradientColor2);\ngrd.addColorStop(1, gradientColor3);\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:5});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:8});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 01",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"92px Comfortaa"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150},{name:"gradientStartY",type:"number",defaultValue:25},{name:"gradientEndY",type:"number",defaultValue:225},{name:"gradientColor1",type:"colorHex",defaultValue:"#FFFFFF"},{name:"gradientColor2",type:"colorHex",defaultValue:"#FF0000"},{name:"gradientColor3",type:"colorHex",defaultValue:"#000000"}]}),c="\nlet font = params.font ?? \"48px Comfortaa\";\nlet text = params.text ?? \"My Logo\";\nlet borderColor = params.borderColor ?? \"#3333AA\";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\nlet shadowColor = params.shadowColor ?? \"#222288\";\nlet color2 = $util.hexToRgb(shadowColor);\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = \"#FFFFFF\";\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillStyle = borderColor;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.duplicateLayer('_temp_layer_02', '_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\napp.executeSampleScript('3D effect', {canvasIndex: 3, dyStep: 1, numSteps: 5});\napp.executeSampleScript('Set image color', color2);\n\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.duplicateLayer('_temp_layer_04', '_temp_layer_05');\napp.setCurrentLayer('_temp_layer_05');\napp.executeSampleScript('Set image color', {r: 255, g: 255, b: 255});\napp.executeSampleScript('Grow', {amount:3});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_05').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_05');\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 02",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"48px Comfortaa"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150},{name:"borderColor",type:"colorHex",defaultValue:"#3333AA"},{name:"shadowColor",type:"colorHex",defaultValue:"#222288"}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"72px Comfortaa\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 2;\nlet borderSize = params.borderSize ?? 4;\nlet lightOffset = params.lightOffset ?? 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = fillStyle;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\napp.executeSampleScript('Add double border', {amount:borderSize, lightOffset: lightOffset});\n\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 03",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"72px Comfortaa"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:2},{name:"borderSize",type:"number",defaultValue:4},{name:"lightOffset",type:"number",defaultValue:150},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"92px Arial\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 4;\nlet border1 = params.border1 ?? 3;\nlet border2 = params.border2 ?? 5;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1 + border2});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 04",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"92px Arial"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:4},{name:"border1",type:"number",defaultValue:3},{name:"border2",type:"number",defaultValue:5},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"92px Arial\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 4;\nlet border1 = params.border1 ?? 3;\nlet border2 = params.border2 ?? 5;\nlet shadowBlur = params.shadowBlur ?? 10;\nlet shadowColor = params.shadowColor ?? \"#000000\";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1 + border2});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = shadowBlur;\nctx.shadowColor = shadowColor;\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 05",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"92px Arial"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:4},{name:"border1",type:"number",defaultValue:3},{name:"border2",type:"number",defaultValue:5},{name:"shadowBlur",type:"number",defaultValue:10},{name:"shadowColor",type:"colorHex",defaultValue:"#000000"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"64px Comfortaa\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet gradientColor1 = params.gradientColor1 ?? \"#FF0000\";\nlet gradientColor2 = params.gradientColor2 ?? \"#FFFF00\";\nlet gradientStartY = params.gradientStartY ?? 100;\nlet gradientEndY = params.gradientEndY ?? 175;\nlet grow = params.grow ?? 2;\nlet borderSize = params.borderSize ?? 3;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, gradientColor1);\ngrd.addColorStop(1, gradientColor2);\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + borderSize});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 06",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"64px Comfortaa"},{name:"gradientColor1",type:"colorHex",defaultValue:"#FF0000"},{name:"gradientColor2",type:"colorHex",defaultValue:"#FFFF00"},{name:"gradientStartY",type:"number",defaultValue:100},{name:"gradientEndY",type:"number",defaultValue:175},{name:"grow",type:"number",defaultValue:2},{name:"borderSize",type:"number",defaultValue:3},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"60px Comfortaa\";\nlet fillStyle = params.fillStyle ?? \"#FFC800\";\nlet fillStyleShadow = params.fillStyleShadow ?? \"#C86400\";\nlet grow = params.grow ?? 2;\nlet height = params.height ?? 4;\nlet borderSize = params.borderSize ?? 2;\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.fillStyle = fillStyleShadow;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\napp.executeSampleScript('3D effect', {canvasIndex:2, numSteps:height, dxStep:1, dyStep:0});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.executeSampleScript('Add color border',{amount:borderSize, r:0, g:0, b:0});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 07",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"60px Comfortaa"},{name:"fillStyle",type:"colorHex",defaultValue:"#FFC800"},{name:"fillStyleShadow",type:"colorHex",defaultValue:"#C86400"},{name:"grow",type:"number",defaultValue:2},{name:"height",type:"number",defaultValue:4},{name:"borderSize",type:"number",defaultValue:2},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"60px Comfortaa\";\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet shadowColor = params.shadowColor ?? \"#000000\";\nlet grow = params.grow ?? 2;\nlet height = params.height ?? 4;\nlet x = params.x ??  100;\nlet y = params.y ??  150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\napp.executeSampleScript('3D effect 3', {numSteps: height});\n\napp.setCurrentLayer(originalLayerName);\nctx.shadowBlur = 5;\nctx.shadowColor = shadowColor;\nctx.shadowOffsetX = 2;\nctx.shadowOffsetY = 2;\nctx.drawImage(app.getLayerByName('_temp_layer_001').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_001');\n",u(["logos"],{name:"Logo 08",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"60px Comfortaa"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"shadowColor",type:"colorHex",defaultValue:"#000000"},{name:"grow",type:"number",defaultValue:2},{name:"height",type:"number",defaultValue:4},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ?? \"60px Comfortaa\";\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 3;\nlet borderSize = params.borderSize ?? 2;\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\napp.executeSampleScript('Add color border',{amount:borderSize, r:0, g:0, b:0});\n\nctx.shadowBlur = 5;\nctx.shadowColor = \"#000000\";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\n\nctx.drawImage(app.getLayerByName('_temp_layer_001').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_001');\n",u(["logos"],{name:"Logo 09",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"60px Comfortaa"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:3},{name:"borderSize",type:"number",defaultValue:2},{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200}]}),c="\nlet text = params.text ?? \"Hello World\";\nlet font = params.font ?? \"60px Arial\";\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 2;\nlet borderSize = params.borderSize ?? 2;\nlet x = params.x ?? 100;\nlet y = params.y ?? 100;\nlet verticalSkewing = params.verticalSkewing ?? 0.5;\nlet horizontalSkewing = params.horizontalSkewing ?? 0;\nlet height = params.height ?? 20;\nlet dxStep = params.dxStep ?? -0.5;\nlet dyStep = params.dyStep ?? 0.5;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.save();\nctx.setTransform(1,verticalSkewing,horizontalSkewing,1,0,0);\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\nctx.restore();\n\napp.executeSampleScript('Grow',{amount:grow});\napp.executeSampleScript('Add color border',{amount:borderSize, r:0, g:0, b:0});\napp.executeSampleScript('3D effect',{numSteps:height, dxStep:dxStep, dyStep:dyStep});\n\n\napp.setCurrentLayer(originalLayerName);\n\nctx.drawImage(app.getLayerByName('_temp_layer_001').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_001');\n",u(["logos"],{name:"Logo 10",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Hello World"},{name:"font",defaultValue:"60px Arial"},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:2},{name:"borderSize",type:"number",defaultValue:2},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:100},{name:"verticalSkewing",type:"number",defaultValue:.5},{name:"horizontalSkewing",type:"number",defaultValue:0},{name:"height",type:"number",defaultValue:20},{name:"dxStep",type:"number",defaultValue:-.5},{name:"dyStep",type:"number",defaultValue:.5}]}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet buttonColor = params.buttonColor ?? "#000066";\nlet font = params.font ?? "48px Arial";\n\nctx.strokeStyle = buttonColor;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"48px Arial"},{name:"textColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"buttonColor",type:"colorHex",defaultValue:"#000066"},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:100},{name:"width",type:"number",defaultValue:200}]}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet buttonColor1 = params.buttonColor1 ?? "#FF0000";\nlet buttonColor2 = params.buttonColor2 ?? "#FFAA00";\nlet font = params.font ?? "48px Arial";\n\nvar grd = ctx.createLinearGradient(0, 200, 600, 200);\ngrd.addColorStop(0, buttonColor1);\ngrd.addColorStop(1, buttonColor2);\n\nctx.strokeStyle = grd;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"48px Arial"},{name:"textColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"buttonColor1",type:"colorHex",defaultValue:"#FF0000"},{name:"buttonColor2",type:"colorHex",defaultValue:"#FFAA00"},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:100}]}),c="\nlet x = params.x ?? 100;\nlet y = params.x ?? 100;\nlet w = params.x ?? 150;\nlet h = params.x ?? 50;\nlet r = params.x ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.stroke();\n",u(["basic drawing"],{name:"Draw round rect",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 100;\nlet y = params.y ?? 100;\nlet w = params.w ?? 150;\nlet h = params.h ?? 50;\nlet r = params.r ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.fill();\n",u(["basic drawing"],{name:"Fill round rect",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = params.borderRadius ?? 10;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet buttonColor = params.buttonColor ?? "#3333CC";\nlet font = params.font ?? "18px Arial";\n\nctx.fillStyle = buttonColor;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button 2",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"18px Arial"},{name:"textColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"buttonColor",type:"colorHex",defaultValue:"#3333CC"},{name:"borderRadius",type:"number",defaultValue:10},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c="\nlet text = params.text ?? 'Button';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = params.borderRadius ?? 10;\nlet borderSize = params.borderSize ?? 4;\nlet textColor = params.textColor ?? \"#FFFFFF\";\nlet buttonColor = params.buttonColor ?? \"#33AACC\";\nlet borderColor = params.borderColor ?? \"#FFFFFF\";\nlet font = params.font ?? \"28px Arial\";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\n\nctx.fillStyle = buttonColor;\n\napp.executeSampleScript('Fill round rect', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\n\nctx.fillStyle = textColor;\nctx.textAlign = \"center\";\nctx.textBaseline = 'middle';\nctx.font = font;\nctx.fillText(text, buttonX, buttonY);\n\napp.executeSampleScript('Grow', {amount: 1});\napp.executeSampleScript('Add shadow', {shadowBlur: 0, shadowColor: \"#00000099\", shadowOffsetX: 2, shadowOffsetY: 2});\n\napp.setCurrentLayer('_temp_layer_01');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_02');\n\nlet borderParams = $util.hexToRgb(borderColor);\nborderParams.amount = borderSize;\napp.executeSampleScript('Add color border', borderParams);\n\napp.executeSampleScript('Add shadow', {shadowBlur: 0, shadowOffsetX: 5, shadowOffsetY: 5});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\n",u(["buttons"],{name:"Round button 3",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"28px Arial"},{name:"textColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"buttonColor",type:"colorHex",defaultValue:"#33AACC"},{name:"borderRadius",type:"number",defaultValue:10},{name:"borderSize",type:"number",defaultValue:4},{name:"borderColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = params.borderRadius ?? 10;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet buttonColor1 = params.buttonColor1 ?? "#FF0000";\nlet buttonColor2 = params.buttonColor2 ?? "#FFAA00";\nlet font = params.font ?? "18px Arial";\n\nlet gradientStartX = buttonX - buttonWidth/2;\nlet gradientEndX = buttonX + buttonWidth/2;\n\nvar grd = ctx.createLinearGradient(gradientStartX, buttonY, gradientEndX, buttonY);\ngrd.addColorStop(0, buttonColor1);\ngrd.addColorStop(1, buttonColor2);\n\nctx.fillStyle = grd;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button 2",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"18px Arial"},{name:"textColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"buttonColor1",type:"colorHex",defaultValue:"#FF0000"},{name:"buttonColor2",type:"colorHex",defaultValue:"#FFAA00"},{name:"borderRadius",type:"number",defaultValue:10},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c="\napp.executeSampleScript('Gradient round button 2', params);\napp.executeSampleScript('3D effect 3');\n",u(["buttons"],{name:"3D gradient round button",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"18px Arial"},{name:"textColor",type:"colorHex",defaultValue:"#FFFFFF"},{name:"buttonColor1",type:"colorHex",defaultValue:"#FF0000"},{name:"buttonColor2",type:"colorHex",defaultValue:"#FFAA00"},{name:"borderRadius",type:"number",defaultValue:10},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += Math.random()*amount - amount/2; // R value\n  imageData.data[i + 1] += Math.random()*amount - amount/2; // G value\n  imageData.data[i + 2] += Math.random()*amount - amount/2; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters"],{name:"Noise",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:50}]}),c='\nlet color = "#0066aa";\nlet borderColor = "#666666";\nlet borderSize = 1;\nlet lightSize = 2;\nlet x = 200;\nlet y = 200;\nlet w = 20;\nlet h = 20;\n\nlet colorRgb = $util.hexToRgb(color);\nlet lighterColorRgb = $util.rgbAdd(colorRgb, 30);\nlet lightColor = $util.rgbToHex(lighterColorRgb);\n\nctx.fillStyle=borderColor;\nctx.fillRect(x, y, w, h);\nctx.fillStyle=lightColor;\nctx.fillRect(x + borderSize, y + borderSize, w - 2 * borderSize, h - 2 * borderSize);\nctx.fillStyle=color;\nctx.fillRect(x + borderSize + lightSize, y + borderSize + lightSize, w - 2 * borderSize - 2 * lightSize, h - 2 * borderSize - 2 * lightSize);\n',u(["shapes"],{name:"Bordered square",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 200;\nlet startAngle = params.startAngle ?? 0;\nlet endAngle = params.endAngle ?? 2 * Math.PI / 24;\n\nctx.beginPath();\nctx.arc(x, y, size, startAngle, endAngle);\nctx.lineTo(x,y);\nctx.fill();\n",u(["other"],{name:"Fill ray",func:new Function("params",c),source:c}),c='\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 400;\nlet numRays = params.numRays ?? 48;\nlet color1 = params.color1 ?? "#ff6600";\nlet color2 = params.color2 ?? "#ffcc00";\n\nlet offset = 2 * Math.PI / numRays;\n\nlet startAngle = 0;\nlet endAngle = startAngle + offset;\n\nctx.save();\n\nctx.beginPath();\nctx.globalAlpha = 0;\nctx.arc(x, y, size, 0, 2 * Math.PI);\nctx.stroke();\nctx.globalAlpha = 1;\nctx.clip();\n\nctx.fillStyle = color1;\nctx.fillRect(0,0,600,400);\nctx.fillStyle = color2;\n\nfor (let i=0; i<numRays; i += 2) {\n  app.executeSampleScript(\'Fill ray\', {x:x, y:y, size:size, startAngle:startAngle, endAngle:endAngle});\n  startAngle += 2 * offset;\n  endAngle += 2 * offset;\n}\n\nctx.restore();\n',u(["other","backgrounds"],{name:"Sunburst effect",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"size",type:"number",defaultValue:400},{name:"numRays",type:"number",defaultValue:48},{name:"color1",type:"colorHex",defaultValue:"#ff6600"},{name:"color2",type:"colorHex",defaultValue:"#ffcc00"}]}),c='\nlet text = "Hello World";\nctx.font = "64px Arial";\nlet x = 110;\nlet y = 200;\nlet colors = ["#ff0000","#00ff00","#0000ff"];\n\nfor (let i=0; i<text.length; i++) {\n  let letter = text.substring(i, i+1);\n  ctx.fillStyle = colors[i % colors.length];\n  ctx.fillText(letter, x, y);\n  x += ctx.measureText(letter).width;\n}\n',u(["text","color"],{name:"Letters with different colors",func:new Function("params",c),source:c}),c="\nctx.translate(100, 50);\n",u(["context"],{name:"Translate",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\nconst imageData = ctx.getImageData(0, 0, width, height);\n\nlet newImageData = $util.convolute(imageData, [1,0,0, 0,0,0, 0,0,-1], false);\n\nctx.putImageData(newImageData, 0, 0);\n",u(["filters"],{name:"Convolute",func:new Function("params",c),source:c}),c="\nlet defaultWeights = [1,0,0, 0,0,0, 0,0,-1];\nlet weights = params.weights ?? defaultWeights;\nlet opaque = false;\n$util.convoluteLayer(ctx, weights, opaque);\n",u(["filters"],{name:"Convolute layer",func:new Function("params",c),source:c}),c='\nlet souceLayerName = params.souceLayerName ?? "Layer 01";\nlet targetLayerName = params.targetLayerName ?? "Layer 02";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\napp.setCurrentLayer(souceLayerName);\nlet imageData = ctx.getImageData(0, 0, width, height);\n\napp.setCurrentLayer(targetLayerName);\nctx.putImageData(imageData, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\n',u(["layer","image"],{name:"Clone layer image data",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.setTransform(-1, 0, 0, 1, width, 0);\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["layer","image"],{name:"Flip horizontally",func:new Function("params",c),source:c}),c="\nlet height = ctx.canvas.height;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.setTransform(1, 0, 0, -1, 0, height);\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["layer","image"],{name:"Flip vertically",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 300;\nlet y = params.y ?? 250;\n\nlet color = {\n  r: params.red ?? 255,\n  g: params.green ?? 0,\n  b: params.blue ?? 0,\n  a: params.alpha ?? 255\n};\n\n$util.floodFill(ctx, color, x, y);\n",u(["color"],{name:"Bucket fill",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:250},{name:"red",type:"number",defaultValue:255},{name:"green",type:"number",defaultValue:0},{name:"blue",type:"number",defaultValue:0},{name:"alpha",type:"number",defaultValue:255}]}),c="\nlet weights = [0,-1,0, -1,5,-1, 0,-1,0];\napp.executeSampleScript('Convolute layer',{weights: weights});\n",u(["filters"],{name:"Sharpen",func:new Function("params",c),source:c}),c="\nlet weights = [-2,-1,0, -1,1,1, 0,1,2];\napp.executeSampleScript('Convolute layer',{weights: weights});\n",u(["filters"],{name:"Emboss",func:new Function("params",c),source:c}),c="\nlet amount = params.amount ?? 5;\nlet colorDiff = params.colorDiff ?? 3;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nlet weights1 = [1,0,0, 0,0,0, 0,0,-1];\napp.executeSampleScript('Convolute layer', {weights: weights1});\napp.executeSampleScript('Blur layer', {amount: amount});\nconst imageData1 = ctx.getImageData(0, 0, width, height);\n\napp.duplicateLayer(originalLayerName, '_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nlet weights2 = [-1,0,0, 0,0,0, 0,0,1];\napp.executeSampleScript('Convolute layer', {weights: weights2});\napp.executeSampleScript('Blur layer', {amount: amount});\nconst imageData2 = ctx.getImageData(0, 0, width, height);\n\napp.setCurrentLayer(originalLayerName);\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] -= (colorDiff * imageData1.data[i + 3]); // R value\n  imageData.data[i + 1] -= (colorDiff * imageData1.data[i + 3]); // G value\n  imageData.data[i + 2] -= (colorDiff * imageData1.data[i + 3]); // B value\n\n  imageData.data[i + 0] += (colorDiff * imageData2.data[i + 3]); // R value\n  imageData.data[i + 1] += (colorDiff * imageData2.data[i + 3]); // G value\n  imageData.data[i + 2] += (colorDiff * imageData2.data[i + 3]); // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n\napp.deleteLayerByName('_temp_layer_01');\napp.deleteLayerByName('_temp_layer_02');\n",u(["filters"],{name:"Emboss 2",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:5},{name:"colorDiff",type:"number",defaultValue:3}]}),c="\nlet angle = params.angle ?? 120;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet tempCanvas = document.createElement('canvas');\ntempCanvas.width = width;\ntempCanvas.height = height;\n\nlet tempCtx = tempCanvas.getContext('2d');\ntempCtx.filter = 'hue-rotate(' + angle + 'deg)';\ntempCtx.drawImage(ctx.canvas, 0, 0);\n\nctx.putImageData(tempCtx.getImageData(0, 0, width, height), 0, 0);\n",u(["filters","color"],{name:"Hue rotate layer",func:new Function("params",c),source:c,params:[{name:"angle",type:"number",defaultValue:120}]}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet tempCanvas = document.createElement('canvas');\ntempCanvas.width = width;\ntempCanvas.height = height;\n\nlet tempCtx = tempCanvas.getContext('2d');\n\nfor (let i=10; i>0; i-=0.3) {\n  let percentage = (100 - (i * 3)) / 100;\n  tempCtx.drawImage(ctx.canvas, i*10, i*6, width * percentage, height * percentage);\n}\n\nctx.putImageData(tempCtx.getImageData(0, 0, width, height), 0, 0);\n",u(["3d","text"],{name:"3D effect 4",func:new Function("params",c),source:c,params:[]}),c="\nlet text = params.text ?? \"Hello World\";\nlet font = params.font ?? \"96px Arial\";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 3;\n\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\n\napp.executeSampleScript('Grow',{amount: grow});\napp.executeSampleScript('Emboss 2',{amount: 3, colorDiff: 1});\napp.executeSampleScript('3D effect 4',{});\napp.executeSampleScript('Darker',{amount: 80});\n\nctx.fillText(text, x, y);\n",u(["3d","text"],{name:"Draw 3D text 2",func:new Function("params",c),source:c,params:[{name:"text",type:"string",defaultValue:"Hello World"},{name:"font",type:"string",defaultValue:"96px Arial"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150},{name:"fillStyle",type:"colorHex",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:3}]}),c="\nlet dx = params.dx ?? 10;\nlet dy = params.dy ?? 10;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet tempCanvas = document.createElement('canvas');\ntempCanvas.width = width;\ntempCanvas.height = height;\n\nlet tempCtx = tempCanvas.getContext('2d');\ntempCtx.translate(dx, dy);\ntempCtx.drawImage(ctx.canvas, dx, dy);\n\nctx.putImageData(tempCtx.getImageData(0, 0, width, height), 0, 0);\n",u(["layer"],{name:"Move layer",func:new Function("params",c),source:c,params:[{name:"dx",type:"number",defaultValue:10},{name:"dy",type:"number",defaultValue:10}]}),c='\nlet verticalSkewing = params.verticalSkewing ?? 0.5;\nlet horizontalSkewing = params.horizontalSkewing ?? 0;\nlet x = params.x ?? 100;\nlet y = params.y ?? 100;\nlet text = params.text ?? "Hello World";\nlet font = params.font ?? "64px Arial";\nlet fillStyle = params.color ?? "#FF0000";\n\n\nctx.save();\nctx.setTransform(1,verticalSkewing,horizontalSkewing,1,0,0);\nctx.font = font;\nctx.fillStyle = fillStyle;\nctx.fillText(text, x, y);\nctx.restore();\n',u(["text"],{name:"Skewed text",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:100},{name:"text",type:"string",defaultValue:"Hello World"},{name:"font",type:"string",defaultValue:"64px Arial"},{name:"color",type:"colorHex",defaultValue:"#FF0000"},{name:"verticalSkewing",type:"number",defaultValue:.5},{name:"horizontalSkewing",type:"number",defaultValue:0}]}),c='\nlet centerX = params.centerX ?? 300;\nlet centerY = params.centerY ?? 200;\nlet color1 = params.color1 ?? "#FF0000";\nlet color2 = params.color2 ?? "#FF8800";\nlet radius = params.radius ?? 15;\nlet numCircles = params.numCircles ?? 25;\n\nfor (let i=numCircles; i>0; i--) {\n  let even = i % 2 == 0;\n  ctx.fillStyle = even ? color1 : color2;\n  ctx.beginPath();\n  ctx.arc(centerX, centerY, radius*i - radius/2, 0, 2 * Math.PI);\n  ctx.fill();\n}\n',u(["other","backgrounds"],{name:"Concentric circles",func:new Function("params",c),source:c,params:[{name:"centerX",type:"number",defaultValue:300},{name:"centerY",type:"number",defaultValue:200},{name:"color1",type:"colorHex",defaultValue:"#FF0000"},{name:"color2",type:"colorHex",defaultValue:"#FF8800"},{name:"radius",type:"number",defaultValue:15},{name:"numCircles",type:"number",defaultValue:25}]}),c='\nlet width = params.width ?? 20;\nlet height = params.height ?? 20;\nlet numRows = params.numRows ?? 20;\nlet numCols = params.numCols ?? 30;\nlet color1 = params.color1 ?? "#FF0000";\nlet color2 = params.color2 ?? "#FF8800";\nlet startX = params.startX ?? 0;\nlet startY = params.startY ?? 0;\n\nlet canvasWidth = ctx.canvas.width;\nlet canvasHeight = ctx.canvas.height;\n\nfor (let row=0; row<numRows; row++) {\n  for (let col=0; col<numCols; col++) {\n    let even = (row+col) % 2 == 0;\n    let color = even ? color1 : color2;\n    ctx.fillStyle = color;\n    ctx.fillRect(col*width + startX, row*height + startY, width, height);\n  }\n}\n',u(["other","backgrounds"],{name:"Checkerboard",func:new Function("params",c),source:c,params:[{name:"startX",type:"number",defaultValue:0},{name:"startY",type:"number",defaultValue:0},{name:"width",type:"number",defaultValue:20},{name:"height",type:"number",defaultValue:20},{name:"numCols",type:"number",defaultValue:30},{name:"numRows",type:"number",defaultValue:20},{name:"color1",type:"colorHex",defaultValue:"#FF0000"},{name:"color2",type:"colorHex",defaultValue:"#FF8800"}]}),c="\nlet component = params.component ?? 'r';\nlet value = params.value ?? 256;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nlet offset = 0;\nif (component=='r') {\n  offset = 0;\n} else if (component=='g') {\n  offset = 1;\n} else if (component=='b') {\n  offset = 2;\n} else if (component=='a') {\n  offset = 3;\n}\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  imageData.data[i+offset] = value;\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["color","filters"],{name:"Set color component",func:new Function("params",c),source:c,params:[{name:"component",type:"string",defaultValue:"r"},{name:"value",type:"number",defaultValue:256}]});a("a15b"),a("d81d"),a("25f0"),a("466d"),a("5319");var m,h,f,v,g,y={pasteClipboardImage:function(e){if(e.clipboardData){var t=e.clipboardData.items;if(t){for(var a=!1,n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var r=t[n].getAsFile(),i=window.URL||window.webkitURL,o=i.createObjectURL(r);if(null!=o){var l=new Image;l.onload=function(){window.ctx.drawImage(l,0,0)},l.src=o}a=!0}a&&e.preventDefault()}}},convoluteLayer:function(e,t,a){var n=e.canvas.width,r=e.canvas.height,i=e.getImageData(0,0,n,r),o=this.convolute(i,t,a);e.putImageData(o,0,0)},convolute:function(e,t,a){for(var n=Math.round(Math.sqrt(t.length)),r=Math.floor(n/2),i=e.data,o=e.width,l=e.height,s=o,c=l,u=document.createElement("canvas").getContext("2d").createImageData(s,c),p=u.data,d=a?1:0,m=0;m<c;m++)for(var h=0;h<s;h++){for(var f=m,v=h,g=4*(m*s+h),y=0,x=0,b=0,w=0,C=0;C<n;C++)for(var _=0;_<n;_++){var S=f+C-r,L=v+_-r;if(S>=0&&S<l&&L>=0&&L<o){var F=4*(S*o+L),k=t[C*n+_];y+=i[F]*k,x+=i[F+1]*k,b+=i[F+2]*k,w+=i[F+3]*k}}p[g]=y,p[g+1]=x,p[g+2]=b,p[g+3]=w+d*(255-w)}return u},rgbToHex:function(e){return"#"+[e.r,e.g,e.b].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")},hexToRgb:function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,a,n){return"#"+t+t+a+a+n+n})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)}));return{r:t[0],g:t[1],b:t[2]}},rgbAdd:function(e,t){return e.r+=t,e.g+=t,e.b+=t,e.r=this.rgbFit(e.r),e.g=this.rgbFit(e.g),e.b=this.rgbFit(e.b),e},rgbFit:function(e){return e=Math.round(e),Math.max(Math.min(e,255),0)},random256:function(){return Math.floor(256*Math.random())},cloneCanvas:function(e){var t=document.createElement("canvas");t.width=600,t.height=400;var a=t.getContext("2d");return a.drawImage(e,0,0),t},getImageDataPosition:function(e,t,a){var n=e.width,r=4*(a*n+t);return r},cropAt:function(e,t,a,n,r){var i=e.width,o=e.height,l=e.getContext("2d"),s=l.getImageData(0,0,i,o),c=n-t+1,u=r-a+1,p=document.createElement("canvas");p.width=c,p.height=u;var d=p.getContext("2d");return d.putImageData(s,-t,-a),p},crop:function(e){for(var t=e.width,a=e.height,n=e.getContext("2d"),r=n.getImageData(0,0,t,a),i=0,o=0,l=t-1,s=a-1,c=0;c<t;c++){var u=!0;i=c;for(var p=0;p<a;p++){var d=this.getImageDataPosition(e,c,p);if(r.data[d+3]>0){u=!1;break}}if(!u)break}for(var m=t-1;m>=0;m--){var h=!0;l=m;for(var f=0;f<a;f++){var v=this.getImageDataPosition(e,m,f);if(r.data[v+3]>0){h=!1;break}}if(!h)break}for(var g=0;g<a;g++){var y=!0;o=g;for(var x=0;x<t;x++){var b=this.getImageDataPosition(e,x,g);if(r.data[b+3]>0){y=!1;break}}if(!y)break}for(var w=a-1;w>=0;w--){var C=!0;s=w;for(var _=0;_<t;_++){var S=this.getImageDataPosition(e,_,w);if(r.data[S+3]>0){C=!1;break}}if(!C)break}return this.cropAt(e,i,o,l,s)},getColorAtPixel:function(e,t,a){var n=e.width,r=e.data;return{r:r[4*(n*a+t)+0],g:r[4*(n*a+t)+1],b:r[4*(n*a+t)+2],a:r[4*(n*a+t)+3]}},setColorAtPixel:function(e,t,a,n){var r=e.width,i=e.data;i[4*(r*n+a)+0]=255&t.r,i[4*(r*n+a)+1]=255&t.g,i[4*(r*n+a)+2]=255&t.b,i[4*(r*n+a)+3]=255&t.a},colorMatch:function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},floodFill:function(e,t,a,n){var r=e.canvas.width,i=e.canvas.height,o=e.getImageData(0,0,r,i);this.floodFillImageData(o,t,a,n),e.putImageData(o,0,0)},floodFillImageData:function(e,t,a,n){var r=e.width,i=e.height,o=[],l=this.getColorAtPixel(e,a,n),s={x:a,y:n};if(!this.colorMatch(l,t)){o.push({x:s.x,y:s.y});while(o.length){s=o.pop();var c=!0,u=!0,p=!1,d=!1;while(u&&s.y>=0)s.y--,u=this.colorMatch(this.getColorAtPixel(e,s.x,s.y),l);while(c&&s.y<i)this.setColorAtPixel(e,t,s.x,s.y),s.x-1>=0&&this.colorMatch(this.getColorAtPixel(e,s.x-1,s.y),l)?p||(p=!0,o.push({x:s.x-1,y:s.y})):p=!1,s.x+1<r&&this.colorMatch(this.getColorAtPixel(e,s.x+1,s.y),l)?d||(o.push({x:s.x+1,y:s.y}),d=!0):d=!1,s.y++,c=this.colorMatch(this.getColorAtPixel(e,s.x,s.y),l)}}}},x=y,b=a("21a6"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand navbar-light",staticStyle:{position:"absolute"}},[a("a",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",left:"10px",top:"13px"},attrs:{href:"#",role:"button",id:"navbarDropdownMenuLink"},on:{mousedown:function(t){return e.onMainMenuClick()}}},[a("IconMenu",{staticStyle:{"margin-top":"-3px"},attrs:{color:"#ffffff"}}),e._v(" "),a("b",[e._v("Menu")])],1),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"main-menu-children","aria-labelledby":"navbarDropdownMenuLink"}},e._l(e.menuItems,(function(t){return a("li",{key:t.id,class:t.children.length>0?"dropdown-submenu":""},[0==t.children.length?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOver("submenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"submenu-"+t.id,href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOver("submenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"submenu-"+t.id+"-children"}},e._l(t.children,(function(t){return a("li",{key:t.id,staticClass:"dropdown-submenu"},[0==t.children.length?a("a",{staticClass:"dropdown-item",attrs:{id:"subsubmenu-"+t.id,href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOverLevel2("subsubmenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"subsubmenu-"+t.id,href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOverLevel2("subsubmenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"subsubmenu-"+t.id+"-children"}},e._l(t.children,(function(t){return a("li",{key:t.id},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)}}},[e._v(e._s(t.name))])])})),0):e._e()])})),0):e._e()])})),0)])])]),e._m(1)])},C=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",left:"92px",top:"13px"},attrs:{href:"/",role:"button",target:"_blank"}},[a("b",[e._v("Home")])])}],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},S=[],L={name:"IconMenu",props:{color:{type:String,default:"#000000"}}},F=L,k=a("2877"),P=Object(k["a"])(F,_,S,!1,null,"ba0db6c4",null),A=P.exports,E={name:"MainMenu",components:{IconMenu:A},props:{},data:function(){return{menuOpened:!1,menuItems:[{id:"new-project",name:"New project...",children:[]},{id:"edit",name:"Edit",children:[{id:"paste-image-from-clipboard",name:"Paste image from clipboard (CTRL+V)",children:[]}]},{id:"image",name:"Image",children:[{id:"clear-current-layer",name:"Clear current layer",children:[]},{id:"fill-white",name:"Fill with white",children:[]},{id:"fill-black",name:"Fill with black",children:[]},{id:"fill-with-current-fill-style",name:"Fill with current fillStyle",children:[]},{id:"invert-colors",name:"Invert colors",children:[]},{id:"invert-alpha",name:"Invert alpha",children:[]},{id:"flip-horizontally",name:"Flip horizontally",children:[]},{id:"flip-vertically",name:"Flip vertically",children:[]},{id:"rotate-layer",name:"Rotate...",children:[]},{id:"move-layer",name:"Move...",children:[]}]},{id:"layer",name:"Layer",children:[{id:"add-layer",name:"Add layer",children:[]},{id:"duplicate-layer",name:"Duplicate layer",children:[]},{id:"delete-layer",name:"Delete layer",children:[]}]},{id:"draw",name:"Draw",children:[{id:"text",name:"Text",children:[{id:"draw-text",name:"Draw text...",children:[]},{id:"draw-stroke-text",name:"Draw stroke text...",children:[]},{id:"draw-shadow-text",name:"Draw shadow text...",children:[]},{id:"glow-text",name:"Glow text...",children:[]},{id:"draw-3d-text",name:"Draw 3D text...",children:[]},{id:"logo-01",name:"Logo 01...",children:[]},{id:"logo-02",name:"Logo 02...",children:[]},{id:"logo-03",name:"Logo 03...",children:[]},{id:"logo-04",name:"Logo 04...",children:[]},{id:"logo-05",name:"Logo 05...",children:[]},{id:"logo-06",name:"Logo 06...",children:[]},{id:"logo-07",name:"Logo 07...",children:[]},{id:"logo-08",name:"Logo 08...",children:[]},{id:"logo-09",name:"Logo 09...",children:[]},{id:"logo-10",name:"Logo 10...",children:[]}]},{id:"buttons",name:"Buttons",children:[{id:"round-button",name:"Round button...",children:[]},{id:"round-button-2",name:"Round button 2...",children:[]},{id:"round-button-3",name:"Round button 3...",children:[]},{id:"gradient-round-button",name:"Gradient round button...",children:[]},{id:"gradient-round-button-2",name:"Gradient round button 2...",children:[]},{id:"3d-gradient-round-button",name:"3D gradient round button...",children:[]}]},{id:"backgrounds",name:"Backgrounds",children:[{id:"sunburst-effect",name:"Sunburst effect...",children:[]},{id:"checkerboard",name:"Checkerboard...",children:[]},{id:"concentric-circles",name:"Concentric circles...",children:[]}]},{id:"draw-line",name:"Draw line...",children:[]},{id:"draw-circle",name:"Draw circle...",children:[]},{id:"fill-circle",name:"Fill circle...",children:[]},{id:"draw-rect",name:"Draw rect...",children:[]},{id:"fill-rect",name:"Fill rect...",children:[]}]},{id:"filters",name:"Filters",children:[{id:"color",name:"Color",children:[{id:"grayscale",name:"Grayscale",children:[]},{id:"sepia",name:"Sepia",children:[]},{id:"lighter",name:"Lighter...",children:[]},{id:"darker",name:"Darker...",children:[]},{id:"hue-rotate",name:"Hue rotate...",children:[]},{id:"set-color-component",name:"Set color component...",children:[]},{id:"set-image-color",name:"Set image color...",children:[]},{id:"modulate-image-color",name:"Modulate image color...",children:[]}]},{id:"border",name:"Border",children:[{id:"add-border",name:"Add border...",children:[]},{id:"add-double-border",name:"Add double border...",children:[]},{id:"add-color-border",name:"Add color border...",children:[]}]},{id:"blur",name:"Blur...",children:[]},{id:"add-shadow",name:"Add shadow...",children:[]},{id:"sharpen",name:"Sharpen",children:[]},{id:"emboss",name:"Emboss",children:[]},{id:"emboss-2",name:"Emboss 2...",children:[]},{id:"grow",name:"Grow...",children:[]},{id:"noise",name:"Noise...",children:[]}]},{id:"scripts",name:"Scripts",children:[{id:"new-script",name:"New script...",children:[]}]},{id:"export",name:"Export...",children:[]},{id:"help",name:"Help",children:[]}],currentMenuItem:null}},mounted:function(){window.$(".dropdown-menu").click((function(e){e.stopPropagation()})),window.$("#navbarDropdownMenuLink").click((function(e){e.stopPropagation()}));var e=this;window.$(document).click((function(t){e.resetMenu()}))},methods:{onMainMenuClick:function(){this.menuOpened?this.resetMenu():this.openMainMenu()},hideMenuItem:function(e){var t=document.getElementById(e+"-children");null!=t&&t.classList.remove("show")},showMenuItem:function(e){var t=document.getElementById(e+"-children");null!=t&&t.classList.add("show")},selectMenuItem:function(e){var t=document.getElementById(e);null!=t&&t.classList.add("dropdown-item-selected")},unselectMenuItem:function(e){var t=document.getElementById(e);null!=t&&t.classList.remove("dropdown-item-selected")},unselectMenuItemsLevel1:function(){for(var e=0;e<this.menuItems.length;e++){var t=this.menuItems[e];this.unselectMenuItem("submenu-"+t.id)}this.unselectMenuItemsLevel2()},unselectMenuItemsLevel2:function(){for(var e=0;e<this.menuItems.length;e++)for(var t=this.menuItems[e],a=0;a<t.children.length;a++){var n=t.children[a];this.unselectMenuItem("subsubmenu-"+n.id)}},selectMenuItemLevel1:function(e){this.unselectMenuItemsLevel1(),this.selectMenuItem(e)},selectMenuItemLevel2:function(e){this.unselectMenuItemsLevel2(),this.selectMenuItem(e)},openMainMenu:function(){this.showMenuItem("main-menu"),this.menuOpened=!0},resetMenu:function(){this.hideMenuItem("main-menu"),this.resetMenuLevel2(),this.unselectMenuItemsLevel1(),this.menuOpened=!1},resetMenuLevel2:function(){for(var e=0;e<this.menuItems.length;e++){var t=this.menuItems[e];this.hideMenuItem("submenu-"+t.id)}this.resetMenuLevel3()},resetMenuLevel3:function(){for(var e=0;e<this.menuItems.length;e++)for(var t=this.menuItems[e],a=0;a<t.children.length;a++){var n=t.children[a];this.hideMenuItem("subsubmenu-"+n.id)}},mouseOver:function(e){this.resetMenuLevel2(),this.showMenuItem(e),this.selectMenuItemLevel1(e)},mouseOverLevel2:function(e){this.resetMenuLevel3(),this.showMenuItem(e),this.selectMenuItemLevel2(e)},fillScreenWhite:function(){this.resetMenu(),this.$parent.fillScreenWhite()},fillScreenBlack:function(){this.resetMenu(),this.$parent.fillScreenBlack()},clearCurrentLayer:function(){this.resetMenu(),this.$parent.clearCurrentLayer()},onMenuItemClick:function(e){if("new-project"==e)window.location.reload();else if("fill-white"==e)this.$parent.fillScreenWhite();else if("fill-black"==e)this.$parent.fillScreenBlack();else if("fill-with-current-fill-style"==e)this.$parent.executeSampleScript("Fill with current fillStyle",{});else if("clear-current-layer"==e)this.$parent.clearCurrentLayer();else if("export"==e)this.$parent.showExportModal();else if("help"==e)this.$parent.showModalHelp();else if("paste-image-from-clipboard"==e)this.$parent.showModalPasteImageFromClipboard();else if("add-layer"==e)this.$parent.$refs.layersPanel.showAddLayerForm();else if("duplicate-layer"==e)this.$parent.$refs.layersPanel.showDuplicateLayerForm();else if("delete-layer"==e)this.$parent.deleteCurrentLayer();else if("new-script"==e)this.$parent.createNewScript();else if("grayscale"==e)this.$parent.executeSampleScript("Grayscale layer",{});else if("sepia"==e)this.$parent.executeSampleScript("Repaint with filter",{filter:"sepia(100%)"});else if("lighter"==e)this.$parent.selectSampleScriptWithParams("Lighter");else if("darker"==e)this.$parent.selectSampleScriptWithParams("Darker");else if("invert-colors"==e)this.$parent.executeSampleScript("Invert image colors",{});else if("invert-alpha"==e)this.$parent.executeSampleScript("Invert image alpha",{});else if("blur"==e)this.$parent.selectSampleScriptWithParams("Blur layer");else if("grow"==e)this.$parent.selectSampleScriptWithParams("Grow");else if("set-image-color"==e)this.$parent.selectSampleScriptWithParams("Set image color");else if("set-color-component"==e)this.$parent.selectSampleScriptWithParams("Set color component");else if("modulate-image-color"==e)this.$parent.selectSampleScriptWithParams("Modulate image color");else if("add-border"==e)this.$parent.selectSampleScriptWithParams("Add border");else if("add-double-border"==e)this.$parent.selectSampleScriptWithParams("Add double border");else if("add-color-border"==e)this.$parent.selectSampleScriptWithParams("Add color border");else if("noise"==e)this.$parent.selectSampleScriptWithParams("Noise");else if("sunburst-effect"==e)this.$parent.selectSampleScriptWithParams("Sunburst effect");else if("checkerboard"==e)this.$parent.selectSampleScriptWithParams("Checkerboard");else if("concentric-circles"==e)this.$parent.selectSampleScriptWithParams("Concentric circles");else if("draw-line"==e)this.$parent.selectSampleScriptWithParams("Draw line");else if("draw-circle"==e)this.$parent.selectSampleScriptWithParams("Draw circle");else if("fill-circle"==e)this.$parent.selectSampleScriptWithParams("Fill circle");else if("draw-rect"==e)this.$parent.selectSampleScriptWithParams("Draw rect");else if("fill-rect"==e)this.$parent.selectSampleScriptWithParams("Fill rect");else if("draw-text"==e)this.$parent.selectSampleScriptWithParams("Draw text");else if("draw-stroke-text"==e)this.$parent.selectSampleScriptWithParams("Draw stroke text");else if("glow-text"==e)this.$parent.selectSampleScriptWithParams("Glow text");else if("draw-3d-text"==e)this.$parent.selectSampleScriptWithParams("Draw 3D text");else if("draw-shadow-text"==e)this.$parent.selectSampleScriptWithParams("Draw shadow text");else if("logo-01"==e)this.$parent.selectSampleScriptWithParams("Logo 01");else if("logo-02"==e)this.$parent.selectSampleScriptWithParams("Logo 02");else if("logo-03"==e)this.$parent.selectSampleScriptWithParams("Logo 03");else if("logo-04"==e)this.$parent.selectSampleScriptWithParams("Logo 04");else if("logo-05"==e)this.$parent.selectSampleScriptWithParams("Logo 05");else if("logo-06"==e)this.$parent.selectSampleScriptWithParams("Logo 06");else if("logo-07"==e)this.$parent.selectSampleScriptWithParams("Logo 07");else if("logo-08"==e)this.$parent.selectSampleScriptWithParams("Logo 08");else if("logo-09"==e)this.$parent.selectSampleScriptWithParams("Logo 09");else if("logo-10"==e)this.$parent.selectSampleScriptWithParams("Logo 10");else if("round-button"==e)this.$parent.selectSampleScriptWithParams("Round button");else if("round-button-2"==e)this.$parent.selectSampleScriptWithParams("Round button 2");else if("round-button-3"==e)this.$parent.selectSampleScriptWithParams("Round button 3");else if("gradient-round-button"==e)this.$parent.selectSampleScriptWithParams("Gradient round button");else if("gradient-round-button-2"==e)this.$parent.selectSampleScriptWithParams("Gradient round button 2");else if("3d-gradient-round-button"==e)this.$parent.selectSampleScriptWithParams("3D gradient round button");else if("flip-horizontally"==e)this.$parent.executeSampleScript("Flip horizontally",{});else if("flip-vertically"==e)this.$parent.executeSampleScript("Flip vertically",{});else if("rotate-layer"==e)this.$parent.selectSampleScriptWithParams("Rotate layer");else if("add-shadow"==e)this.$parent.selectSampleScriptWithParams("Add shadow");else if("sharpen"==e)this.$parent.executeSampleScript("Sharpen",{});else if("emboss"==e)this.$parent.executeSampleScript("Emboss",{});else if("emboss-2"==e)this.$parent.selectSampleScriptWithParams("Emboss 2");else if("hue-rotate"==e)this.$parent.selectSampleScriptWithParams("Hue rotate layer");else{if("move-layer"!=e)return;this.$parent.selectSampleScriptWithParams("Move layer")}this.resetMenu()}}},I=E,$=(a("0650"),Object(k["a"])(I,w,C,!1,null,"737fbc94",null)),N=$.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("context")}}},[a("span",{staticClass:"panelTitle"},[e._v("Context")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.context,expression:"$parent.visiblePanels.context"}],staticClass:"panelBody"},[a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.resetContext()}}},[e._v("Reset context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.saveContext()}}},[e._v("Save context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.restoreContext()}}},[e._v("Restore context")])]),a("table",{staticClass:"smallTable contextPropertiesTable"},[a("tbody",[a("tr",[a("td",[e._v("fillStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.$parent.ctx.fillStyle,on:{click:function(t){return e.openColorPicker("fillStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[e._v(e._s(e.$parent.ctx.fillStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("fillStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=e.$parent.ctx.fillStyle,expression:"$parent.ctx.fillStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("fillStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("strokeStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.$parent.ctx.strokeStyle,on:{click:function(t){return e.openColorPicker("strokeStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[e._v(e._s(e.$parent.ctx.strokeStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("strokeStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=e.$parent.ctx.strokeStyle,expression:"$parent.ctx.strokeStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("strokeStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("font")]),a("td",[e._v(e._s(e.$parent.ctx.font))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("font")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"10px sans-serif"!=e.$parent.ctx.font,expression:"$parent.ctx.font != '10px sans-serif'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("font")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("textAlign")]),a("td",[e._v(e._s(e.$parent.ctx.textAlign))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("textAlign")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"start"!=e.$parent.ctx.textAlign,expression:"$parent.ctx.textAlign != 'start'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("textAlign")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("globalAlpha")]),a("td",[e._v(e._s(e.$parent.ctx.globalAlpha))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("globalAlpha")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=e.$parent.ctx.globalAlpha,expression:"$parent.ctx.globalAlpha != '1'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("globalAlpha")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("globalCompositeOperation")]),a("td",[e._v(e._s(e.$parent.ctx.globalCompositeOperation))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("globalCompositeOperation")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"source-over"!=e.$parent.ctx.globalCompositeOperation,expression:"$parent.ctx.globalCompositeOperation != 'source-over'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("globalCompositeOperation")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("lineWidth")]),a("td",[e._v(e._s(e.$parent.ctx.lineWidth))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineWidth")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=e.$parent.ctx.lineWidth,expression:"$parent.ctx.lineWidth != '1'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineWidth")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("lineCap")]),a("td",[e._v(e._s(e.$parent.ctx.lineCap))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineCap")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"butt"!=e.$parent.ctx.lineCap,expression:"$parent.ctx.lineCap != 'butt'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineCap")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("lineJoin")]),a("td",[e._v(e._s(e.$parent.ctx.lineJoin))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineJoin")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"miter"!=e.$parent.ctx.lineJoin,expression:"$parent.ctx.lineJoin != 'miter'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineJoin")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("miterLimit")]),a("td",[e._v(e._s(e.$parent.ctx.miterLimit))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("miterLimit")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:10!=e.$parent.ctx.miterLimit,expression:"$parent.ctx.miterLimit != 10"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("miterLimit")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("transform")]),a("td",[e._v(e._s(e.$parent.ctx.transform))]),a("td",[a("IconEdit"),a("span",{directives:[{name:"show",rawName:"v-show",value:"matrix(1, 0, 0, 1, 0, 0)"!=e.$parent.ctx.transform,expression:"$parent.ctx.transform != 'matrix(1, 0, 0, 1, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetTransform()}}},[a("IconReset")],1)],1)]),a("tr",[a("td",[e._v("filter")]),a("td",[e._v(e._s(e.$parent.ctx.filter))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("filter")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"none"!=e.$parent.ctx.filter,expression:"$parent.ctx.filter != 'none'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("filter")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowBlur")]),a("td",[e._v(e._s(e.$parent.ctx.shadowBlur))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowBlur")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.$parent.ctx.shadowBlur,expression:"$parent.ctx.shadowBlur != '0'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowBlur")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowColor")]),a("td",[e._v(e._s(e.$parent.ctx.shadowColor))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowColor")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"rgba(0, 0, 0, 0)"!=e.$parent.ctx.shadowColor,expression:"$parent.ctx.shadowColor != 'rgba(0, 0, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowColor")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowOffsetX")]),a("td",[e._v(e._s(e.$parent.ctx.shadowOffsetX))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowOffsetX")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.$parent.ctx.shadowOffsetX,expression:"$parent.ctx.shadowOffsetX != '0'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowOffsetX")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowOffsetY")]),a("td",[e._v(e._s(e.$parent.ctx.shadowOffsetY))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowOffsetY")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.$parent.ctx.shadowOffsetY,expression:"$parent.ctx.shadowOffsetY != '0'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowOffsetY")}}},[a("IconReset")],1)])]),e.$parent.ctx.lineDash?a("tr",[a("td",[e._v("lineDash")]),a("td",[e._v(e._s(e.$parent.ctx.lineDash))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineDash")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=e.$parent.ctx.lineDash.length,expression:"$parent.ctx.lineDash.length != 0"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineDash")}}},[a("IconReset")],1)])]):e._e(),a("tr",[a("td",[e._v("lineDashOffset")]),a("td",[e._v(e._s(e.$parent.ctx.lineDashOffset))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineDashOffset")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=e.$parent.ctx.lineDashOffset,expression:"$parent.ctx.lineDashOffset != 0"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineDashOffset")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("textBaseline")]),a("td",[e._v(e._s(e.$parent.ctx.textBaseline))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("textBaseline")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"alphabetic"!=e.$parent.ctx.textBaseline,expression:"$parent.ctx.textBaseline != 'alphabetic'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("textBaseline")}}},[a("IconReset")],1)])])])]),a("div",{staticClass:"spacing"})]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditContextProperty",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"fillStyle"==e.currentAttribute,expression:"currentAttribute=='fillStyle'"}]},[e._v("fillStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.fillStyle,expression:"newCtx.fillStyle"}],domProps:{value:e.newCtx.fillStyle},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"fillStyle",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"strokeStyle"==e.currentAttribute,expression:"currentAttribute=='strokeStyle'"}]},[e._v("strokeStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.strokeStyle,expression:"newCtx.strokeStyle"}],domProps:{value:e.newCtx.strokeStyle},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"strokeStyle",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"font"==e.currentAttribute,expression:"currentAttribute=='font'"}]},[e._v("font: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.font,expression:"newCtx.font"}],domProps:{value:e.newCtx.font},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"font",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalAlpha"==e.currentAttribute,expression:"currentAttribute=='globalAlpha'"}]},[e._v("globalAlpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.globalAlpha,expression:"newCtx.globalAlpha"}],domProps:{value:e.newCtx.globalAlpha},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"globalAlpha",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineWidth"==e.currentAttribute,expression:"currentAttribute=='lineWidth'"}]},[e._v("lineWidth: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineWidth,expression:"newCtx.lineWidth"}],domProps:{value:e.newCtx.lineWidth},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"lineWidth",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineCap"==e.currentAttribute,expression:"currentAttribute=='lineCap'"}]},[e._v(" lineCap: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineCap,expression:"newCtx.lineCap"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"lineCap",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"butt"}},[e._v("butt")]),a("option",{attrs:{value:"round"}},[e._v("round")]),a("option",{attrs:{value:"square"}},[e._v("square")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineJoin"==e.currentAttribute,expression:"currentAttribute=='lineJoin'"}]},[e._v(" lineJoin: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineJoin,expression:"newCtx.lineJoin"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"lineJoin",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"miter"}},[e._v("miter")]),a("option",{attrs:{value:"bevel"}},[e._v("bevel")]),a("option",{attrs:{value:"round"}},[e._v("round")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"filter"==e.currentAttribute,expression:"currentAttribute=='filter'"}]},[e._v("filter: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.filter,expression:"newCtx.filter"}],domProps:{value:e.newCtx.filter},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"filter",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowBlur"==e.currentAttribute,expression:"currentAttribute=='shadowBlur'"}]},[e._v("shadowBlur: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowBlur,expression:"newCtx.shadowBlur"}],domProps:{value:e.newCtx.shadowBlur},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowBlur",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowColor"==e.currentAttribute,expression:"currentAttribute=='shadowColor'"}]},[e._v("shadowColor: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowColor,expression:"newCtx.shadowColor"}],domProps:{value:e.newCtx.shadowColor},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowColor",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetX"==e.currentAttribute,expression:"currentAttribute=='shadowOffsetX'"}]},[e._v("shadowOffsetX: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowOffsetX,expression:"newCtx.shadowOffsetX"}],domProps:{value:e.newCtx.shadowOffsetX},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowOffsetX",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetY"==e.currentAttribute,expression:"currentAttribute=='shadowOffsetY'"}]},[e._v("shadowOffsetY: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowOffsetY,expression:"newCtx.shadowOffsetY"}],domProps:{value:e.newCtx.shadowOffsetY},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowOffsetY",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDash"==e.currentAttribute,expression:"currentAttribute=='lineDash'"}]},[e._v("lineDash: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineDashStr,expression:"newCtx.lineDashStr"}],domProps:{value:e.newCtx.lineDashStr},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"lineDashStr",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDashOffset"==e.currentAttribute,expression:"currentAttribute=='lineDashOffset'"}]},[e._v("lineDashOffset: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineDashOffset,expression:"newCtx.lineDashOffset"}],domProps:{value:e.newCtx.lineDashOffset},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"lineDashOffset",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textAlign"==e.currentAttribute,expression:"currentAttribute=='textAlign'"}]},[e._v(" textAlign: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.textAlign,expression:"newCtx.textAlign"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"textAlign",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"start"}},[e._v("start")]),a("option",{attrs:{value:"end"}},[e._v("end")]),a("option",{attrs:{value:"left"}},[e._v("left")]),a("option",{attrs:{value:"right"}},[e._v("right")]),a("option",{attrs:{value:"center"}},[e._v("center")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"miterLimit"==e.currentAttribute,expression:"currentAttribute=='miterLimit'"}]},[e._v("miterLimit: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.miterLimit,expression:"newCtx.miterLimit"}],domProps:{value:e.newCtx.miterLimit},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"miterLimit",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textBaseline"==e.currentAttribute,expression:"currentAttribute=='textBaseline'"}]},[e._v(" textBaseline: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.textBaseline,expression:"newCtx.textBaseline"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"textBaseline",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"alphabetic"}},[e._v("alphabetic")]),a("option",{attrs:{value:"top"}},[e._v("top")]),a("option",{attrs:{value:"hanging"}},[e._v("hanging")]),a("option",{attrs:{value:"middle"}},[e._v("middle")]),a("option",{attrs:{value:"ideographic"}},[e._v("ideographic")]),a("option",{attrs:{value:"bottom"}},[e._v("bottom")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalCompositeOperation"==e.currentAttribute,expression:"currentAttribute=='globalCompositeOperation'"}]},[e._v(" globalCompositeOperation: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.globalCompositeOperation,expression:"newCtx.globalCompositeOperation"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"globalCompositeOperation",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"source-over"}},[e._v("source-over")]),a("option",{attrs:{value:"source-in"}},[e._v("source-in")]),a("option",{attrs:{value:"source-out"}},[e._v("source-out")]),a("option",{attrs:{value:"source-atop"}},[e._v("source-atop")]),a("option",{attrs:{value:"destination-over"}},[e._v("destination-over")]),a("option",{attrs:{value:"destination-in"}},[e._v("destination-in")]),a("option",{attrs:{value:"destination-out"}},[e._v("destination-out")]),a("option",{attrs:{value:"destination-atop"}},[e._v("destination-atop")]),a("option",{attrs:{value:"lighter"}},[e._v("lighter")]),a("option",{attrs:{value:"copy"}},[e._v("copy")]),a("option",{attrs:{value:"xor"}},[e._v("xor")]),a("option",{attrs:{value:"multiply"}},[e._v("multiply")]),a("option",{attrs:{value:"screen"}},[e._v("screen")]),a("option",{attrs:{value:"overlay"}},[e._v("overlay")]),a("option",{attrs:{value:"darken"}},[e._v("darken")]),a("option",{attrs:{value:"lighten"}},[e._v("lighten")]),a("option",{attrs:{value:"color-dodge"}},[e._v("color-dodge")]),a("option",{attrs:{value:"color-burn"}},[e._v("color-burn")]),a("option",{attrs:{value:"hard-light"}},[e._v("hard-light")]),a("option",{attrs:{value:"soft-light"}},[e._v("soft-light")]),a("option",{attrs:{value:"difference"}},[e._v("difference")]),a("option",{attrs:{value:"exclusion"}},[e._v("exclusion")]),a("option",{attrs:{value:"hue"}},[e._v("hue")]),a("option",{attrs:{value:"saturation"}},[e._v("saturation")]),a("option",{attrs:{value:"color"}},[e._v("color")]),a("option",{attrs:{value:"luminosity"}},[e._v("luminosity")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.updateContextAttribute()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])])},V=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Edit context attribute")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])},B=[],R={name:"IconEdit",props:{color:{type:String,default:"#000000"}}},M=R,O=Object(k["a"])(M,T,B,!1,null,"7486f52d",null),W=O.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",fill:"#0000aa"}})])},G=[],z={name:"IconReset",props:{}},X=z,Y=Object(k["a"])(X,H,G,!1,null,"7df9adc1",null),U=Y.exports,j={name:"ContextPanel",components:{IconEdit:W,IconReset:U},props:{},data:function(){return{currentAttribute:null,newCtx:{fillStyle:null,lineCap:"butt",lineJoin:"miter",textAlign:"start",textBaseline:"alphabetic",globalCompositeOperation:"source-over"}}},methods:{editContextAttribute:function(e){this.currentAttribute=e,this.loadContextAttributeValues()},loadContextAttributeValues:function(){this.newCtx.fillStyle=window.ctx.fillStyle,this.newCtx.strokeStyle=window.ctx.strokeStyle,this.newCtx.font=window.ctx.font,this.newCtx.globalAlpha=window.ctx.globalAlpha,this.newCtx.lineWidth=window.ctx.lineWidth,this.newCtx.lineCap=window.ctx.lineCap,this.newCtx.lineJoin=window.ctx.lineJoin,this.newCtx.filter=window.ctx.filter,this.newCtx.shadowBlur=window.ctx.shadowBlur,this.newCtx.shadowColor=window.ctx.shadowColor,this.newCtx.shadowOffsetX=window.ctx.shadowOffsetX,this.newCtx.shadowOffsetY=window.ctx.shadowOffsetY,this.newCtx.lineDashOffset=window.ctx.lineDashOffset,this.newCtx.textAlign=window.ctx.textAlign,this.newCtx.miterLimit=window.ctx.miterLimit,this.newCtx.textBaseline=window.ctx.textBaseline,this.newCtx.globalCompositeOperation=window.ctx.globalCompositeOperation,this.newCtx.lineDashStr="["+window.ctx.getLineDash().toString()+"]"},updateContextAttribute:function(){"fillStyle"==this.currentAttribute?window.ctx.fillStyle=this.newCtx.fillStyle:"strokeStyle"==this.currentAttribute?window.ctx.strokeStyle=this.newCtx.strokeStyle:"font"==this.currentAttribute?window.ctx.font=this.newCtx.font:"globalAlpha"==this.currentAttribute?window.ctx.globalAlpha=this.newCtx.globalAlpha:"lineWidth"==this.currentAttribute?window.ctx.lineWidth=this.newCtx.lineWidth:"lineCap"==this.currentAttribute?window.ctx.lineCap=this.newCtx.lineCap:"lineJoin"==this.currentAttribute?window.ctx.lineJoin=this.newCtx.lineJoin:"filter"==this.currentAttribute?window.ctx.filter=this.newCtx.filter:"shadowBlur"==this.currentAttribute?window.ctx.shadowBlur=this.newCtx.shadowBlur:"shadowColor"==this.currentAttribute?window.ctx.shadowColor=this.newCtx.shadowColor:"shadowOffsetX"==this.currentAttribute?window.ctx.shadowOffsetX=this.newCtx.shadowOffsetX:"shadowOffsetY"==this.currentAttribute?window.ctx.shadowOffsetY=this.newCtx.shadowOffsetY:"lineDashOffset"==this.currentAttribute?window.ctx.lineDashOffset=this.newCtx.lineDashOffset:"textAlign"==this.currentAttribute?window.ctx.textAlign=this.newCtx.textAlign:"miterLimit"==this.currentAttribute?window.ctx.miterLimit=this.newCtx.miterLimit:"textBaseline"==this.currentAttribute?window.ctx.textBaseline=this.newCtx.textBaseline:"globalCompositeOperation"==this.currentAttribute?window.ctx.globalCompositeOperation=this.newCtx.globalCompositeOperation:"lineDash"==this.currentAttribute&&window.ctx.setLineDash(this.newCtx.lineDashStr.replaceAll("[","").replaceAll("]","").split(",")),this.$parent.updateCurrentContextDetails()},openColorPicker:function(e){window.$("#modalColorPicker").modal("show"),this.$parent.$refs.modalColorPicker.target=e,"fillStyle"==e?this.$parent.$refs.modalColorPicker.setCurrentColor(window.ctx.fillStyle):"strokeStyle"==e&&this.$parent.$refs.modalColorPicker.setCurrentColor(window.ctx.strokeStyle)}}},q=j,J=Object(k["a"])(q,D,V,!1,null,"3fd2dc46",null),K=J.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("layers")}}},[a("span",{staticClass:"panelTitle"},[e._v("Layers")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.layers,expression:"$parent.visiblePanels.layers"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.canvasLayers,(function(t){return a("tr",{key:t.name,class:{selectedLayer:null!=e.$parent.currentLayer&&t.name==e.$parent.currentLayer.name},on:{click:function(a){return e.$parent.setCurrentLayer(t.name)}}},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.visible,expression:"layer.visible"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_layer_visible_"+t.name},domProps:{checked:Array.isArray(t.visible)?e._i(t.visible,null)>-1:t.visible},on:{change:[function(a){var n=t.visible,r=a.target,i=!!r.checked;if(Array.isArray(n)){var o=null,l=e._i(n,o);r.checked?l<0&&e.$set(t,"visible",n.concat([o])):l>-1&&e.$set(t,"visible",n.slice(0,l).concat(n.slice(l+1)))}else e.$set(t,"visible",i)},function(t){return e.$parent.updateCanvasAllLayers()}]}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_layer_visible_"+t.name}})])]),a("td",[a("a",[e._v(e._s(t.name))])]),a("td",[e._v(e._s(t.alpha))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.$parent.setCurrentLayer(t.name)}}},[e._v("select")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditLayer"},on:{click:function(a){return e.editLayer(t)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.$parent.deleteLayer(t)}}},[e._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddLayer"},on:{click:function(t){return e.showAddLayerForm()}}},[e._v("Add layer")]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalDuplicateLayer"},on:{click:function(t){return e.showDuplicateLayerForm()}}},[e._v("Duplicate")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.moveLayerUp()}}},[a("IconUp")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.moveLayerDown()}}},[a("IconDown")],1)])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",[e._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedLayer.name,expression:"editedLayer.name"}],domProps:{value:e.editedLayer.name},on:{input:function(t){t.target.composing||e.$set(e.editedLayer,"name",t.target.value)}}})]),a("div",[e._v("alpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedLayer.alpha,expression:"editedLayer.alpha"}],domProps:{value:e.editedLayer.alpha},on:{input:function(t){t.target.composing||e.$set(e.editedLayer,"alpha",t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.updateLayer()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(2),a("div",{staticClass:"modal-body"},[a("div",[e._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newLayerForm.name,expression:"newLayerForm.name"}],domProps:{value:e.newLayerForm.name},on:{input:function(t){t.target.composing||e.$set(e.newLayerForm,"name",t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.addLayer()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalDuplicateLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(3),a("div",{staticClass:"modal-body"},[a("div",[e._v("New layer name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.duplicateLayerForm.newLayerName,expression:"duplicateLayerForm.newLayerName"}],domProps:{value:e.duplicateLayerForm.newLayerName},on:{input:function(t){t.target.composing||e.$set(e.duplicateLayerForm,"newLayerName",t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.duplicateCurrentLayer()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])])},Z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("visible")]),a("th",[e._v("name")]),a("th",[e._v("alpha")]),a("th"),a("th"),a("th")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Edit layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Add layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Duplicate layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}})])},te=[],ae={name:"IconUp",props:{}},ne=ae,re=Object(k["a"])(ne,ee,te,!1,null,"fc87067a",null),ie=re.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}})])},le=[],se={name:"IconDown",props:{}},ce=se,ue=Object(k["a"])(ce,oe,le,!1,null,"14a1ec91",null),pe=ue.exports,de={name:"LayersPanel",components:{IconUp:ie,IconDown:pe},props:{},data:function(){return{originalLayer:null,editedLayer:{name:null,alpha:null},newLayerForm:{name:null},duplicateLayerForm:{newLayerName:null}}},methods:{showAddLayerForm:function(){this.newLayerForm.name="NewLayer",window.$("#modalAddLayer").modal("show")},addLayer:function(){this.$parent.addLayerWithName(this.newLayerForm.name),this.$parent.setCurrentLayer(this.newLayerForm.name)},showDuplicateLayerForm:function(){this.duplicateLayerForm.newLayerName="LayerCopy",window.$("#modalDuplicateLayer").modal("show")},duplicateCurrentLayer:function(){this.$parent.duplicateLayer(this.$parent.currentLayer,this.duplicateLayerForm.newLayerName)},editLayer:function(e){this.originalLayer=e,this.editedLayer.name=this.originalLayer.name,this.editedLayer.alpha=this.originalLayer.alpha},updateLayer:function(){this.originalLayer.name=this.editedLayer.name,this.originalLayer.alpha=parseFloat(this.editedLayer.alpha),this.$parent.updateCurrentLayerCanvas(),this.$parent.updateCanvasAllLayers()}}},me=de,he=Object(k["a"])(me,Q,Z,!1,null,"fd21fbbc",null),fe=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("events")}}},[a("span",{staticClass:"panelTitle"},[e._v("Events")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.events,expression:"$parent.visiblePanels.events"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.customEvents,(function(t){return a("tr",{key:t.name},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.enabled,expression:"customEvent.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_custom_event_enabled_"+t.name},domProps:{checked:Array.isArray(t.enabled)?e._i(t.enabled,null)>-1:t.enabled},on:{change:function(a){var n=t.enabled,r=a.target,i=!!r.checked;if(Array.isArray(n)){var o=null,l=e._i(n,o);r.checked?l<0&&e.$set(t,"enabled",n.concat([o])):l>-1&&e.$set(t,"enabled",n.slice(0,l).concat(n.slice(l+1)))}else e.$set(t,"enabled",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_custom_event_enabled_"+t.name}})])]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.type))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.executeCustomEvent(t)}}},[e._v("execute")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditCustomEvent"},on:{click:function(a){return e.showEditCustomEventForm(t)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.deleteCustomEvent(t)}}},[e._v("delete")])])])})),0)]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddCustomEvent"},on:{click:function(t){return e.showAddCustomEventForm()}}},[e._v("Add event")])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",[e._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEventForm.name,expression:"newEventForm.name"}],domProps:{value:e.newEventForm.name},on:{input:function(t){t.target.composing||e.$set(e.newEventForm,"name",t.target.value)}}})]),a("div",[e._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newEventForm.type,expression:"newEventForm.type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newEventForm,"type",t.target.multiple?a:a[0])}}},e._l(e.customEventTypes,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),a("div",[e._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newEventForm.sourceCode,expression:"newEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:e.newEventForm.sourceCode},on:{input:function(t){t.target.composing||e.$set(e.newEventForm,"sourceCode",t.target.value)}}}),e._m(2)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.addCustomEvent()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(3),a("div",{staticClass:"modal-body"},[a("div",[e._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.name,expression:"editEventForm.name"}],domProps:{value:e.editEventForm.name},on:{input:function(t){t.target.composing||e.$set(e.editEventForm,"name",t.target.value)}}})]),a("div",[e._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.type,expression:"editEventForm.type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editEventForm,"type",t.target.multiple?a:a[0])}}},e._l(e.customEventTypes,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),a("div",[e._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.sourceCode,expression:"editEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:e.editEventForm.sourceCode},on:{input:function(t){t.target.composing||e.$set(e.editEventForm,"sourceCode",t.target.value)}}}),e._m(4)]),a("div",{staticClass:"custom-control custom-switch",staticStyle:{"margin-top":"10px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.enabled,expression:"editEventForm.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_edit_custom_event_enabled_"+e.editEventForm.name},domProps:{checked:Array.isArray(e.editEventForm.enabled)?e._i(e.editEventForm.enabled,null)>-1:e.editEventForm.enabled},on:{change:function(t){var a=e.editEventForm.enabled,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,o=e._i(a,i);n.checked?o<0&&e.$set(e.editEventForm,"enabled",a.concat([i])):o>-1&&e.$set(e.editEventForm,"enabled",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.editEventForm,"enabled",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_edit_custom_event_enabled_"+e.editEventForm.name}},[e._v("Enabled")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.updateCustomEvent()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])])},ge=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("enabled")]),a("th",[e._v("name")]),a("th",[e._v("type")]),a("th",[e._v("execute")]),a("th",[e._v("edit")]),a("th",[e._v("delete")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Add event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("b",[e._v("To get current mouse position:")])]),a("div",[e._v("app.mousePosition.x")]),a("div",[e._v("app.mousePosition.y")]),a("div",[a("b",[e._v("To get previous mouse position:")])]),a("div",[e._v("app.previousMousePosition.x")]),a("div",[e._v("app.previousMousePosition.y")]),a("div",[a("b",[e._v("To get last mouse down position:")])]),a("div",[e._v("app.mouseDownPosition.x")]),a("div",[e._v("app.mouseDownPosition.y")]),a("div",[a("b",[e._v("To detect if mouse button is down:")])]),a("div",[e._v("app.isMouseDown")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Edit event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("b",[e._v("To get current mouse position:")])]),a("div",[e._v("app.mousePosition.x")]),a("div",[e._v("app.mousePosition.y")]),a("div",[a("b",[e._v("To get previous mouse position:")])]),a("div",[e._v("app.previousMousePosition.x")]),a("div",[e._v("app.previousMousePosition.y")]),a("div",[a("b",[e._v("To get last mouse down position:")])]),a("div",[e._v("app.mouseDownPosition.x")]),a("div",[e._v("app.mouseDownPosition.y")]),a("div",[a("b",[e._v("To detect if mouse button is down:")])]),a("div",[e._v("app.isMouseDown")])])}],ye={name:"EventsPanel",components:{},props:{},data:function(){return{customEventTypes:["mouseDown","mouseUp","mouseMove","animationFrame"],originalEvent:null,editEventForm:{name:null,type:null,enabled:null,sourceCode:null},newEventForm:{name:null,type:null,enabled:null,sourceCode:null}}},methods:{showAddCustomEventForm:function(){this.newEventForm.name="Event 01",this.newEventForm.type=this.customEventTypes[0],this.newEventForm.sourceCode="",this.newEventForm.enabled=!0},addCustomEvent:function(){var e={name:this.newEventForm.name,type:this.newEventForm.type,enabled:this.newEventForm.enabled,func:new Function("params",this.newEventForm.sourceCode),source:this.newEventForm.sourceCode};this.$parent.customEvents.push(e)},showEditCustomEventForm:function(e){this.originalEvent=e,this.editEventForm.name=e.name,this.editEventForm.type=e.type,this.editEventForm.enabled=e.enabled,this.editEventForm.sourceCode=e.source},updateCustomEvent:function(){this.originalEvent.name=this.editEventForm.name,this.originalEvent.type=this.editEventForm.type,this.originalEvent.source=this.editEventForm.sourceCode,this.originalEvent.enabled=this.editEventForm.enabled,this.originalEvent.func=new Function("params",this.editEventForm.sourceCode)},executeCustomEvent:function(e){e.func(),this.$parent.updateCanvasAllLayers(),this.$parent.updateCurrentLayerCanvas()},deleteCustomEvent:function(e){this.$parent.deleteCustomEvent(e)}}},xe=ye,be=(a("7f64"),Object(k["a"])(xe,ve,ge,!1,null,"509b1541",null)),we=be.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("images")}}},[a("span",{staticClass:"panelTitle"},[e._v("Images")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.images,expression:"$parent.visiblePanels.images"}],staticClass:"panelBody"},[a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.showModalLoadImage()}}},[e._v("Load image")]),a("div",{staticClass:"spacing"}),e.$parent.images.length>0?a("table",{staticClass:"smallTable contextPropertiesTable"},[e._m(0),a("tbody",e._l(e.$parent.images,(function(t){return a("tr",{key:t.filename},[a("td",[t.url?a("img",{staticStyle:{"max-width":"64px"},attrs:{src:t.url}}):e._e()]),a("td",[e._v(e._s(t.name))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.selectImageToDraw(t)}}},[e._v("draw...")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.selectImageToDrawScaled(t)}}},[e._v("draw scaled...")])])])})),0)]):e._e(),a("div",{staticClass:"spacing"})]),a("ModalLoadImage",{ref:"modalLoadImage"})],1)},_e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("image")]),a("th",[e._v("name")]),a("th",[e._v("draw")]),a("th",[e._v("draw scaled")])])])}],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalLoadImage",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("span",[e._v("Load image: ")]),a("input",{attrs:{type:"file",id:"inputImage"},on:{change:e.onImageUpload}})]),null!=e.image?a("div",[a("img",{staticStyle:{"max-width":"64px"},attrs:{src:e.image.url}})]):e._e(),a("br"),null!=e.image?a("div",[a("span",[e._v("Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.image.name,expression:"image.name"}],domProps:{value:e.image.name},on:{input:function(t){t.target.composing||e.$set(e.image,"name",t.target.value)}}})]):e._e()]),a("div",{staticClass:"modal-footer"},[null!=e.image?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.loadImage()}}},[e._v("OK")]):e._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])},Le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Load image")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],Fe={name:"ModalLoadImage",components:{},props:{},data:function(){return{image:null}},methods:{open:function(){this.image=null,window.$("#modalLoadImage").modal("show")},onImageUpload:function(e){var t=e.target.files[0],a=t.name.replace(/\.[^/.]+$/,""),n={filename:t.name,url:URL.createObjectURL(t),name:a};this.image=n},loadImage:function(){null!=this.image&&this.$parent.$parent.images.push(this.image),window.$("#modalLoadImage").modal("hide")}}},ke=Fe,Pe=Object(k["a"])(ke,Se,Le,!1,null,"2159a0e2",null),Ae=Pe.exports,Ee={name:"ImagesPanel",components:{ModalLoadImage:Ae},props:{},data:function(){return{}},methods:{selectImageToDraw:function(e){this.$parent.selectSampleScriptWithParams("Draw image");for(var t=0;t<this.$parent.selectedSampleScriptWithParams.params.length;t++){var a=this.$parent.selectedSampleScriptWithParams.params[t];"imageName"==a.name&&(a.value=e.name)}},selectImageToDrawScaled:function(e){this.$parent.selectSampleScriptWithParams("Draw image scaled");for(var t=0;t<this.$parent.selectedSampleScriptWithParams.params.length;t++){var a=this.$parent.selectedSampleScriptWithParams.params[t];"imageName"==a.name&&(a.value=e.name)}},showModalLoadImage:function(){this.$refs.modalLoadImage.open()}}},Ie=Ee,$e=Object(k["a"])(Ie,Ce,_e,!1,null,"6be1b068",null),Ne=$e.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("fonts")}}},[a("span",{staticClass:"panelTitle"},[e._v("Fonts")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.fonts,expression:"$parent.visiblePanels.fonts"}],staticClass:"panelBody"},[a("div",[e._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.fontPanelForm.fontName,expression:"$parent.fontPanelForm.fontName"}],domProps:{value:e.$parent.fontPanelForm.fontName},on:{input:function(t){t.target.composing||e.$set(e.$parent.fontPanelForm,"fontName",t.target.value)}}})]),a("input",{attrs:{type:"file"},on:{change:e.$parent.onFontUpload}}),a("div",[e._v("URL: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.fontPanelForm.fontURL,expression:"$parent.fontPanelForm.fontURL"}],domProps:{value:e.$parent.fontPanelForm.fontURL},on:{input:function(t){t.target.composing||e.$set(e.$parent.fontPanelForm,"fontURL",t.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.loadFont()}}},[e._v("Load font")]),a("div",{staticClass:"spacing"}),a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.fonts,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.font.style))]),a("td",[e._v(e._s(t.font.weight))])])})),0)]),a("div",{staticClass:"spacing"})])])},Ve=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th",[e._v("style")]),a("th",[e._v("weight")])])])}],Te={name:"FontsPanel",components:{},props:{},data:function(){return{}},methods:{}},Be=Te,Re=Object(k["a"])(Be,De,Ve,!1,null,"a7371202",null),Me=Re.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("globalVariables")}}},[a("span",{staticClass:"panelTitle"},[e._v("Global variables")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.globalVariables,expression:"$parent.visiblePanels.globalVariables"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.globalVariables,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(n))]),a("td",[e._v(e._s(t))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.editGlobalVariable(n)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.deleteGlobalVariable(n)}}},[e._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.$parent.popupAddGlobalVariable}},[e._v("add")])])])])},We=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th",[e._v("value")]),a("th"),a("th")])])}],He={name:"GlobalVariablesPanel",components:{},props:{},data:function(){return{}},methods:{}},Ge=He,ze=Object(k["a"])(Ge,Oe,We,!1,null,"af606bac",null),Xe=ze.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("logs")}}},[a("span",{staticClass:"panelTitle"},[e._v("Logs")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.logs,expression:"$parent.visiblePanels.logs"}],staticClass:"panelBody"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.clearLogs()}}},[e._v("clear logs")]),a("div",[e._v("Showing "+e._s(e.$parent.logs.length)+" log messages")]),a("table",{staticClass:"smallTable"},[a("tbody",e._l(e.$parent.logs,(function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t))])])})),0)]),a("div",{staticClass:"spacing"})])])},Ue=[],je={name:"LogsPanel",components:{},props:{},data:function(){return{}},methods:{}},qe=je,Je=Object(k["a"])(qe,Ye,Ue,!1,null,"982cfcb6",null),Ke=Je.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.$parent.selectedSampleScriptWithParams?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("scriptWithParams")}}},[a("span",{staticClass:"panelTitle"},[e._v("Execute script")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(t){return e.$parent.unselectSampleScriptWithParams()}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.scriptWithParams,expression:"$parent.visiblePanels.scriptWithParams"}],staticClass:"panelBody"},[null!=e.$parent.selectedSampleScriptWithParams?a("div",[a("h3",[e._v(e._s(e.$parent.selectedSampleScriptWithParams.name))]),a("br"),a("table",[a("tbody",e._l(e.$parent.selectedSampleScriptWithParams.params,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.name))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],domProps:{value:t.value},on:{input:[function(a){a.target.composing||e.$set(t,"value",a.target.value)},function(t){return e.$parent.onSampleScriptParamChange()}]}}),"colorHex"==t.type?a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.value,on:{click:function(a){return e.openColorPicker("scriptParam",t)}}}):e._e()])])})),0)]),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(t){return e.$parent.executeSampleScriptWithParams()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Execute")],1),"SAMPLE_SCRIPT"==e.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.loadSampleScript(e.$parent.selectedSampleScriptWithParams.name)}}},[e._v("Open script")]):e._e(),"SAVED_SCRIPT"==e.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.loadSavedScript(e.$parent.selectedSampleScriptWithParams.name)}}},[e._v("Open script")]):e._e(),a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(t){return e.$parent.unselectSampleScriptWithParams()}}},[e._v("Cancel")])]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.clearLayerBeforeExecutingScriptWithParams,expression:"$parent.clearLayerBeforeExecutingScriptWithParams"}],attrs:{type:"checkbox",id:"checkbox01"},domProps:{checked:Array.isArray(e.$parent.clearLayerBeforeExecutingScriptWithParams)?e._i(e.$parent.clearLayerBeforeExecutingScriptWithParams,null)>-1:e.$parent.clearLayerBeforeExecutingScriptWithParams},on:{change:function(t){var a=e.$parent.clearLayerBeforeExecutingScriptWithParams,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,o=e._i(a,i);n.checked?o<0&&e.$set(e.$parent,"clearLayerBeforeExecutingScriptWithParams",a.concat([i])):o>-1&&e.$set(e.$parent,"clearLayerBeforeExecutingScriptWithParams",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.$parent,"clearLayerBeforeExecutingScriptWithParams",r)}}}),a("label",{attrs:{for:"checkbox01"}},[e._v("Clear layer before executing")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.executeScriptsWithParamsOnChange,expression:"$parent.executeScriptsWithParamsOnChange"}],attrs:{type:"checkbox",id:"checkbox02"},domProps:{checked:Array.isArray(e.$parent.executeScriptsWithParamsOnChange)?e._i(e.$parent.executeScriptsWithParamsOnChange,null)>-1:e.$parent.executeScriptsWithParamsOnChange},on:{change:function(t){var a=e.$parent.executeScriptsWithParamsOnChange,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,o=e._i(a,i);n.checked?o<0&&e.$set(e.$parent,"executeScriptsWithParamsOnChange",a.concat([i])):o>-1&&e.$set(e.$parent,"executeScriptsWithParamsOnChange",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.$parent,"executeScriptsWithParamsOnChange",r)}}}),a("label",{attrs:{for:"checkbox02"}},[e._v("Execute automatically on param change")])]):e._e()])]):e._e()},Ze=[],et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"12px",height:"12px"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}})])},tt=[],at={name:"IconExecute",props:{color:{type:String,default:"#000000"}}},nt=at,rt=Object(k["a"])(nt,et,tt,!1,null,"e96ec450",null),it=rt.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"0",y:"0",width:"18",height:"18","stroke-width":"2",stroke:"#dc3545",fill:"#dc3545"}}),a("line",{attrs:{x1:"4",y1:"4",x2:"14",y2:"14",stroke:"white","stroke-width":"2"}}),a("line",{attrs:{x1:"4",y1:"14",x2:"14",y2:"4",stroke:"white","stroke-width":"2"}})])},lt=[],st={name:"IconClose",props:{color:{type:String,default:"#000000"}}},ct=st,ut=Object(k["a"])(ct,ot,lt,!1,null,"05ba1bcb",null),pt=ut.exports,dt={name:"ScriptWithParamsPanel",components:{IconExecute:it,IconClose:pt},props:{},data:function(){return{}},methods:{openColorPicker:function(e,t){window.$("#modalColorPicker").modal("show"),this.$parent.$refs.modalColorPicker.target=e,this.$parent.$refs.modalColorPicker.scriptParam=t,this.$parent.$refs.modalColorPicker.setCurrentColor(t.value)}}},mt=dt,ht=Object(k["a"])(mt,Qe,Ze,!1,null,"03bdb885",null),ft=ht.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.currentScript?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("configureScript")}}},[a("span",{staticClass:"panelTitle"},[e._v("Configure script params")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(t){e.currentScript=null}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),e.$parent.visiblePanels.configureScript?a("div",{staticClass:"panelBody"},[a("h3",[e._v(e._s(e.currentScript.name))]),e.currentScript.params.length>0?a("div",[a("b",[e._v("Script params:")])]):e._e(),a("div",{staticClass:"spacing"}),0==e.currentScript.params.length?a("div",[e._v("This script has no params.")]):e._e(),e.currentScript.params.length>0?a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.currentScript.params,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.type))]),a("td",[e._v(e._s(t.defaultValue))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.editScriptParam(t)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.deleteScriptParam(t.name)}}},[e._v("delete")])])])})),0)]):e._e(),a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.showModalAddScriptParam()}}},[e._v("Add script param")]),a("div",{staticClass:"spacing"})]):e._e(),a("ModalAddScriptParam",{ref:"modalAddScriptParam"})],1):e._e()},gt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th",[e._v("type")]),a("th",[e._v("default value")]),a("th",[e._v("edit")]),a("th",[e._v("delete")])])])}],yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalAddScriptParam",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",[e._v("Param name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramName,expression:"paramName"}],domProps:{value:e.paramName},on:{input:function(t){t.target.composing||(e.paramName=t.target.value)}}})]),a("div",[e._v(" Param type: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_string",value:"string"},domProps:{checked:e._q(e.paramType,"string")},on:{change:function(t){e.paramType="string"}}}),a("label",{attrs:{for:"type_string"}},[e._v("String ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_number",value:"number"},domProps:{checked:e._q(e.paramType,"number")},on:{change:function(t){e.paramType="number"}}}),a("label",{attrs:{for:"type_number"}},[e._v("Number ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_colorHex",value:"colorHex"},domProps:{checked:e._q(e.paramType,"colorHex")},on:{change:function(t){e.paramType="colorHex"}}}),a("label",{attrs:{for:"type_colorHex"}},[e._v("Color (hex) ")])]),a("div",[e._v("Default value: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.defaultValue,expression:"defaultValue"}],domProps:{value:e.defaultValue},on:{input:function(t){t.target.composing||(e.defaultValue=t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[null==e.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.addScriptParam()}}},[e._v("Add")]):e._e(),null!=e.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.updateScriptParam()}}},[e._v("Update")]):e._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])},xt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Add script param")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],bt={name:"ModalAddScriptParam",components:{},props:{},data:function(){return{editingParam:null,paramName:"",paramType:"string",defaultValue:""}},methods:{open:function(){this.clearForm(),window.$("#modalAddScriptParam").modal("show")},editScriptParam:function(e){this.editingParam=e,this.paramName=this.editingParam.name,this.paramType=this.editingParam.type,this.defaultValue=this.editingParam.defaultValue,window.$("#modalAddScriptParam").modal("show")},updateScriptParam:function(){this.editingParam.name=this.paramName,this.editingParam.type=this.paramType,this.editingParam.defaultValue="number"==this.paramType?Number(this.defaultValue):this.defaultValue,window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},addScriptParam:function(){var e={name:this.paramName,type:this.paramType,defaultValue:"number"==this.paramType?Number(this.defaultValue):this.defaultValue};this.$parent.addScriptParam(e),window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},clearForm:function(){this.editingParam=null,this.paramName="",this.paramType="string",this.defaultValue=""}}},wt=bt,Ct=(a("7f74"),Object(k["a"])(wt,yt,xt,!1,null,"0e79785e",null)),_t=Ct.exports,St={name:"ConfigureScriptPanel",components:{ModalAddScriptParam:_t,IconClose:pt},props:{},data:function(){return{currentScript:null}},methods:{setCurrentScript:function(e){this.currentScript=e},editScriptParam:function(e){this.$refs.modalAddScriptParam.editScriptParam(e)},showModalAddScriptParam:function(){this.$refs.modalAddScriptParam.open()},addScriptParam:function(e){null==this.currentScript.params&&(this.currentScript.params=[]),this.currentScript.params.push(e)},deleteScriptParam:function(e){for(var t=this.currentScript.params,a=0;a<t.length;a++){var n=t[a];if(n.name==e)return void t.splice(a,1)}}}},Lt=St,Ft=Object(k["a"])(Lt,vt,gt,!1,null,"2f901e6f",null),kt=Ft.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalExport",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",[e._v("Export type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"full_canvas",value:"FULL_CANVAS"},domProps:{checked:e._q(e.$parent.exportConfigForm.type,"FULL_CANVAS")},on:{change:function(t){return e.$set(e.$parent.exportConfigForm,"type","FULL_CANVAS")}}}),a("label",{attrs:{for:"full_canvas"}},[e._v("Full canvas ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop",value:"CROP"},domProps:{checked:e._q(e.$parent.exportConfigForm.type,"CROP")},on:{change:function(t){return e.$set(e.$parent.exportConfigForm,"type","CROP")}}}),a("label",{attrs:{for:"crop"}},[e._v("Crop ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop_at",value:"CROP_AT"},domProps:{checked:e._q(e.$parent.exportConfigForm.type,"CROP_AT")},on:{change:function(t){return e.$set(e.$parent.exportConfigForm,"type","CROP_AT")}}}),a("label",{attrs:{for:"crop_at"}},[e._v("Crop at... ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"CROP_AT"==e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type == 'CROP_AT'"}]},[a("div",[e._v("Crop start x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropStartX,expression:"$parent.exportConfigForm.cropStartX"}],domProps:{value:e.$parent.exportConfigForm.cropStartX},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropStartX",t.target.value)}}})]),a("div",[e._v("Crop start y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropStartY,expression:"$parent.exportConfigForm.cropStartY"}],domProps:{value:e.$parent.exportConfigForm.cropStartY},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropStartY",t.target.value)}}})]),a("div",[e._v("Crop end x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropEndX,expression:"$parent.exportConfigForm.cropEndX"}],domProps:{value:e.$parent.exportConfigForm.cropEndX},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropEndX",t.target.value)}}})]),a("div",[e._v("Crop end y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropEndY,expression:"$parent.exportConfigForm.cropEndY"}],domProps:{value:e.$parent.exportConfigForm.cropEndY},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropEndY",t.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$parent.exportCanvas()}}},[e._v("Export")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])},At=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Export")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],Et={name:"ModalExport",components:{},props:{},data:function(){return{}},methods:{}},It=Et,$t=Object(k["a"])(It,Pt,At,!1,null,"b87925c8",null),Nt=$t.exports,Dt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Vt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalPasteImageFromClipboard",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Paste image from clipboard")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("h3",[e._v("Press CTRL+V to paste image from clipboard")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])}],Tt={name:"ModalPasteImageFromClipboard",components:{},props:{},data:function(){return{}},methods:{}},Bt=Tt,Rt=Object(k["a"])(Bt,Dt,Vt,!1,null,"0166b8d0",null),Mt=Rt.exports,Ot=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Wt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal fade",attrs:{id:"modalHelp",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Help")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),n("div",{staticClass:"modal-body"},[n("img",{staticClass:"logo",attrs:{alt:"DrawJS logo",src:a("6cfa")}}),n("br"),n("br"),n("p",[n("a",{attrs:{href:"https://www.youtube.com/channel/UC6MPzpvbIs1x2HtoM83fVcQ",target:"_blank"}},[e._v("Video tutorials")])]),n("p",[n("a",{attrs:{href:"https://danielbarral.itch.io/drawjs/community",target:"_blank"}},[e._v("Discussion board")])]),n("p",[n("a",{attrs:{href:"https://www.reddit.com/r/DrawJS/",target:"_blank"}},[e._v("Reddit")])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")])])])])])}],Ht={name:"ModalHelp",components:{},props:{},data:function(){return{}},methods:{}},Gt=Ht,zt=(a("af30"),Object(k["a"])(Gt,Ot,Wt,!1,null,"0669f9fa",null)),Xt=zt.exports,Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalColorPicker",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.screen,expression:"screen"}],attrs:{type:"radio",id:"type_basicColors",value:"basicColors"},domProps:{checked:e._q(e.screen,"basicColors")},on:{change:function(t){e.screen="basicColors"}}}),a("label",{staticClass:"radioLabel",attrs:{for:"type_basicColors"}},[e._v("Basic colors ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.screen,expression:"screen"}],attrs:{type:"radio",id:"type_customColors",value:"customColors"},domProps:{checked:e._q(e.screen,"customColors")},on:{change:function(t){e.screen="customColors"}}}),a("label",{staticClass:"radioLabel",attrs:{for:"type_customColors"}},[e._v("Custom colors ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"basicColors"==e.screen,expression:"screen == 'basicColors'"}]},[a("table",{staticClass:"colorGridTable"},e._l(e.colorGrid.rows,(function(t){return a("tr",{key:t.id},e._l(t.colors,(function(t){return a("td",{key:t.hex},[a("svg",{attrs:{height:"30",width:"30"}},[a("circle",{staticClass:"colorSvg",attrs:{cx:"15",cy:"15",r:"13",stroke:"black","stroke-width":"0.5",fill:t.hex},on:{click:function(a){return e.selectColor(t)}}})])])})),0)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"customColors"==e.screen,expression:"screen == 'customColors'"}]},[a("div",{attrs:{id:"colorPicker"}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentColor.hex,expression:"currentColor.hex"}],domProps:{value:e.currentColor.hex},on:{input:function(t){t.target.composing||e.$set(e.currentColor,"hex",t.target.value)}}}),a("button",{staticClass:"btn btn-primary btn",on:{click:function(t){return e.selectCurrentColor()}}},[e._v("Select")])])]),e._m(1)])])])},Ut=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Color Picker")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])}],jt={},qt=[],Jt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function Kt(e,t){for(var a in t)e[a]=t[a];return e}function Qt(e){var t=e.parentNode;t&&t.removeChild(e)}function Zt(e,t,a){var n,r,i,o,l=arguments;if(t=Kt({},t),arguments.length>3)for(a=[a],n=3;n<arguments.length;n++)a.push(l[n]);if(null!=a&&(t.children=a),null!=e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===t[r]&&(t[r]=e.defaultProps[r]);return o=t.key,null!=(i=t.ref)&&delete t.ref,null!=o&&delete t.key,ea(e,t,o,i)}function ea(e,t,a,n){var r={type:e,props:t,key:a,ref:n,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return m.vnode&&m.vnode(r),r}function ta(e){return e.children}function aa(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return ea(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=ea(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function na(e,t){this.props=e,this.context=t}function ra(e,t){if(null==t)return e.__p?ra(e.__p,e.__p.__k.indexOf(e)+1):null;for(var a;t<e.__k.length;t++)if(null!=(a=e.__k[t])&&null!=a.__e)return a.__e;return"function"==typeof e.type?ra(e):null}function ia(e){var t,a;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(a=e.__k[t])&&null!=a.__e){e.__e=e.__c.base=a.__e;break}return ia(e)}}function oa(e){(!e.__d&&(e.__d=!0)&&1===h.push(e)||v!==m.debounceRendering)&&(v=m.debounceRendering,(m.debounceRendering||f)(la))}function la(){var e,t,a,n,r,i,o,l;for(h.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=h.pop();)e.__d&&(a=void 0,n=void 0,i=(r=(t=e).__v).__e,o=t.__P,l=t.u,t.u=!1,o&&(a=[],n=ha(o,r,Kt({},r),t.__n,void 0!==o.ownerSVGElement,null,a,l,null==i?ra(r):i),fa(a,r),n!=i&&ia(r)))}function sa(e,t,a,n,r,i,o,l,s){var c,u,p,d,m,h,f,v=a&&a.__k||qt,g=v.length;if(l==jt&&(l=null!=i?i[0]:g?ra(a,0):null),c=0,t.__k=ca(t.__k,(function(a){if(null!=a){if(a.__p=t,a.__b=t.__b+1,null===(p=v[c])||p&&a.key==p.key&&a.type===p.type)v[c]=void 0;else for(u=0;u<g;u++){if((p=v[u])&&a.key==p.key&&a.type===p.type){v[u]=void 0;break}p=null}if(d=ha(e,a,p=p||jt,n,r,i,o,null,l,s),(u=a.ref)&&p.ref!=u&&(f||(f=[])).push(u,a.__c||d,a),null!=d){if(null==h&&(h=d),null!=a.l)d=a.l,a.l=null;else if(i==p||d!=l||null==d.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(d);else{for(m=l,u=0;(m=m.nextSibling)&&u<g;u+=2)if(m==d)break e;e.insertBefore(d,l)}"option"==t.type&&(e.value="")}l=d.nextSibling,"function"==typeof t.type&&(t.l=d)}}return c++,a})),t.__e=h,null!=i&&"function"!=typeof t.type)for(c=i.length;c--;)null!=i[c]&&Qt(i[c]);for(c=g;c--;)null!=v[c]&&ya(v[c],v[c]);if(f)for(c=0;c<f.length;c++)ga(f[c],f[++c],f[++c])}function ca(e,t,a){if(null==a&&(a=[]),null==e||"boolean"==typeof e)t&&a.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)ca(e[n],t,a);else a.push(t?t(aa(e)):e);return a}function ua(e,t,a,n,r){var i;for(i in a)i in t||da(e,i,null,a[i],n);for(i in t)r&&"function"!=typeof t[i]||"value"===i||"checked"===i||a[i]===t[i]||da(e,i,t[i],a[i],n)}function pa(e,t,a){"-"===t[0]?e.setProperty(t,a):e[t]="number"==typeof a&&!1===Jt.test(t)?a+"px":null==a?"":a}function da(e,t,a,n,r){var i,o,l,s,c;if("key"===(t=r?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof a)i.cssText=a;else{if("string"==typeof n&&(i.cssText="",n=null),n)for(o in n)a&&o in a||pa(i,o,"");if(a)for(l in a)n&&a[l]===n[l]||pa(i,l,a[l])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),a?(n||e.addEventListener(t,ma,s),(e.t||(e.t={}))[t]=a):e.removeEventListener(t,ma,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&!r&&t in e?e[t]=null==a?"":a:"function"!=typeof a&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==a||!1===a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),a):null==a||!1===a?e.removeAttribute(t):e.setAttribute(t,a))}function ma(e){return this.t[e.type](m.event?m.event(e):e)}function ha(e,t,a,n,r,i,o,l,s,c){var u,p,d,h,f,v,g,y,x,b,w=t.type;if(void 0!==t.constructor)return null;(u=m.__b)&&u(t);try{e:if("function"==typeof w){if(y=t.props,x=(u=w.contextType)&&n[u.__c],b=u?x?x.props.value:u.__p:n,a.__c?g=(p=t.__c=a.__c).__p=p.__E:("prototype"in w&&w.prototype.render?t.__c=p=new w(y,b):(t.__c=p=new na(y,b),p.constructor=w,p.render=xa),x&&x.sub(p),p.props=y,p.state||(p.state={}),p.context=b,p.__n=n,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=w.getDerivedStateFromProps&&Kt(p.__s==p.state?p.__s=Kt({},p.__s):p.__s,w.getDerivedStateFromProps(y,p.__s)),d)null==w.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&o.push(p);else{if(null==w.getDerivedStateFromProps&&null==l&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,b),!l&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,b)){for(p.props=y,p.state=p.__s,p.__d=!1,p.__v=t,t.__e=null!=s?s!==a.__e?s:a.__e:null,t.__k=a.__k,u=0;u<t.__k.length;u++)t.__k[u]&&(t.__k[u].__p=t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,b)}for(h=p.props,f=p.state,p.context=b,p.props=y,p.state=p.__s,(u=m.__r)&&u(t),p.__d=!1,p.__v=t,p.__P=e,u=p.render(p.props,p.state,p.context),t.__k=ca(null!=u&&u.type==ta&&null==u.key?u.props.children:u),null!=p.getChildContext&&(n=Kt(Kt({},n),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(h,f)),sa(e,t,a,n,r,i,o,s,c),p.base=t.__e;u=p.__h.pop();)p.__s&&(p.state=p.__s),u.call(p);d||null==h||null==p.componentDidUpdate||p.componentDidUpdate(h,f,v),g&&(p.__E=p.__p=null)}else t.__e=va(a.__e,t,a,n,r,i,o,c);(u=m.diffed)&&u(t)}catch(e){m.__e(e,t,a)}return t.__e}function fa(e,t){for(var a;a=e.pop();)try{a.componentDidMount()}catch(e){m.__e(e,a.__v)}m.__c&&m.__c(t)}function va(e,t,a,n,r,i,o,l){var s,c,u,p,d=a.props,m=t.props;if(r="svg"===t.type||r,null==e&&null!=i)for(s=0;s<i.length;s++)if(null!=(c=i[s])&&(null===t.type?3===c.nodeType:c.localName===t.type)){e=c,i[s]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),i=null}return null===t.type?d!==m&&(null!=i&&(i[i.indexOf(e)]=null),e.data=m):t!==a&&(null!=i&&(i=qt.slice.call(e.childNodes)),u=(d=a.props||jt).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,l||(p||u)&&(p&&u&&p.__html==u.__html||(e.innerHTML=p&&p.__html||"")),ua(e,m,d,r,l),t.__k=t.props.children,p||sa(e,t,a,n,"foreignObject"!==t.type&&r,i,o,jt,l),l||("value"in m&&void 0!==m.value&&m.value!==e.value&&(e.value=null==m.value?"":m.value),"checked"in m&&void 0!==m.checked&&m.checked!==e.checked&&(e.checked=m.checked))),e}function ga(e,t,a){try{"function"==typeof e?e(t):e.current=t}catch(e){m.__e(e,a)}}function ya(e,t,a){var n,r,i;if(m.unmount&&m.unmount(e),(n=e.ref)&&ga(n,null,t),a||"function"==typeof e.type||(a=null!=(r=e.__e)),e.__e=e.l=null,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){m.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&ya(n[i],t,a);null!=r&&Qt(r)}function xa(e,t,a){return this.constructor(e,a)}function ba(e,t,a){var n,r,i;m.__p&&m.__p(e,t),r=(n=a===g)?null:a&&a.__k||t.__k,e=Zt(ta,null,[e]),i=[],ha(t,n?t.__k=e:(a||t).__k=e,r||jt,jt,void 0!==t.ownerSVGElement,a&&!n?[a]:r?null:qt.slice.call(t.childNodes),i,!1,a||jt,n),fa(i,e)}function wa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ca(e,t,a){return t&&wa(e.prototype,t),a&&wa(e,a),e}function _a(){return _a=Object.assign||function(e){for(var t=arguments,a=1;a<arguments.length;a++){var n=t[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(this,arguments)}m={},na.prototype.setState=function(e,t){var a=this.__s!==this.state&&this.__s||(this.__s=Kt({},this.state));("function"!=typeof e||(e=e(a,this.props)))&&Kt(a,e),null!=e&&this.__v&&(this.u=!1,t&&this.__h.push(t),oa(this))},na.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,oa(this))},na.prototype.render=ta,h=[],f="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,v=m.debounceRendering,m.__e=function(e,t,a){for(var n;t=t.__p;)if((n=t.__c)&&!n.__p)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(e));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(e)}return oa(n.__E=n)}catch(t){e=t}throw e},g=jt;var Sa="[-\\+]?\\d+%?",La="[-\\+]?\\d*\\.\\d+%?",Fa="(?:"+La+")|(?:"+Sa+")",ka="[\\s|\\(]+("+Fa+")[,|\\s]+("+Fa+")[,|\\s]+("+Fa+")\\s*\\)?",Pa="[\\s|\\(]+("+Fa+")[,|\\s]+("+Fa+")[,|\\s]+("+Fa+")[,|\\s]+("+Fa+")\\s*\\)?",Aa=new RegExp("rgb"+ka),Ea=new RegExp("rgba"+Pa),Ia=new RegExp("hsl"+ka),$a=new RegExp("hsla"+Pa),Na="^(?:#?|0x?)",Da="([0-9a-fA-F]{1})",Va="([0-9a-fA-F]{2})",Ta=new RegExp(Na+Da+Da+Da+"$"),Ba=new RegExp(Na+Da+Da+Da+Da+"$"),Ra=new RegExp(Na+Va+Va+Va+"$"),Ma=new RegExp(Na+Va+Va+Va+Va+"$"),Oa=2e3,Wa=4e4,Ha=Math.log,Ga=Math.round,za=Math.floor;function Xa(e,t,a){return Math.min(Math.max(e,t),a)}function Ya(e,t){var a=e.indexOf("%")>-1,n=parseFloat(e);return a?t/100*n:n}function Ua(e){return parseInt(e,16)}function ja(e){return e.toString(16).padStart(2,"0")}var qa=function(){function e(e,t){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=t,this.initialValue=_a({},this.$)}var t=e.prototype;return t.set=function(t){if("string"===typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!==typeof t)throw new Error("Invalid color value");t instanceof e?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin)}},t.setChannel=function(e,t,a){var n;this[e]=_a({},this[e],(n={},n[t]=a,n))},t.reset=function(){this.hsva=this.initialValue},t.clone=function(){return new e(this)},t.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(e){var t=e.h/60,a=e.s/100,n=e.v/100,r=za(t),i=t-r,o=n*(1-a),l=n*(1-i*a),s=n*(1-(1-i)*a),c=r%6,u=[n,l,o,o,s,n][c],p=[s,n,n,l,o,o][c],d=[o,o,s,n,n,l][c];return{r:Xa(255*u,0,255),g:Xa(255*p,0,255),b:Xa(255*d,0,255)}},e.rgbToHsv=function(e){var t=e.r/255,a=e.g/255,n=e.b/255,r=Math.max(t,a,n),i=Math.min(t,a,n),o=r-i,l=0,s=r,c=0===r?0:o/r;switch(r){case i:l=0;break;case t:l=(a-n)/o+(a<n?6:0);break;case a:l=(n-t)/o+2;break;case n:l=(t-a)/o+4;break}return{h:60*l%360,s:Xa(100*c,0,100),v:Xa(100*s,0,100)}},e.hsvToHsl=function(e){var t=e.s/100,a=e.v/100,n=(2-t)*a,r=n<=1?n:2-n,i=r<1e-9?0:t*a/r;return{h:e.h,s:Xa(100*i,0,100),l:Xa(50*n,0,100)}},e.hslToHsv=function(e){var t=2*e.l,a=e.s*(t<=100?t:200-t)/100,n=t+a<1e-9?0:2*a/(t+a);return{h:e.h,s:Xa(100*n,0,100),v:Xa((t+a)/2,0,100)}},e.kelvinToRgb=function(e){var t,a,n,r=e/100;return r<66?(t=255,a=-155.25485562709179-.44596950469579133*(a=r-2)+104.49216199393888*Ha(a),n=r<20?0:.8274096064007395*(n=r-10)-254.76935184120902+115.67994401066147*Ha(n)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*Ha(t),a=325.4494125711974+.07943456536662342*(a=r-50)-28.0852963507957*Ha(a),n=255),{r:Xa(za(t),0,255),g:Xa(za(a),0,255),b:Xa(za(n),0,255)}},e.rgbToKelvin=function(t){var a,n=t.r,r=t.b,i=.4,o=Oa,l=Wa;while(l-o>i){a=.5*(l+o);var s=e.kelvinToRgb(a);s.b/s.r>=r/n?l=a:o=a}return a},Ca(e,[{key:"hsv",get:function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},set:function(e){var t=this.$;if(e=_a({},t,e),this.onChange){var a={h:!1,v:!1,s:!1,a:!1};for(var n in t)a[n]=e[n]!=t[n];this.$=e,(a.h||a.s||a.v||a.a)&&this.onChange(this,a)}else this.$=e}},{key:"hsva",get:function(){return _a({},this.$)},set:function(e){this.hsv=e}},{key:"hue",get:function(){return this.$.h},set:function(e){this.hsv={h:e}}},{key:"saturation",get:function(){return this.$.s},set:function(e){this.hsv={s:e}}},{key:"value",get:function(){return this.$.v},set:function(e){this.hsv={v:e}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=_a({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){var e=this.rgb;return e.r},set:function(e){this.rgb=_a({},this.rgb,{r:e})}},{key:"green",get:function(){var e=this.rgb;return e.g},set:function(e){this.rgb=_a({},this.rgb,{g:e})}},{key:"blue",get:function(){var e=this.rgb;return e.b},set:function(e){this.rgb=_a({},this.rgb,{b:e})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),a=t.r,n=t.g,r=t.b;return{r:Ga(a),g:Ga(n),b:Ga(r)}},set:function(t){this.hsv=_a({},e.rgbToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"rgba",get:function(){return _a({},this.rgb,{a:this.alpha})},set:function(e){this.rgb=e}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),a=t.h,n=t.s,r=t.l;return{h:Ga(a),s:Ga(n),l:Ga(r)}},set:function(t){this.hsv=_a({},e.hslToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"hsla",get:function(){return _a({},this.hsl,{a:this.alpha})},set:function(e){this.hsl=e}},{key:"rgbString",get:function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},set:function(e){var t,a,n,r,i=1;if((t=Aa.exec(e))?(a=Ya(t[1],255),n=Ya(t[2],255),r=Ya(t[3],255)):(t=Ea.exec(e))&&(a=Ya(t[1],255),n=Ya(t[2],255),r=Ya(t[3],255),i=Ya(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:a,g:n,b:r,a:i}}},{key:"rgbaString",get:function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},set:function(e){this.rgbString=e}},{key:"hexString",get:function(){var e=this.rgb;return"#"+ja(e.r)+ja(e.g)+ja(e.b)},set:function(e){var t,a,n,r,i=255;if((t=Ta.exec(e))?(a=17*Ua(t[1]),n=17*Ua(t[2]),r=17*Ua(t[3])):(t=Ba.exec(e))?(a=17*Ua(t[1]),n=17*Ua(t[2]),r=17*Ua(t[3]),i=17*Ua(t[4])):(t=Ra.exec(e))?(a=Ua(t[1]),n=Ua(t[2]),r=Ua(t[3])):(t=Ma.exec(e))&&(a=Ua(t[1]),n=Ua(t[2]),r=Ua(t[3]),i=Ua(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:a,g:n,b:r,a:i/255}}},{key:"hex8String",get:function(){var e=this.rgba;return"#"+ja(e.r)+ja(e.g)+ja(e.b)+ja(za(255*e.a))},set:function(e){this.hexString=e}},{key:"hslString",get:function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},set:function(e){var t,a,n,r,i=1;if((t=Ia.exec(e))?(a=Ya(t[1],360),n=Ya(t[2],100),r=Ya(t[3],100)):(t=$a.exec(e))&&(a=Ya(t[1],360),n=Ya(t[2],100),r=Ya(t[3],100),i=Ya(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:a,s:n,l:r,a:i}}},{key:"hslaString",get:function(){var e=this.hsla;return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},set:function(e){this.hslString=e}}]),e}(),Ja={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function Ka(e){var t,a=e.width,n=e.sliderSize,r=e.borderWidth,i=e.handleRadius,o=e.padding,l=e.sliderShape,s="horizontal"===e.layoutDirection;return n=null!=(t=n)?t:2*o+2*i,"circle"===l?{handleStart:e.padding+e.handleRadius,handleRange:a-2*o-2*i,width:a,height:a,cx:a/2,cy:a/2,radius:a/2-r/2}:{handleStart:n/2,handleRange:a-n,radius:n/2,x:0,y:0,width:s?n:a,height:s?a:n}}function Qa(e,t){var a=t.hsva,n=t.rgb;switch(e.sliderType){case"red":return n.r/2.55;case"green":return n.g/2.55;case"blue":return n.b/2.55;case"alpha":return 100*a.a;case"kelvin":var r=e.minTemperature,i=e.maxTemperature,o=i-r,l=(t.kelvin-r)/o*100;return Math.max(0,Math.min(l,100));case"hue":return a.h/=3.6;case"saturation":return a.s;case"value":default:return a.v}}function Za(e,t,a){var n,r=Ka(e),i=r.handleRange,o=r.handleStart;n="horizontal"===e.layoutDirection?-1*a+i+o:t-o,n=Math.max(Math.min(n,i),0);var l=Math.round(100/i*n);switch(e.sliderType){case"kelvin":var s=e.minTemperature,c=e.maxTemperature,u=c-s;return s+u*(l/100);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}function en(e,t){var a=Ka(e),n=a.width,r=a.height,i=a.handleRange,o=a.handleStart,l="horizontal"===e.layoutDirection,s=Qa(e,t),c=l?n/2:r/2,u=o+s/100*i;return l&&(u=-1*u+i+2*o),{x:l?c:u,y:l?u:c}}function tn(e,t){var a=t.hsv,n=t.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+n.g+","+n.b+")"],[100,"rgb(255,"+n.g+","+n.b+")"]];case"green":return[[0,"rgb("+n.r+",0,"+n.b+")"],[100,"rgb("+n.r+",255,"+n.b+")"]];case"blue":return[[0,"rgb("+n.r+","+n.g+",0)"],[100,"rgb("+n.r+","+n.g+",255)"]];case"alpha":return[[0,"rgba("+n.r+","+n.g+","+n.b+",0)"],[100,"rgb("+n.r+","+n.g+","+n.b+")"]];case"kelvin":for(var r=[],i=e.minTemperature,o=e.maxTemperature,l=8,s=o-i,c=i,u=0;c<o;c+=s/l,u+=1){var p=qa.kelvinToRgb(c),d=p.r,m=p.g,h=p.b;r.push([100/l*u,"rgb("+d+","+m+","+h+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var f=qa.hsvToHsl({h:a.h,s:0,v:a.v}),v=qa.hsvToHsl({h:a.h,s:100,v:a.v});return[[0,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"],[100,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"]];case"value":default:var g=qa.hsvToHsl({h:a.h,s:a.s,v:100});return[[0,"#000"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]]}}var an,nn=2*Math.PI,rn=function(e,t){return(e%t+t)%t},on=function(e,t){return Math.sqrt(e*e+t*t)};function ln(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function sn(e,t,a){var n=cn(e),r=n.cx,i=n.cy,o=e.width/2;return on(r-t,i-a)<o}function cn(e){var t=e.width/2;return{width:e.width,radius:t-e.borderWidth,cx:t,cy:t}}function un(e,t,a){var n=e.wheelAngle,r=e.wheelDirection;return a&&"clockwise"===r?t=n+t:"clockwise"===r?t=360-n+t:a&&"anticlockwise"===r?t=n+180-t:"anticlockwise"===r&&(t=n-t),rn(t,360)}function pn(e,t){var a=t.hsv,n=cn(e),r=n.cx,i=n.cy,o=ln(e),l=(180+un(e,a.h,!0))*(nn/360),s=a.s/100*o,c="clockwise"===e.wheelDirection?-1:1;return{x:r+s*Math.cos(l)*c,y:i+s*Math.sin(l)*c}}function dn(e,t,a){var n=cn(e),r=n.cx,i=n.cy,o=ln(e);t=r-t,a=i-a;var l=un(e,Math.atan2(-a,-t)*(360/nn)),s=Math.min(on(t,a),o);return{h:Math.round(l),s:Math.round(100/o*s)}}function mn(e){var t=e.width,a=e.boxHeight,n=e.padding,r=e.handleRadius;return{width:t,height:null!=a?a:t,radius:n+r}}function hn(e,t,a){var n=mn(e),r=n.width,i=n.height,o=n.radius,l=o,s=r-2*o,c=i-2*o,u=(t-l)/s*100,p=(a-l)/c*100;return{s:Math.max(0,Math.min(u,100)),v:Math.max(0,Math.min(100-p,100))}}function fn(e,t){var a=mn(e),n=a.width,r=a.height,i=a.radius,o=t.hsv,l=i,s=n-2*i,c=r-2*i;return{x:l+o.s/100*s,y:l+(c-o.v/100*c)}}function vn(e,t){var a=t.hue;return[[[0,"#fff"],[100,"hsl("+a+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}function gn(e){an||(an=document.getElementsByTagName("base"));var t=window.navigator.userAgent,a=/^((?!chrome|android).)*safari/i.test(t),n=/iPhone|iPod|iPad/i.test(t),r=window.location;return(a||n)&&an.length>0?r.protocol+"//"+r.host+r.pathname+r.search+e:e}function yn(e,t,a,n){for(var r=0;r<n.length;r++){var i=n[r].x-t,o=n[r].y-a,l=Math.sqrt(i*i+o*o);if(l<e.handleRadius)return r}return null}function xn(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function bn(e,t,a){return e+"-gradient("+t+", "+a.map((function(e){var t=e[0],a=e[1];return a+" "+t+"%"})).join(",")+")"}function wn(e){return"string"===typeof e?e:e+"px"}var Cn={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},_n=["mousemove","touchmove","mouseup","touchend"],Sn=function(e){function t(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=this.handleEvent.bind(this),a={onMouseDown:t,ontouchstart:t},n="horizontal"===e.layoutDirection,r=null===e.margin?e.sliderMargin:e.margin,i={overflow:"visible",display:n?"inline-block":"block"};return e.index>0&&(i[n?"marginLeft":"marginTop"]=r),Zt(ta,null,e.children(this.uid,a,i))},t.prototype.handleEvent=function(e){var t=this,a=this.props.onInput,n=this.base.getBoundingClientRect();e.preventDefault();var r=e.touches?e.changedTouches[0]:e,i=r.clientX-n.left,o=r.clientY-n.top;switch(e.type){case"mousedown":case"touchstart":var l=a(i,o,0);!1!==l&&_n.forEach((function(e){document.addEventListener(e,t,{passive:!1})}));break;case"mousemove":case"touchmove":a(i,o,1);break;case"mouseup":case"touchend":a(i,o,2),_n.forEach((function(e){document.removeEventListener(e,t,{passive:!1})}));break}},t}(na);function Ln(e){var t=e.r,a=e.url,n=t,r=t;return Zt("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+wn(e.x)+", "+wn(e.y)+")",willChange:"transform",top:wn(-t),left:wn(-t),width:wn(2*t),height:wn(2*t),position:"absolute",overflow:"visible"}},a&&Zt("use",Object.assign({xlinkHref:gn(a)},e.props)),!a&&Zt("circle",{cx:n,cy:r,r:t,fill:"none","stroke-width":2,stroke:"#000"}),!a&&Zt("circle",{cx:n,cy:r,r:t-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}function Fn(e){var t=e.activeIndex,a=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,n=Ka(e),r=n.width,i=n.height,o=n.radius,l=en(e,a),s=tn(e,a);function c(t,n,r){var i=Za(e,t,n);e.parent.inputActive=!0,a[e.sliderType]=i,e.onInput(r,e.id)}return Zt(Sn,Object.assign({},e,{onInput:c}),(function(t,n,c){return Zt("div",Object.assign({},n,{className:"IroSlider",style:Object.assign({},{position:"relative",width:wn(r),height:wn(i),borderRadius:wn(o),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},c)}),Zt("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:wn(o),background:bn("linear","horizontal"===e.layoutDirection?"to top":"to right",s)},xn(e))}),Zt(Ln,{isActive:!0,index:a.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l.x,y:l.y}))}))}function kn(e){var t=mn(e),a=t.width,n=t.height,r=t.radius,i=e.colors,o=e.parent,l=e.activeIndex,s=void 0!==l&&l<e.colors.length?e.colors[l]:e.color,c=vn(e,s),u=i.map((function(t){return fn(e,t)}));function p(t,a,n){if(0===n){var r=yn(e,t,a,u);null!==r?o.setActiveColor(r):(o.inputActive=!0,s.hsv=hn(e,t,a),e.onInput(n,e.id))}else 1===n&&(o.inputActive=!0,s.hsv=hn(e,t,a));e.onInput(n,e.id)}return Zt(Sn,Object.assign({},e,{onInput:p}),(function(t,o,l){return Zt("div",Object.assign({},o,{className:"IroBox",style:Object.assign({},{width:wn(a),height:wn(n),position:"relative"},l)}),Zt("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:wn(r)},xn(e),{background:bn("linear","to bottom",c[1])+","+bn("linear","to right",c[0])})}),i.filter((function(e){return e!==s})).map((function(t){return Zt(Ln,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[t.index].x,y:u[t.index].y})})),Zt(Ln,{isActive:!0,index:s.index,fill:s.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[s.index].x,y:u[s.index].y}))}))}Ln.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},Fn.defaultProps=Object.assign({},Ja);var Pn="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",An="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function En(e){var t=cn(e),a=t.width,n=e.colors,r=(e.borderWidth,e.parent),i=e.color,o=i.hsv,l=n.map((function(t){return pn(e,t)})),s={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function c(t,a,n){if(0===n){if(!sn(e,t,a))return!1;var o=yn(e,t,a,l);null!==o?r.setActiveColor(o):(r.inputActive=!0,i.hsv=dn(e,t,a),e.onInput(n,e.id))}else 1===n&&(r.inputActive=!0,i.hsv=dn(e,t,a));e.onInput(n,e.id)}return Zt(Sn,Object.assign({},e,{onInput:c}),(function(t,r,c){return Zt("div",Object.assign({},r,{className:"IroWheel",style:Object.assign({},{width:wn(a),height:wn(a),position:"relative"},c)}),Zt("div",{className:"IroWheelHue",style:Object.assign({},s,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:"clockwise"===e.wheelDirection?Pn:An})}),Zt("div",{className:"IroWheelSaturation",style:Object.assign({},s,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&Zt("div",{className:"IroWheelLightness",style:Object.assign({},s,{background:"#000",opacity:1-o.v/100})}),Zt("div",{className:"IroWheelBorder",style:Object.assign({},s,xn(e))}),n.filter((function(e){return e!==i})).map((function(t){return Zt(Ln,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l[t.index].x,y:l[t.index].y})})),Zt(Ln,{isActive:!0,index:i.index,fill:i.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l[i.index].x,y:l[i.index].y}))}))}function In(e){var t=function(t,a){var n,r=document.createElement("div");function i(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(n.base),n.onMount(e)}return ba(Zt(e,Object.assign({},{ref:function(e){return n=e}},a)),r),"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i),n};return t.prototype=e.prototype,Object.assign(t,e),t.__component=e,t}var $n=function(e){function t(t){var a=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id;var n=t.colors.length>0?t.colors:[t.color];n.forEach((function(e){return a.addColor(e)})),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addColor=function(e,t){void 0===t&&(t=this.colors.length);var a=new qa(e,this.onColorChange.bind(this));this.colors.splice(t,0,a),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",a)},t.prototype.removeColor=function(e){var t=this.colors.splice(e,1)[0];t.unbind(),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(e,t){var a=this;void 0===t&&(t=0),this.colors.forEach((function(e){return e.unbind()})),this.colors=[],e.forEach((function(e){return a.addColor(e)})),this.setActiveColor(t),this.emit("color:setAll",this.colors)},t.prototype.on=function(e,t){var a=this,n=this.events;(Array.isArray(e)?e:[e]).forEach((function(e){(n[e]||(n[e]=[])).push(t),a.deferredEvents[e]&&(a.deferredEvents[e].forEach((function(e){t.apply(null,e)})),a.deferredEvents[e]=[])}))},t.prototype.off=function(e,t){var a=this;(Array.isArray(e)?e:[e]).forEach((function(e){var n=a.events[e];n&&n.splice(n.indexOf(t),1)}))},t.prototype.emit=function(e){var t=this,a=[],n=arguments.length-1;while(n-- >0)a[n]=arguments[n+1];var r=this.activeEvents,i=!!r.hasOwnProperty(e)&&r[e];if(!i){r[e]=!0;var o=this.events[e]||[];o.forEach((function(e){return e.apply(t,a)})),r[e]=!1}},t.prototype.deferredEmit=function(e){var t,a=[],n=arguments.length-1;while(n-- >0)a[n]=arguments[n+1];var r=this.deferredEvents;(t=this).emit.apply(t,[e].concat(a)),(r[e]||(r[e]=[])).push(a)},t.prototype.setOptions=function(e){this.setState(e)},t.prototype.resize=function(e){this.setOptions({width:e})},t.prototype.reset=function(){this.colors.forEach((function(e){return e.reset()})),this.setState({colors:this.colors})},t.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(e,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,t)),this.emit("color:change",e,t)},t.prototype.emitInputEvent=function(e,t){0===e?this.emit("input:start",this.color,t):1===e?this.emit("input:move",this.color,t):2===e&&this.emit("input:end",this.color,t)},t.prototype.render=function(e,t){var a=this,n=t.layout;if(!Array.isArray(n)){switch(n){default:n=[{component:En},{component:Fn}]}t.transparency&&n.push({component:Fn,options:{sliderType:"alpha"}})}return Zt("div",{class:"IroColorPicker",id:t.id,style:{display:t.display}},n.map((function(e,n){var r=e.component,i=e.options;return Zt(r,Object.assign({},t,i,{ref:void 0,onInput:a.emitInputEvent.bind(a),parent:a,index:n}))})))},t}(na);$n.defaultProps=Object.assign({},Cn,{colors:[],display:"block",id:null,layout:"default",margin:null});var Nn,Dn=In($n);(function(e){e.version="5.5.2",e.Color=qa,e.ColorPicker=Dn,function(e){e.h=Zt,e.ComponentBase=Sn,e.Handle=Ln,e.Slider=Fn,e.Wheel=En,e.Box=kn}(e.ui||(e.ui={}))})(Nn||(Nn={}));var Vn=Nn,Tn=Vn,Bn={name:"ModalColorPicker",components:{},props:{},data:function(){return{screen:"basicColors",target:null,scriptParam:null,colorPicker:null,currentColor:{hex:"#FFFFFF"},colorGrid:{rows:[{id:"row1",colors:[{hex:"#000000"}]}]}}},methods:{selectCurrentColor:function(){this.selectColor(this.currentColor)},selectColor:function(e){"fillStyle"==this.target?window.ctx.fillStyle=e.hex:"strokeStyle"==this.target?window.ctx.strokeStyle=e.hex:"scriptParam"==this.target&&(this.scriptParam.value=e.hex,this.$parent.$refs.scriptWithParamsPanel.$forceUpdate()),window.$("#modalColorPicker").modal("hide"),this.$parent.updateCurrentContextDetails(),this.target=null},addColorToGrid:function(e,t){var a={hex:t};this.colorGrid.rows[e].colors.push(a)},buildColorGrid:function(){this.colorGrid.rows[0].colors=[],this.addColorToGrid(0,"#000000"),this.addColorToGrid(0,"#222222"),this.addColorToGrid(0,"#444444"),this.addColorToGrid(0,"#666666"),this.addColorToGrid(0,"#888888"),this.addColorToGrid(0,"#AAAAAA"),this.addColorToGrid(0,"#CCCCCC"),this.addColorToGrid(0,"#DDDDDD"),this.addColorToGrid(0,"#EEEEEE"),this.addColorToGrid(0,"#FFFFFF");var e={id:"row2",colors:[]};this.colorGrid.rows.push(e),this.addColorToGrid(1,"#FF0000"),this.addColorToGrid(1,"#FF8800"),this.addColorToGrid(1,"#FFFF00"),this.addColorToGrid(1,"#00FF00"),this.addColorToGrid(1,"#00FFFF"),this.addColorToGrid(1,"#0088FF"),this.addColorToGrid(1,"#0000FF"),this.addColorToGrid(1,"#8800FF"),this.addColorToGrid(1,"#FF00FF"),this.addColorToGrid(1,"#880000"),this.buildRow(192),this.buildRow(128),this.buildRow(64),this.buildRow(-64),this.buildRow(-128),this.buildRow(-192)},buildRow:function(e){var t=this.colorGrid.rows.length,a="row"+t+1,n={id:a,colors:[]};this.colorGrid.rows.push(n);for(var r=0;r<10;r++){var i=this.colorGrid.rows[1].colors[r].hex,o=this.changeColor(i,e);this.addColorToGrid(t,o)}},changeColor:function(e,t){var a=x.hexToRgb(e),n=x.rgbAdd(a,t),r=x.rgbToHex(n);return r},setCurrentColor:function(e){this.currentColor.hex=e,this.colorPicker.color.hexString=e}},mounted:function(){this.buildColorGrid();var e=new Tn.ColorPicker("#colorPicker",{layout:[{component:Tn.ui.Box,options:{}},{component:Tn.ui.Slider,options:{sliderType:"hue"}},{component:Tn.ui.Slider,options:{sliderType:"alpha"}}]});this.colorPicker=e;var t=this;e.on("color:change",(function(e){t.currentColor.hex=e.hex8String}))}},Rn=Bn,Mn=(a("a9bb"),Object(k["a"])(Rn,Yt,Ut,!1,null,"0f8f1538",null)),On=Mn.exports,Wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M7 16c.55 0 1 .45 1 1 0 1.1-.9 2-2 2-.17 0-.33-.02-.5-.05.31-.55.5-1.21.5-1.95 0-.55.45-1 1-1M18.67 3c-.26 0-.51.1-.71.29L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41l-1.34-1.34c-.2-.2-.45-.29-.7-.29zM7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3z"}})])},Hn=[],Gn={name:"IconBrush",props:{color:{type:String,default:"#000000"}}},zn=Gn,Xn=Object(k["a"])(zn,Wn,Hn,!1,null,"ed10066c",null),Yn=Xn.exports,Un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#00000000"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"8",stroke:"white","stroke-width":"3",fill:"#00000000"}})])},jn=[],qn={name:"IconCircle",props:{color:{type:String,default:"#000000"}}},Jn=qn,Kn=Object(k["a"])(Jn,Un,jn,!1,null,"245b1e52",null),Qn=Kn.exports,Zn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"3",y:"3",width:"12",height:"12","stroke-width":"2",stroke:"white",fill:"#00000000"}})])},er=[],tr={name:"IconRectangle",props:{color:{type:String,default:"#000000"}}},ar=tr,nr=Object(k["a"])(ar,Zn,er,!1,null,"668816fc",null),rr=nr.exports,ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"black",width:"18px",height:"18px"}},[a("line",{attrs:{x1:"3",y1:"3",x2:"15",y2:"15",stroke:"white","stroke-width":"2"}})])},or=[],lr={name:"IconLine",props:{color:{type:String,default:"#000000"}}},sr=lr,cr=Object(k["a"])(sr,ir,or,!1,null,"7cbee4ac",null),ur=cr.exports,pr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("ellipse",{attrs:{cx:"9",cy:"9",rx:"7",ry:"5",stroke:"white","stroke-width":"2",fill:"#00000000"}})])},dr=[],mr={name:"IconEllipse",props:{color:{type:String,default:"#000000"}}},hr=mr,fr=Object(k["a"])(hr,pr,dr,!1,null,"5fb03d42",null),vr=fr.exports,gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1px",height:"18px",fill:"#00000000"}})},yr=[],xr={name:"IconNone",props:{color:{type:String,default:"#000000"}}},br=xr,wr=Object(k["a"])(br,gr,yr,!1,null,"ab28acae",null),Cr=wr.exports,_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}})])},Sr=[],Lr={name:"IconDonate",props:{color:{type:String,default:"#000000"}}},Fr=Lr,kr=Object(k["a"])(Fr,_r,Sr,!1,null,"23df20ea",null),Pr=kr.exports,Ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])},Er=[],Ir={name:"IconBack",props:{color:{type:String,default:"#000000"}}},$r=Ir,Nr=Object(k["a"])($r,Ar,Er,!1,null,"37a9ab3e",null),Dr=Nr.exports,Vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticClass:"bi bi-eraser-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}})])},Tr=[],Br={name:"IconEraser",props:{color:{type:String,default:"#000000"}}},Rr=Br,Mr=Object(k["a"])(Rr,Vr,Tr,!1,null,"77ef27be",null),Or=Mr.exports,Wr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:e.color,d:"M21.143 9.667c-.733-1.392-1.914-3.05-3.617-4.753-2.977-2.978-5.478-3.914-6.785-3.914-.414 0-.708.094-.86.246l-1.361 1.36c-1.899-.236-3.42.106-4.294.983-.876.875-1.164 2.159-.792 3.523.492 1.806 2.305 4.049 5.905 5.375.038.323.157.638.405.885.588.588 1.535.586 2.121 0s.588-1.533.002-2.119c-.588-.587-1.537-.588-2.123-.001l-.17.256c-2.031-.765-3.395-1.828-4.232-2.9l3.879-3.875c.496 2.73 6.432 8.676 9.178 9.178l-7.115 7.107c-.234.153-2.798-.316-6.156-3.675-3.393-3.393-3.175-5.271-3.027-5.498l1.859-1.856c-.439-.359-.925-1.103-1.141-1.689l-2.134 2.131c-.445.446-.685 1.064-.685 1.82 0 1.634 1.121 3.915 3.713 6.506 2.764 2.764 5.58 4.243 7.432 4.243.648 0 1.18-.195 1.547-.562l8.086-8.078c.91.874-.778 3.538-.778 4.648 0 1.104.896 1.999 2 1.999 1.105 0 2-.896 2-2 0-3.184-1.425-6.81-2.857-9.34zm-16.209-5.371c.527-.53 1.471-.791 2.656-.761l-3.209 3.206c-.236-.978-.049-1.845.553-2.445zm9.292 4.079l-.03-.029c-1.292-1.292-3.803-4.356-3.096-5.063.715-.715 3.488 1.521 5.062 3.096.862.862 2.088 2.247 2.937 3.458-1.717-1.074-3.491-1.469-4.873-1.462z"}})])},Hr=[],Gr={name:"IconBucketFill",props:{color:{type:String,default:"#000000"}}},zr=Gr,Xr=Object(k["a"])(zr,Wr,Hr,!1,null,"6b4b9f41",null),Yr=Xr.exports,Ur=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"}})])},jr=[],qr={name:"IconMove",props:{color:{type:String,default:"#000000"}}},Jr=qr,Kr=Object(k["a"])(Jr,Ur,jr,!1,null,"8afed674",null),Qr=Kr.exports,Zr={name:"Main",components:{MainMenu:N,IconEdit:W,IconBrush:Yn,IconCircle:Qn,IconRectangle:rr,IconLine:ur,IconEllipse:vr,IconNone:Cr,IconExecute:it,IconDonate:Pr,IconBack:Dr,IconEraser:Or,IconBucketFill:Yr,IconMove:Qr,ModalExport:Nt,ModalPasteImageFromClipboard:Mt,ModalHelp:Xt,ModalColorPicker:On,ContextPanel:K,LayersPanel:fe,EventsPanel:we,ImagesPanel:Ne,FontsPanel:Me,GlobalVariablesPanel:Xe,LogsPanel:Ke,ScriptWithParamsPanel:ft,ConfigureScriptPanel:kt},methods:{getToolClass:function(e){return this.currentTool==e?"btn btn-dark btn-sm":"btn btn-primary btn-sm"},loadFont:function(){this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var e=this.fontPanelForm.fontURL,t="url(".concat(e,")"),a=new FontFace(this.fontPanelForm.fontName,t),n=this;a.load().then((function(e){document.fonts.add(e);var t={name:e.family,font:e};n.fonts.push(t)}))},onFontUpload:function(e){var t=e.target.files[0],a=URL.createObjectURL(t),n="url(".concat(a,")");this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var r=new FontFace(this.fontPanelForm.fontName,n),i=this;r.load().then((function(e){document.fonts.add(e);var t={name:e.family,font:e};i.fonts.push(t)}))},setCurrentTool:function(e){this.currentTool=e,"pencil"==e?(window.ctx.lineWidth=3,window.ctx.filter="none"):"brush"==e&&(window.ctx.lineWidth=20,window.ctx.filter="blur(3px)"),this.updateCurrentContextDetails()},onCanvasMouseUp:function(e){this.isMouseDown=!1;var t=!1;"line"==this.currentTool?(this.drawLine(),t=!0):"rectangle"==this.currentTool?(this.drawRect(),t=!0):"circle"==this.currentTool?(this.drawCircle(),t=!0):"ellipse"==this.currentTool&&(this.drawEllipse(),t=!0);for(var a=0;a<this.customEvents.length;a++){var n=this.customEvents[a];"mouseUp"==n.type&&n.enabled&&(n.func(),t=!0)}t&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseDown:function(e){this.isMouseDown=!0,this.updateMouseDownPosition(e);var t=!1;if("pencil"==this.currentTool||"brush"==this.currentTool)this.paintBrush(),t=!0;else if("move"==this.currentTool){var a=window.ctx.canvas.width,n=window.ctx.canvas.height;this.mouseDownCanvas=document.createElement("canvas"),this.mouseDownCanvas.width=a,this.mouseDownCanvas.height=n;var r=this.mouseDownCanvas.getContext("2d");r.drawImage(window.ctx.canvas,0,0)}else if("bucketFill"==this.currentTool){var i=null;if(window.ctx.fillStyle.startsWith("#"))i=x.hexToRgb(window.ctx.fillStyle),i.a=255;else if(window.ctx.fillStyle.startsWith("rgba")){var o=window.ctx.fillStyle.substring(5);o=o.substring(0,o.length-1);var l=o.split(",");i={r:Number(l[0]),g:Number(l[1]),b:Number(l[2]),a:255*Number(l[3])}}null!=i&&x.floodFill(window.ctx,i,this.mousePosition.x,this.mousePosition.y)}for(var s=0;s<this.customEvents.length;s++){var c=this.customEvents[s];"mouseDown"==c.type&&c.enabled&&(c.func(),t=!0)}t&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseMove:function(e){if(this.updateMousePosition(e),this.isMouseDown)if("pencil"==this.currentTool||"brush"==this.currentTool)this.paintBrush();else if("move"==this.currentTool){var t=window.ctx.canvas.width,a=window.ctx.canvas.height,n=this.mousePosition.x-this.mouseDownPosition.x,r=this.mousePosition.y-this.mouseDownPosition.y,i=this.mouseDownCanvas.getContext("2d");window.ctx.save(),window.ctx.setTransform(1,0,0,1,0,0),window.ctx.clearRect(0,0,t,a),window.ctx.restore(),window.ctx.putImageData(i.getImageData(0,0,t,a),n,r)}else"eraser"==this.currentTool&&(window.ctx.save(),window.ctx.globalCompositeOperation="destination-out",window.ctx.lineWidth=20,window.ctx.filter="blur(3px)",this.paintBrush(),window.ctx.restore());for(var o=0;o<this.customEvents.length;o++){var l=this.customEvents[o];"mouseMove"==l.type&&l.enabled&&l.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()},drawLine:function(){var e=window.ctx;e.beginPath(),e.moveTo(this.mouseDownPosition.x,this.mouseDownPosition.y),e.lineTo(this.mousePosition.x,this.mousePosition.y),e.stroke()},drawRect:function(){var e=window.ctx;e.beginPath(),e.rect(this.mouseDownPosition.x,this.mouseDownPosition.y,this.mousePosition.x-this.mouseDownPosition.x,this.mousePosition.y-this.mouseDownPosition.y),e.stroke()},drawCircle:function(){var e=(this.mousePosition.x+this.mouseDownPosition.x)/2,t=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x),n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y),r=Math.min(a,n)/2,i=window.ctx;i.beginPath(),i.arc(e,t,r,0,2*Math.PI),i.stroke()},drawEllipse:function(){var e=(this.mousePosition.x+this.mouseDownPosition.x)/2,t=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x)/2,n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y)/2,r=0,i=0,o=2*Math.PI,l=!1,s=window.ctx;s.beginPath(),s.ellipse(e,t,a,n,r,i,o,l),s.stroke()},paintBrush:function(){ctx.save(),ctx.beginPath(),ctx.lineCap="round",ctx.moveTo(this.previousMousePosition.x,this.previousMousePosition.y),ctx.lineTo(this.mousePosition.x,this.mousePosition.y),ctx.stroke(),ctx.restore()},updateMousePosition:function(e){var t=null;"canvasAllLayers"==e.target.id?t=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==e.target.id&&(t=document.getElementById("canvasCurrentLayer")),this.previousMousePosition.x=this.mousePosition.x,this.previousMousePosition.y=this.mousePosition.y,this.mousePosition.x=e.clientX-t.offsetLeft,this.mousePosition.y=e.clientY-t.offsetTop},updateMouseDownPosition:function(e){var t=null;"canvasAllLayers"==e.target.id?t=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==e.target.id&&(t=document.getElementById("canvasCurrentLayer")),this.mouseDownPosition.x=e.clientX-t.offsetLeft,this.mouseDownPosition.y=e.clientY-t.offsetTop},editGlobalVariable:function(e){var t=prompt("New value",""),a=prompt("New type","number");"number"==a&&(t=Number(t)),this.globalVariables[e]=t,this.$forceUpdate()},deleteGlobalVariable:function(e){delete this.globalVariables[e],this.$forceUpdate()},popupAddGlobalVariable:function(){var e=prompt("Variable name",""),t=prompt("Type","number"),a=prompt("Value","");"number"==t&&(a=Number(a)),this.addGlobalVariable(e,a),this.$forceUpdate()},addGlobalVariable:function(e,t){this.globalVariables[e]=t},combineLayers:function(e,t){for(var a=this.getLayerByName(e),n=a.canvas.getContext("2d"),r=n.getImageData(0,0,this.canvasWidth,this.canvasHeight),i=this.getLayerByName(t),o=i.canvas.getContext("2d"),l=o.getImageData(0,0,this.canvasWidth,this.canvasHeight),s=0;s<r.data.length;s+=4)r.data[s+3]=r.data[s+3]*(l.data[s+3]/255);n.putImageData(r,0,0)},updateCanvasAllLayers:function(){var e=document.getElementById("canvasAllLayers").getContext("2d");e.save(),e.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawTiledBackground(e),this.drawAllLayers(e),e.restore()},updateCurrentLayerCanvas:function(){if(null!=this.currentLayer){var e=document.getElementById("canvasCurrentLayer").getContext("2d");this.drawTiledBackground(e),e.save(),e.globalAlpha=this.currentLayer.alpha,e.drawImage(this.currentLayer.canvas,0,0),e.restore()}},clearCurrentLayer:function(){ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},clearFilters:function(){ctx.filter="none",this.updateCurrentContextDetails()},saveContext:function(){ctx.save()},restoreContext:function(){ctx.restore(),this.updateCurrentContextDetails()},clip:function(){ctx.clip()},resetTransform:function(){ctx.setTransform(1,0,0,1,0,0),this.updateCurrentContextDetails()},resetContextAttribute:function(e){var t=window.ctx;"fillStyle"==e?t.fillStyle="#000000":"strokeStyle"==e?t.strokeStyle="#000000":"font"==e?t.font="10px sans-serif":"globalAlpha"==e?t.globalAlpha="1":"lineWidth"==e?t.lineWidth="1":"lineCap"==e?t.lineCap="butt":"lineJoin"==e?t.lineJoin="miter":"filter"==e?t.filter="none":"shadowBlur"==e?t.shadowBlur="0":"shadowColor"==e?t.shadowColor="rgba(0, 0, 0, 0)":"shadowOffsetX"==e?t.shadowOffsetX="0":"shadowOffsetY"==e?t.shadowOffsetY="0":"lineDashOffset"==e?t.lineDashOffset=0:"textAlign"==e?t.textAlign="start":"miterLimit"==e?t.miterLimit=10:"textBaseline"==e?t.textBaseline="alphabetic":"globalCompositeOperation"==e?t.globalCompositeOperation="source-over":"lineDash"==e&&t.setLineDash([]),this.updateCurrentContextDetails()},buildBackgroundCanvas:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");t.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var a=!0,n=!0,r=10,i=0;i<this.canvasWidth;i+=r){n=a;for(var o=0;o<this.canvasHeight;o+=r)t.fillStyle=n?"#cccccc":"#eeeeee",t.fillRect(i,o,r,r),n=!n;a=!a}return e},addLayerWithName:function(e){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight,t.getContext("2d").clearRect(0,0,this.canvasWidth,this.canvasHeight);var a={name:e,alpha:1,canvas:t,visible:!0};this.canvasLayers.push(a)},duplicateCurrentLayer:function(){this.duplicateLayer(this.currentLayer)},duplicateLayer:function(e,t){null==t&&(t=prompt("New layer name","")),"string"==typeof e&&(e=this.getLayerByName(e));var a=document.createElement("canvas");a.width=this.canvasWidth,a.height=this.canvasHeight;var n=a.getContext("2d");n.drawImage(e.canvas,0,0);var r={name:t,alpha:e.alpha,canvas:a,visible:e.visible};this.canvasLayers.push(r)},deleteCurrentLayer:function(){this.deleteLayer(this.currentLayer)},deleteLayerByName:function(e){this.deleteLayer(this.getLayerByName(e))},deleteLayer:function(e){var t=this.getLayerIndex(e);this.canvasLayers.splice(t,1),e==this.currentLayer&&this.canvasLayers.length>0&&this.setCurrentLayer(this.canvasLayers[0].name),this.updateCanvasAllLayers()},deleteCustomEvent:function(e){var t=this.getCustomEventIndex(e);this.customEvents.splice(t,1)},renderLayerToContext:function(e,t){t.save(),t.globalAlpha=e.alpha,t.drawImage(e.canvas,0,0),t.restore()},setCurrentLayer:function(e){var t=this.getLayerByName(e);null!=t&&(this.currentLayer=t,window.ctx=t.canvas.getContext("2d"),this.updateCurrentContextDetails()),this.updateCurrentLayerCanvas()},getImageByName:function(e){for(var t=0;t<this.images.length;t++){var a=this.images[t];if(a.name==e)return a}return null},getLayerByName:function(e){for(var t=0;t<this.canvasLayers.length;t++){var a=this.canvasLayers[t];if(a.name==e)return a}return null},getCurrentLayerIndex:function(){for(var e=0;e<this.canvasLayers.length;e++){var t=this.canvasLayers[e];if(t==this.currentLayer)return e}return null},getLayerIndex:function(e){for(var t=0;t<this.canvasLayers.length;t++){var a=this.canvasLayers[t];if(a==e)return t}return null},getCustomEventIndex:function(e){for(var t=0;t<this.customEvents.length;t++){var a=this.customEvents[t];if(a.name==e.name)return t}return null},getCurrentLayer:function(){return this.currentLayer},getCurrentCanvas:function(){return this.getCurrentLayer().canvas},getCurrentContext:function(){return this.getCurrentCanvas().getContext("2d")},updateCurrentContextDetails:function(){var e=null;null!=this.currentLayer&&(e=this.currentLayer.canvas,this.ctx.fillStyle=e.getContext("2d").fillStyle,this.ctx.strokeStyle=e.getContext("2d").strokeStyle,this.ctx.lineWidth=e.getContext("2d").lineWidth,this.ctx.lineCap=e.getContext("2d").lineCap,this.ctx.lineJoin=e.getContext("2d").lineJoin,this.ctx.miterLimit=e.getContext("2d").miterLimit,this.ctx.font=e.getContext("2d").font,this.ctx.textAlign=e.getContext("2d").textAlign,this.ctx.globalAlpha=e.getContext("2d").globalAlpha,this.ctx.globalCompositeOperation=e.getContext("2d").globalCompositeOperation,this.ctx.transform=e.getContext("2d").getTransform(),this.ctx.lineDash=e.getContext("2d").getLineDash(),this.ctx.filter=e.getContext("2d").filter,this.ctx.shadowBlur=e.getContext("2d").shadowBlur,this.ctx.shadowColor=e.getContext("2d").shadowColor,this.ctx.shadowOffsetX=e.getContext("2d").shadowOffsetX,this.ctx.shadowOffsetY=e.getContext("2d").shadowOffsetY,this.ctx.lineDashOffset=e.getContext("2d").lineDashOffset,this.ctx.textBaseline=e.getContext("2d").textBaseline)},configScript:function(e){for(var t=0;t<this.savedScripts.length;t++)if(this.savedScripts[t].name==e){var a=this.savedScripts[t];this.$refs.configureScriptPanel.setCurrentScript(a),this.visiblePanels["configureScript"]=!0}},executeSavedScript:function(e,t){for(var a=0;a<this.savedScripts.length;a++)if(this.savedScripts[a].name==e){null==t&&(t={});var n=this.savedScripts[a].func(t);return this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),n}},executeEditedSampleScript:function(){var e=this.editedSampleScript,t=new Function("params",e),a={};t(a),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScript:function(e,t){for(var a=0;a<this.allSampleScripts.length;a++)this.allSampleScripts[a].name==e&&(null==t&&(t={}),this.allSampleScripts[a].func(t));this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScriptWithParams:function(){this.clearLayerBeforeExecutingScriptWithParams&&this.clearCurrentLayer();var e={};if(null!=this.selectedSampleScriptWithParams.params)for(var t=0;t<this.selectedSampleScriptWithParams.params.length;t++){var a=this.selectedSampleScriptWithParams.params[t];null==a.value?e[a.name]=a.defaultValue:"number"==a.type?e[a.name]=Number(a.value):e[a.name]=a.value}this.selectedSampleScriptWithParams.func(e),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},onSampleScriptParamChange:function(){this.executeScriptsWithParamsOnChange&&this.executeSampleScriptWithParams()},deleteSavedScript:function(e){for(var t=0;t<this.savedScripts.length;t++)this.savedScripts[t].name==e&&this.savedScripts.splice(t,1)},loadSavedScript:function(e){for(var t=0;t<this.savedScripts.length;t++)if(this.savedScripts[t].name==e)return document.getElementById("sourceCode").value=this.savedScripts[t].source,this.currentScriptName=e,this.currentScript=this.savedScripts[t],void(this.currentScriptType="SAVED_SCRIPT")},loadSampleScript:function(e){for(var t=0;t<this.allSampleScripts.length;t++)this.allSampleScripts[t].name==e&&(this.currentScriptName=this.allSampleScripts[t].name,this.currentScript=this.allSampleScripts[t],this.currentScriptType="SAMPLE_SCRIPT",document.getElementById("sourceCode").value=this.allSampleScripts[t].source)},selectSampleScript:function(e){for(var t=0;t<this.sampleScripts.length;t++)this.sampleScripts[t].name==e&&(this.selectedSampleScript=this.sampleScripts[t],this.editedSampleScript=this.selectedSampleScript.source)},selectSampleScriptWithParams:function(e){for(var t=0;t<this.allSampleScripts.length;t++)if(this.allSampleScripts[t].name==e&&(this.selectedSampleScriptWithParams=this.allSampleScripts[t],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},selectSavedScriptWithParams:function(e){for(var t=0;t<this.savedScripts.length;t++)if(this.savedScripts[t].name==e&&(this.selectedSampleScriptWithParams=this.savedScripts[t],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},unselectSampleScript:function(){this.selectedSampleScript=null},unselectSampleScriptWithParams:function(){this.selectedSampleScriptWithParams=null},copySampleSourceCode:function(){var e=document.createRange();e.selectNode(document.getElementById("selectedSampleScriptSourceCode")),window.getSelection().removeAllRanges(),window.getSelection().addRange(e),document.execCommand("copy"),window.getSelection().removeAllRanges()},executeScript:function(){var e=document.getElementById("sourceCode").value;this.dinamicFunction=new Function("params",e);var t={};this.dinamicFunction(t),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},createNewScript:function(){var e=prompt("Script name",""),t="",a={name:e,func:new Function("params",t),source:t,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a)},saveSampleScriptAs:function(){var e=this.newScriptName,t=this.editedSampleScript,a={name:e,func:new Function("params",t),source:t,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a),window.$("#modalSaveSampleScriptAs").modal("hide")},newScript:function(){this.currentScriptName=null,this.currentScript=null,this.currentScriptType=null,document.getElementById("sourceCode").value=""},saveScriptAs:function(){this.currentScriptName=prompt("Script name","");var e=document.getElementById("sourceCode").value;this.currentScript={name:this.currentScriptName,func:new Function("params",e),source:e,type:"SAVED_SCRIPT",params:[]},this.currentScriptType="SAVED_SCRIPT",this.savedScripts.push(this.currentScript)},saveScript:function(){if(null!=this.currentScriptName&&""!=this.currentScriptName&&null!=this.currentScript&&"SAMPLE_SCRIPT"!=this.currentScriptType){var e=document.getElementById("sourceCode").value;this.currentScript.source=e,this.currentScript.func=new Function("params",e)}else this.saveScriptAs()},moveLayerUp:function(){var e=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,e,e-1),this.updateCanvasAllLayers()},moveLayerDown:function(){var e=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,e,e+1),this.updateCanvasAllLayers()},arrayMove:function(e,t,a){var n=e[t];e.splice(t,1),e.splice(a,0,n)},saveScriptsToLocalStorage:function(){localStorage.savedScripts=JSON.stringify(this.savedScripts)},loadScriptsFromLocalStorage:function(){this.savedScripts=JSON.parse(localStorage.savedScripts);for(var e=0;e<this.savedScripts.length;e++){var t=this.savedScripts[e];t.func=new Function("params",t.source)}},filterSampleScripts:function(){this.sampleScripts=p(this.sampleScriptsFilter.type,this.sampleScriptsFilter.text),this.numFilteredSampleScripts=this.sampleScripts.length},clearSearch:function(){this.sampleScriptsFilter.type="",this.sampleScriptsFilter.text="",this.filterSampleScripts(),this.numFilteredSampleScripts=this.sampleScripts.length},resetContext:function(){ctx.fillStyle="#000000",ctx.strokeStyle="#000000",ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.font="10px sans-serif",ctx.textAlign="start",ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.filter="none",ctx.shadowBlur=0,ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineDashOffset=0,ctx.textBaseline="alphabetic",ctx.setTransform(1,0,0,1,0,0),ctx.setLineDash([]),this.updateCurrentContextDetails()},fillScreenWhite:function(){this.executeSampleScript("Fill screen white")},fillScreenBlack:function(){this.executeSampleScript("Fill screen black")},repaintCurrentLayer:function(){this.executeSampleScript("Repaint")},togglePanelVisibility:function(e){this.visiblePanels[e]=!this.visiblePanels[e]},log:function(e){this.logs.push(e)},clearLogs:function(){this.logs=[]},drawImageToCurrentLayer:function(e){var t=new Image;t.src=e,ctx.drawImage(t,0,0),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},exportCanvas:function(){"FULL_CANVAS"==this.exportConfigForm.type?this.exportCanvasAllLayers():"CROP"==this.exportConfigForm.type?this.exportCanvasAllLayersCropped():"CROP_AT"==this.exportConfigForm.type&&this.exportCanvasAllLayersCroppedAt()},exportCanvasAllLayers:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");this.drawAllLayers(t),e.toBlob((function(e){Object(b["saveAs"])(e,"Image.png")}))},exportCanvasAllLayersCropped:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");this.drawAllLayers(t);var a=x.crop(e);a.toBlob((function(e){Object(b["saveAs"])(e,"Image.png")}))},exportCanvasAllLayersCroppedAt:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");this.drawAllLayers(t);var a=x.cropAt(e,this.exportConfigForm.cropStartX,this.exportConfigForm.cropStartY,this.exportConfigForm.cropEndX,this.exportConfigForm.cropEndY);a.toBlob((function(e){Object(b["saveAs"])(e,"Image.png")}))},drawAllLayers:function(e){for(var t=this.canvasLayers.length-1;t>=0;t--){var a=this.canvasLayers[t];a.visible&&(e.save(),e.globalAlpha=a.alpha,e.drawImage(a.canvas,0,0),e.restore())}},drawTiledBackground:function(e){e.save(),e.globalAlpha=1,e.drawImage(this.backgroundCanvas,0,0),e.restore()},loop:function(){for(var e=0;e<this.customEvents.length;e++){var t=this.customEvents[e];"animationFrame"==t.type&&t.enabled&&t.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas(),window.requestAnimationFrame(this.loop)},showExportModal:function(){window.$("#modalExport").modal("show")},showModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("show")},closeModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("hide")},showModalHelp:function(){window.$("#modalHelp").modal("show")},showModalSaveSampleScriptAs:function(){this.newScriptName="",window.$("#modalSaveSampleScriptAs").modal("show")},pasteClipboardImage:function(e){x.pasteClipboardImage(e),this.closeModalPasteImageFromClipboard()},openColorPicker:function(e){window.$("#modalColorPicker").modal("show"),this.$refs.modalColorPicker.target=e,"fillStyle"==e?this.$refs.modalColorPicker.setCurrentColor(this.ctx.fillStyle):"strokeStyle"==e&&this.$refs.modalColorPicker.setCurrentColor(this.ctx.strokeStyle)}},data:function(){return{tempCanvas:null,mouseDownCanvas:null,canvasWidth:600,canvasHeight:400,currentScriptName:null,currentScript:null,currentScriptType:null,newScriptName:"",dinamicFunction:new Function("params",""),savedScripts:[],sampleScripts:[],allSampleScripts:[],numSampleScripts:null,numFilteredSampleScripts:null,selectedSampleScript:null,selectedSampleScriptWithParams:null,editedSampleScript:"",canvasLayers:[],backgroundCanvas:null,globalVariables:{},viewType:"MAIN_CANVAS",currentLayer:null,ctx:{fillStyle:null,strokeStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,font:null,textAlign:null,globalAlpha:null,globalCompositeOperation:null,transform:null},sampleScriptsFilter:{type:"",text:""},sampleScriptTypes:[],images:[],fonts:[],visiblePanels:{layers:!0,context:!1,images:!1,globalVariables:!1,fonts:!1,logs:!1,events:!1,scriptWithParams:!0,configureScript:!1},logs:[],mousePosition:{x:0,y:0},previousMousePosition:{x:0,y:0},mouseDownPosition:{x:0,y:0},isMouseDown:!1,currentTool:"pencil",customEvents:[],fontPanelForm:{fontName:"",fontURL:""},exportConfigForm:{type:"FULL_CANVAS",cropStartX:0,cropStartY:0,cropEndX:this.canvasWidth,cropEndY:this.canvasHeight},clearLayerBeforeExecutingScriptWithParams:!1,executeScriptsWithParamsOnChange:!1}},mounted:function(){window.app=this,window.$util=x,this.allSampleScripts=p(),this.sampleScripts=p(),this.sampleScriptTypes=d(),this.numSampleScripts=this.allSampleScripts.length,this.numFilteredSampleScripts=this.allSampleScripts.length,this.backgroundCanvas=this.buildBackgroundCanvas();var e="layer01";this.addLayerWithName(e),this.setCurrentLayer(e),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),document.getElementById("canvasAllLayers").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasAllLayers").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasAllLayers").addEventListener("mousedown",this.onCanvasMouseDown),document.getElementById("canvasCurrentLayer").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasCurrentLayer").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasCurrentLayer").addEventListener("mousedown",this.onCanvasMouseDown),window.requestAnimationFrame(this.loop),document.addEventListener("paste",this.pasteClipboardImage,!1)}},ei=Zr,ti=(a("22de"),Object(k["a"])(ei,n,r,!1,null,null,null));t["default"]=ti.exports},d784:function(e,t,a){"use strict";a("ac1f");var n=a("6eeb"),r=a("d039"),i=a("b622"),o=a("9112"),l=i("species"),s=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),d=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,u){var m=i(e),h=!r((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),f=h&&!r((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[m]=/./[m]),a.exec=function(){return t=!0,null},a[m](""),!t}));if(!h||!f||"replace"===e&&(!s||!c||p)||"split"===e&&!d){var v=/./[m],g=a(m,""[e],(function(e,t,a,n,r){return t.exec===RegExp.prototype.exec?h&&!r?{done:!0,value:v.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=g[0],x=g[1];n(String.prototype,e,y),n(RegExp.prototype,m,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}u&&o(RegExp.prototype[m],"sham",!0)}},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),o=i("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},f183:function(e,t,a){var n=a("d012"),r=a("861d"),i=a("5135"),o=a("9bf2").f,l=a("90e3"),s=a("bb2f"),c=l("meta"),u=0,p=Object.isExtensible||function(){return!0},d=function(e){o(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},m=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,c)){if(!p(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},h=function(e,t){if(!i(e,c)){if(!p(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},f=function(e){return s&&v.REQUIRED&&p(e)&&!i(e,c)&&d(e),e},v=e.exports={REQUIRED:!1,fastKey:m,getWeakData:h,onFreeze:f};n[c]=!0}}]);