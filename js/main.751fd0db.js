(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"0cb2":function(t,e,a){var n=a("7b0b"),r=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,l,c,u){var d=a+t.length,p=l.length,h=o;return void 0!==c&&(c=n(c),h=s),i.call(u,h,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(d);case"<":s=c[i.slice(1,-1)];break;default:var o=+i;if(0===o)return n;if(o>p){var u=r(o/10);return 0===u?n:u<=p?void 0===l[u-1]?i.charAt(1):l[u-1]+i.charAt(1):n}s=l[o-1]}return void 0===s?"":s}))}},"0d3b":function(t,e,a){var n=a("d039"),r=a("b622"),i=a("c430"),s=r("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,a="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),a+=n+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},1276:function(t,e,a){"use strict";var n=a("d784"),r=a("44e7"),i=a("825a"),s=a("1d80"),o=a("4840"),l=a("8aa5"),c=a("50c4"),u=a("14c3"),d=a("9263"),p=a("9f7f"),h=p.UNSUPPORTED_Y,m=[].push,v=Math.min,f=4294967295;n("split",2,(function(t,e,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var n=String(s(this)),i=void 0===a?f:a>>>0;if(0===i)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,i);var o,l,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,p+"g");while(o=d.call(v,n)){if(l=v.lastIndex,l>h&&(u.push(n.slice(h,o.index)),o.length>1&&o.index<n.length&&m.apply(u,o.slice(1)),c=o[0].length,h=l,u.length>=i))break;v.lastIndex===o.index&&v.lastIndex++}return h===n.length?!c&&v.test("")||u.push(""):u.push(n.slice(h)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var r=s(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r,a):n.call(String(r),e,a)},function(t,r){var s=a(n,t,this,r,n!==e);if(s.done)return s.value;var d=i(t),p=String(this),m=o(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"g":"y"),y=new m(h?"^(?:"+d.source+")":d,b),w=void 0===r?f:r>>>0;if(0===w)return[];if(0===p.length)return null===u(y,p)?[p]:[];var x=0,C=0,S=[];while(C<p.length){y.lastIndex=h?0:C;var _,k=u(y,h?p.slice(C):p);if(null===k||(_=v(c(y.lastIndex+(h?C:0)),p.length))===x)C=l(p,C,g);else{if(S.push(p.slice(x,C)),S.length===w)return S;for(var P=1;P<=k.length-1;P++)if(S.push(k[P]),S.length===w)return S;C=x=_}}return S.push(p.slice(x)),S}]}),h)},"14c3":function(t,e,a){var n=a("c6b6"),r=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),i=a("2d00"),s=r("species");t.exports=function(t){return i>=51||!n((function(){var e=[],a=e.constructor={};return a[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"21a6":function(t,e,a){(function(a){var n,r,i;(function(a,s){r=[],n=s,i="function"===typeof n?n.apply(e,r):n,void 0===i||(t.exports=i)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,e,a){var o=s.URL||s.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):r(l.href)?n(t,e,a):i(l,l.target="_blank")):(l.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,s){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),a);else if(r(t))n(t,a,s);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){i(o)}))}}:function(t,e,a,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,a);var i="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var d=s.URL||s.webkitURL,p=d.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});s.saveAs=l.saveAs=l,t.exports=l}))}).call(this,a("c8ba"))},"22de":function(t,e,a){"use strict";a("8319")},"25f0":function(t,e,a){"use strict";var n=a("6eeb"),r=a("825a"),i=a("d039"),s=a("ad6d"),o="toString",l=RegExp.prototype,c=l[o],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=o;(u||d)&&n(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),a=t.flags,n=String(void 0===a&&t instanceof RegExp&&!("flags"in l)?s.call(t):a);return"/"+e+"/"+n}),{unsafe:!0})},"29d8":function(t,e,a){"use strict";a("38fb")},"2b3d":function(t,e,a){"use strict";a("3ca3");var n,r=a("23e7"),i=a("83ab"),s=a("0d3b"),o=a("da84"),l=a("37e8"),c=a("6eeb"),u=a("19aa"),d=a("5135"),p=a("60da"),h=a("4df4"),m=a("6547").codeAt,v=a("5fb2"),f=a("d44e"),g=a("9861"),b=a("69f3"),y=o.URL,w=g.URLSearchParams,x=g.getState,C=b.set,S=b.getterFor("URL"),_=Math.floor,k=Math.pow,P="Invalid authority",$="Invalid scheme",E="Invalid host",L="Invalid port",A=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,F=/\d/,T=/^(0x|0X)/,O=/^[0-7]+$/,N=/^\d+$/,M=/^[\dA-Fa-f]+$/,R=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,B=/[\u0000\t\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,W=/[\t\u000A\u000D]/g,j=function(t,e){var a,n,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return E;if(a=H(e.slice(1,-1)),!a)return E;t.host=a}else if(K(t)){if(e=v(e),R.test(e))return E;if(a=V(e),null===a)return E;t.host=a}else{if(B.test(e))return E;for(a="",n=h(e),r=0;r<n.length;r++)a+=J(n[r],z);t.host=a}},V=function(t){var e,a,n,r,i,s,o,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),e=l.length,e>4)return t;for(a=[],n=0;n<e;n++){if(r=l[n],""==r)return t;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=T.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)s=0;else{if(!(10==i?N:8==i?O:M).test(r))return t;s=parseInt(r,i)}a.push(s)}for(n=0;n<e;n++)if(s=a[n],n==e-1){if(s>=k(256,5-e))return null}else if(s>255)return null;for(o=a.pop(),n=0;n<a.length;n++)o+=a[n]*k(256,3-n);return o},H=function(t){var e,a,n,r,i,s,o,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return t.charAt(d)};if(":"==p()){if(":"!=t.charAt(1))return;d+=2,c++,u=c}while(p()){if(8==c)return;if(":"!=p()){e=a=0;while(a<4&&M.test(p()))e=16*e+parseInt(p(),16),d++,a++;if("."==p()){if(0==a)return;if(d-=a,c>6)return;n=0;while(p()){if(r=null,n>0){if(!("."==p()&&n<4))return;d++}if(!F.test(p()))return;while(F.test(p())){if(i=parseInt(p(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;d++}l[c]=256*l[c]+r,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=e}else{if(null!==u)return;d++,c++,u=c}}if(null!==u){s=c-u,c=7;while(0!=c&&s>0)o=l[c],l[c--]=l[u+s-1],l[u+--s]=o}else if(8!=c)return;return l},U=function(t){for(var e=null,a=1,n=null,r=0,i=0;i<8;i++)0!==t[i]?(r>a&&(e=n,a=r),n=null,r=0):(null===n&&(n=i),++r);return r>a&&(e=n,a=r),e},G=function(t){var e,a,n,r;if("number"==typeof t){for(e=[],a=0;a<4;a++)e.unshift(t%256),t=_(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=U(t),a=0;a<8;a++)r&&0===t[a]||(r&&(r=!1),n===a?(e+=a?":":"::",r=!0):(e+=t[a].toString(16),a<7&&(e+=":")));return"["+e+"]"}return t},z={},q=p({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=p({},q,{"#":1,"?":1,"{":1,"}":1}),X=p({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(t,e){var a=m(t,0);return a>32&&a<127&&!d(e,t)?t:encodeURIComponent(t)},Z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(t){return d(Z,t.scheme)},Q=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var a;return 2==t.length&&A.test(t.charAt(0))&&(":"==(a=t.charAt(1))||!e&&"|"==a)},at=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},nt=function(t){var e=t.path,a=e.length;!a||"file"==t.scheme&&1==a&&et(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},it=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},st={},ot={},lt={},ct={},ut={},dt={},pt={},ht={},mt={},vt={},ft={},gt={},bt={},yt={},wt={},xt={},Ct={},St={},_t={},kt={},Pt={},$t=function(t,e,a,r){var i,s,o,l,c=a||st,u=0,p="",m=!1,v=!1,f=!1;a||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(D,"")),e=e.replace(W,""),i=h(e);while(u<=i.length){switch(s=i[u],c){case st:if(!s||!A.test(s)){if(a)return $;c=lt;continue}p+=s.toLowerCase(),c=ot;break;case ot:if(s&&(I.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(a)return $;p="",c=lt,u=0;continue}if(a&&(K(t)!=d(Z,p)||"file"==p&&(Q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,a)return void(K(t)&&Z[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=yt:K(t)&&r&&r.scheme==t.scheme?c=ct:K(t)?c=ht:"/"==i[u+1]?(c=ut,u++):(t.cannotBeABaseURL=!0,t.path.push(""),c=_t)}break;case lt:if(!r||r.cannotBeABaseURL&&"#"!=s)return $;if(r.cannotBeABaseURL&&"#"==s){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=Pt;break}c="file"==r.scheme?yt:dt;continue;case ct:if("/"!=s||"/"!=i[u+1]){c=dt;continue}c=mt,u++;break;case ut:if("/"==s){c=vt;break}c=St;continue;case dt:if(t.scheme=r.scheme,s==n)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==s||"\\"==s&&K(t))c=pt;else if("?"==s)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=kt;else{if("#"!=s){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=St;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=Pt}break;case pt:if(!K(t)||"/"!=s&&"\\"!=s){if("/"!=s){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=St;continue}c=vt}else c=mt;break;case ht:if(c=mt,"/"!=s||"/"!=p.charAt(u+1))continue;u++;break;case mt:if("/"!=s&&"\\"!=s){c=vt;continue}break;case vt:if("@"==s){m&&(p="%40"+p),m=!0,o=h(p);for(var g=0;g<o.length;g++){var b=o[g];if(":"!=b||f){var y=J(b,X);f?t.password+=y:t.username+=y}else f=!0}p=""}else if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&K(t)){if(m&&""==p)return P;u-=h(p).length+1,p="",c=ft}else p+=s;break;case ft:case gt:if(a&&"file"==t.scheme){c=xt;continue}if(":"!=s||v){if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&K(t)){if(K(t)&&""==p)return E;if(a&&""==p&&(Q(t)||null!==t.port))return;if(l=j(t,p),l)return l;if(p="",c=Ct,a)return;continue}"["==s?v=!0:"]"==s&&(v=!1),p+=s}else{if(""==p)return E;if(l=j(t,p),l)return l;if(p="",c=bt,a==gt)return}break;case bt:if(!F.test(s)){if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&K(t)||a){if(""!=p){var w=parseInt(p,10);if(w>65535)return L;t.port=K(t)&&w===Z[t.scheme]?null:w,p=""}if(a)return;c=Ct;continue}return L}p+=s;break;case yt:if(t.scheme="file","/"==s||"\\"==s)c=wt;else{if(!r||"file"!=r.scheme){c=St;continue}if(s==n)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==s)t.host=r.host,t.path=r.path.slice(),t.query="",c=kt;else{if("#"!=s){at(i.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),nt(t)),c=St;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=Pt}}break;case wt:if("/"==s||"\\"==s){c=xt;break}r&&"file"==r.scheme&&!at(i.slice(u).join(""))&&(et(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=St;continue;case xt:if(s==n||"/"==s||"\\"==s||"?"==s||"#"==s){if(!a&&et(p))c=St;else if(""==p){if(t.host="",a)return;c=Ct}else{if(l=j(t,p),l)return l;if("localhost"==t.host&&(t.host=""),a)return;p="",c=Ct}continue}p+=s;break;case Ct:if(K(t)){if(c=St,"/"!=s&&"\\"!=s)continue}else if(a||"?"!=s)if(a||"#"!=s){if(s!=n&&(c=St,"/"!=s))continue}else t.fragment="",c=Pt;else t.query="",c=kt;break;case St:if(s==n||"/"==s||"\\"==s&&K(t)||!a&&("?"==s||"#"==s)){if(it(p)?(nt(t),"/"==s||"\\"==s&&K(t)||t.path.push("")):rt(p)?"/"==s||"\\"==s&&K(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(s==n||"?"==s||"#"==s))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==s?(t.query="",c=kt):"#"==s&&(t.fragment="",c=Pt)}else p+=J(s,Y);break;case _t:"?"==s?(t.query="",c=kt):"#"==s?(t.fragment="",c=Pt):s!=n&&(t.path[0]+=J(s,z));break;case kt:a||"#"!=s?s!=n&&("'"==s&&K(t)?t.query+="%27":t.query+="#"==s?"%23":J(s,z)):(t.fragment="",c=Pt);break;case Pt:s!=n&&(t.fragment+=J(s,q));break}u++}},Et=function(t){var e,a,n=u(this,Et,"URL"),r=arguments.length>1?arguments[1]:void 0,s=String(t),o=C(n,{type:"URL"});if(void 0!==r)if(r instanceof Et)e=S(r);else if(a=$t(e={},String(r)),a)throw TypeError(a);if(a=$t(o,s,null,e),a)throw TypeError(a);var l=o.searchParams=new w,c=x(l);c.updateSearchParams(o.query),c.updateURL=function(){o.query=String(l)||null},i||(n.href=At.call(n),n.origin=It.call(n),n.protocol=Ft.call(n),n.username=Tt.call(n),n.password=Ot.call(n),n.host=Nt.call(n),n.hostname=Mt.call(n),n.port=Rt.call(n),n.pathname=Bt.call(n),n.search=Dt.call(n),n.searchParams=Wt.call(n),n.hash=jt.call(n))},Lt=Et.prototype,At=function(){var t=S(this),e=t.scheme,a=t.username,n=t.password,r=t.host,i=t.port,s=t.path,o=t.query,l=t.fragment,c=e+":";return null!==r?(c+="//",Q(t)&&(c+=a+(n?":"+n:"")+"@"),c+=G(r),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==o&&(c+="?"+o),null!==l&&(c+="#"+l),c},It=function(){var t=S(this),e=t.scheme,a=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&K(t)?e+"://"+G(t.host)+(null!==a?":"+a:""):"null"},Ft=function(){return S(this).scheme+":"},Tt=function(){return S(this).username},Ot=function(){return S(this).password},Nt=function(){var t=S(this),e=t.host,a=t.port;return null===e?"":null===a?G(e):G(e)+":"+a},Mt=function(){var t=S(this).host;return null===t?"":G(t)},Rt=function(){var t=S(this).port;return null===t?"":String(t)},Bt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Dt=function(){var t=S(this).query;return t?"?"+t:""},Wt=function(){return S(this).searchParams},jt=function(){var t=S(this).fragment;return t?"#"+t:""},Vt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&l(Lt,{href:Vt(At,(function(t){var e=S(this),a=String(t),n=$t(e,a);if(n)throw TypeError(n);x(e.searchParams).updateSearchParams(e.query)})),origin:Vt(It),protocol:Vt(Ft,(function(t){var e=S(this);$t(e,String(t)+":",st)})),username:Vt(Tt,(function(t){var e=S(this),a=h(String(t));if(!tt(e)){e.username="";for(var n=0;n<a.length;n++)e.username+=J(a[n],X)}})),password:Vt(Ot,(function(t){var e=S(this),a=h(String(t));if(!tt(e)){e.password="";for(var n=0;n<a.length;n++)e.password+=J(a[n],X)}})),host:Vt(Nt,(function(t){var e=S(this);e.cannotBeABaseURL||$t(e,String(t),ft)})),hostname:Vt(Mt,(function(t){var e=S(this);e.cannotBeABaseURL||$t(e,String(t),gt)})),port:Vt(Rt,(function(t){var e=S(this);tt(e)||(t=String(t),""==t?e.port=null:$t(e,t,bt))})),pathname:Vt(Bt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],$t(e,t+"",Ct))})),search:Vt(Dt,(function(t){var e=S(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",$t(e,t,kt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:Vt(Wt),hash:Vt(jt,(function(t){var e=S(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",$t(e,t,Pt)):e.fragment=null}))}),c(Lt,"toJSON",(function(){return At.call(this)}),{enumerable:!0}),c(Lt,"toString",(function(){return At.call(this)}),{enumerable:!0}),y){var Ht=y.createObjectURL,Ut=y.revokeObjectURL;Ht&&c(Et,"createObjectURL",(function(t){return Ht.apply(y,arguments)})),Ut&&c(Et,"revokeObjectURL",(function(t){return Ut.apply(y,arguments)}))}f(Et,"URL"),r({global:!0,forced:!s,sham:!i},{URL:Et})},"2ca0":function(t,e,a){"use strict";var n=a("23e7"),r=a("06cf").f,i=a("50c4"),s=a("5a34"),o=a("1d80"),l=a("ab13"),c=a("c430"),u="".startsWith,d=Math.min,p=l("startsWith"),h=!c&&!p&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!h&&!p},{startsWith:function(t){var e=String(o(this));s(t);var a=i(d(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return u?u.call(e,n,a):e.slice(a,a+n.length)===n}})},"2d4e":function(t,e,a){},"38fb":function(t,e,a){},"466d":function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),s=a("1d80"),o=a("8aa5"),l=a("14c3");n("match",1,(function(t,e,a){return[function(e){var a=s(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var s=r(t),c=String(this);if(!s.global)return l(s,c);var u=s.unicode;s.lastIndex=0;var d,p=[],h=0;while(null!==(d=l(s,c))){var m=String(d[0]);p[h]=m,""===m&&(s.lastIndex=o(c,i(s.lastIndex),u)),h++}return 0===h?null:p}]}))},4957:function(t,e,a){"use strict";a("6ab6")},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,i=a("1dde"),s=i("filter");n({target:"Array",proto:!0,forced:!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),s=a("a691"),o=a("1d80"),l=a("8aa5"),c=a("0cb2"),u=a("14c3"),d=Math.max,p=Math.min,h=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,f=m?"$":"$0";return[function(a,n){var r=o(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,n):e.call(String(r),a,n)},function(t,n){if(!m&&v||"string"===typeof n&&-1===n.indexOf(f)){var o=a(e,t,this,n);if(o.done)return o.value}var g=r(t),b=String(this),y="function"===typeof n;y||(n=String(n));var w=g.global;if(w){var x=g.unicode;g.lastIndex=0}var C=[];while(1){var S=u(g,b);if(null===S)break;if(C.push(S),!w)break;var _=String(S[0]);""===_&&(g.lastIndex=l(b,i(g.lastIndex),x))}for(var k="",P=0,$=0;$<C.length;$++){S=C[$];for(var E=String(S[0]),L=d(p(s(S.index),b.length),0),A=[],I=1;I<S.length;I++)A.push(h(S[I]));var F=S.groups;if(y){var T=[E].concat(A,L,b);void 0!==F&&T.push(F);var O=String(n.apply(void 0,T))}else O=c(E,b,L,A,F,n);L>=P&&(k+=b.slice(P,L)+O,P=L+E.length)}return k+b.slice(P)}]}))},5687:function(t,e,a){"use strict";a("8663")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),l=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5b81":function(t,e,a){"use strict";var n=a("23e7"),r=a("1d80"),i=a("44e7"),s=a("ad6d"),o=a("0cb2"),l=a("b622"),c=a("c430"),u=l("replace"),d=RegExp.prototype,p=Math.max,h=function(t,e,a){return a>t.length?-1:""===e?a:t.indexOf(e,a)};n({target:"String",proto:!0},{replaceAll:function(t,e){var a,n,l,m,v,f,g,b,y,w=r(this),x=0,C=0,S="";if(null!=t){if(a=i(t),a&&(n=String(r("flags"in d?t.flags:s.call(t))),!~n.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(l=t[u],void 0!==l)return l.call(t,w,e);if(c&&a)return String(w).replace(t,e)}m=String(w),v=String(t),f="function"===typeof e,f||(e=String(e)),g=v.length,b=p(1,g),x=h(m,v,0);while(-1!==x)y=f?String(e(v,x,m)):o(v,m,x,[],void 0,e),S+=m.slice(C,x)+y,C=x+g,x=h(m,v,x+b);return C<m.length&&(S+=m.slice(C)),S}})},"5fb2":function(t,e,a){"use strict";var n=2147483647,r=36,i=1,s=26,o=38,l=700,c=72,u=128,d="-",p=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",v=r-i,f=Math.floor,g=String.fromCharCode,b=function(t){var e=[],a=0,n=t.length;while(a<n){var r=t.charCodeAt(a++);if(r>=55296&&r<=56319&&a<n){var i=t.charCodeAt(a++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),a--)}else e.push(r)}return e},y=function(t){return t+22+75*(t<26)},w=function(t,e,a){var n=0;for(t=a?f(t/l):t>>1,t+=f(t/e);t>v*s>>1;n+=r)t=f(t/v);return f(n+(v+1)*t/(t+o))},x=function(t){var e=[];t=b(t);var a,o,l=t.length,p=u,h=0,v=c;for(a=0;a<t.length;a++)o=t[a],o<128&&e.push(g(o));var x=e.length,C=x;x&&e.push(d);while(C<l){var S=n;for(a=0;a<t.length;a++)o=t[a],o>=p&&o<S&&(S=o);var _=C+1;if(S-p>f((n-h)/_))throw RangeError(m);for(h+=(S-p)*_,p=S,a=0;a<t.length;a++){if(o=t[a],o<p&&++h>n)throw RangeError(m);if(o==p){for(var k=h,P=r;;P+=r){var $=P<=v?i:P>=v+s?s:P-v;if(k<$)break;var E=k-$,L=r-$;e.push(g(y($+E%L))),k=f(E/L)}e.push(g(y(k))),v=w(h,_,C==x),h=0,++C}}++h,++p}return e.join("")};t.exports=function(t){var e,a,n=[],r=t.toLowerCase().replace(h,".").split(".");for(e=0;e<r.length;e++)a=r[e],n.push(p.test(a)?"xn--"+x(a):a);return n.join(".")}},"65f0":function(t,e,a){var n=a("861d"),r=a("e8b5"),i=a("b622"),s=i("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[s],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"6ab6":function(t,e,a){},"6cfa":function(t,e,a){t.exports=a.p+"img/drawjs-logo.18b6678c.png"},"728b":function(t,e,a){},"7f64":function(t,e,a){"use strict";a("2d4e")},"7f74":function(t,e,a){"use strict";a("bc74")},8319:function(t,e,a){},8632:function(t,e,a){"use strict";a("728b")},8663:function(t,e,a){},"87c1":function(t,e,a){"use strict";a("fb07")},"8aa5":function(t,e,a){"use strict";var n=a("6547").charAt;t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},9263:function(t,e,a){"use strict";var n=a("ad6d"),r=a("9f7f"),i=a("5692"),s=RegExp.prototype.exec,o=i("native-string-replace",String.prototype.replace),l=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=c||d||u;p&&(l=function(t){var e,a,r,i,l=this,p=u&&l.sticky,h=n.call(l),m=l.source,v=0,f=t;return p&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),f=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(m="(?: "+m+")",f=" "+f,v++),a=new RegExp("^(?:"+m+")",h)),d&&(a=new RegExp("^"+m+"$(?!\\s)",h)),c&&(e=l.lastIndex),r=s.call(p?a:l,f),p?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),d&&r&&r.length>1&&o.call(r[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},"96cf":function(t,e,a){var n=function(t){"use strict";var e,a=Object.prototype,n=a.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(F){l=function(t,e,a){return t[e]=a}}function c(t,e,a,n){var r=e&&e.prototype instanceof f?e:f,i=Object.create(r.prototype),s=new L(n||[]);return i._invoke=k(t,a,s),i}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(F){return{type:"throw",arg:F}}}t.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function f(){}function g(){}function b(){}var y={};l(y,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==a&&n.call(x,i)&&(y=x);var C=b.prototype=f.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function a(r,i,s,o){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,s,o)}),(function(t){a("throw",t,s,o)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return a("throw",t,s,o)}))}o(l.arg)}var r;function i(t,n){function i(){return new e((function(e,r){a(t,n,e,r)}))}return r=r?r.then(i,i):i()}this._invoke=i}function k(t,e,a){var n=d;return function(r,i){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===r)throw i;return I()}a.method=r,a.arg=i;while(1){var s=a.delegate;if(s){var o=P(s,a);if(o){if(o===v)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===d)throw n=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=h;var l=u(t,e,a);if("normal"===l.type){if(n=a.done?m:p,l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n=m,a.method="throw",a.arg=l.arg)}}}function P(t,a){var n=t.iterator[a.method];if(n===e){if(a.delegate=null,"throw"===a.method){if(t.iterator["return"]&&(a.method="return",a.arg=e,P(t,a),"throw"===a.method))return v;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=u(n,t.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,v;var i=r.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,v):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,v)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function A(t){if(t){var a=t[i];if(a)return a.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function a(){while(++r<t.length)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return s.next=s}}return{next:I}}function I(){return{value:e,done:!0}}return g.prototype=b,l(C,"constructor",b),l(b,"constructor",g),g.displayName=l(b,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,o,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},S(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,a,n,r,i){void 0===i&&(i=Promise);var s=new _(c(e,a,n,r),i);return t.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(C),l(C,o,"Generator"),l(C,i,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return o.type="throw",o.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),E(a),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var r=n.arg;E(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:A(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=n}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},9861:function(t,e,a){"use strict";a("e260");var n=a("23e7"),r=a("d066"),i=a("0d3b"),s=a("6eeb"),o=a("e2cc"),l=a("d44e"),c=a("9ed3"),u=a("69f3"),d=a("19aa"),p=a("5135"),h=a("0366"),m=a("f5df"),v=a("825a"),f=a("861d"),g=a("7c73"),b=a("5c6c"),y=a("9a1f"),w=a("35a1"),x=a("b622"),C=r("fetch"),S=r("Headers"),_=x("iterator"),k="URLSearchParams",P=k+"Iterator",$=u.set,E=u.getterFor(k),L=u.getterFor(P),A=/\+/g,I=Array(4),F=function(t){return I[t-1]||(I[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},T=function(t){try{return decodeURIComponent(t)}catch(e){return t}},O=function(t){var e=t.replace(A," "),a=4;try{return decodeURIComponent(e)}catch(n){while(a)e=e.replace(F(a--),T);return e}},N=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(t){return M[t]},B=function(t){return encodeURIComponent(t).replace(N,R)},D=function(t,e){if(e){var a,n,r=e.split("&"),i=0;while(i<r.length)a=r[i++],a.length&&(n=a.split("="),t.push({key:O(n.shift()),value:O(n.join("="))}))}},W=function(t){this.entries.length=0,D(this.entries,t)},j=function(t,e){if(t<e)throw TypeError("Not enough arguments")},V=c((function(t,e){$(this,{type:P,iterator:y(E(t).entries),kind:e})}),"Iterator",(function(){var t=L(this),e=t.kind,a=t.iterator.next(),n=a.value;return a.done||(a.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),a})),H=function(){d(this,H,k);var t,e,a,n,r,i,s,o,l,c=arguments.length>0?arguments[0]:void 0,u=this,h=[];if($(u,{type:k,entries:h,updateURL:function(){},updateSearchParams:W}),void 0!==c)if(f(c))if(t=w(c),"function"===typeof t){e=t.call(c),a=e.next;while(!(n=a.call(e)).done){if(r=y(v(n.value)),i=r.next,(s=i.call(r)).done||(o=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");h.push({key:s.value+"",value:o.value+""})}}else for(l in c)p(c,l)&&h.push({key:l,value:c[l]+""});else D(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},U=H.prototype;o(U,{append:function(t,e){j(arguments.length,2);var a=E(this);a.entries.push({key:t+"",value:e+""}),a.updateURL()},delete:function(t){j(arguments.length,1);var e=E(this),a=e.entries,n=t+"",r=0;while(r<a.length)a[r].key===n?a.splice(r,1):r++;e.updateURL()},get:function(t){j(arguments.length,1);for(var e=E(this).entries,a=t+"",n=0;n<e.length;n++)if(e[n].key===a)return e[n].value;return null},getAll:function(t){j(arguments.length,1);for(var e=E(this).entries,a=t+"",n=[],r=0;r<e.length;r++)e[r].key===a&&n.push(e[r].value);return n},has:function(t){j(arguments.length,1);var e=E(this).entries,a=t+"",n=0;while(n<e.length)if(e[n++].key===a)return!0;return!1},set:function(t,e){j(arguments.length,1);for(var a,n=E(this),r=n.entries,i=!1,s=t+"",o=e+"",l=0;l<r.length;l++)a=r[l],a.key===s&&(i?r.splice(l--,1):(i=!0,a.value=o));i||r.push({key:s,value:o}),n.updateURL()},sort:function(){var t,e,a,n=E(this),r=n.entries,i=r.slice();for(r.length=0,a=0;a<i.length;a++){for(t=i[a],e=0;e<a;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===a&&r.push(t)}n.updateURL()},forEach:function(t){var e,a=E(this).entries,n=h(t,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<a.length)e=a[r++],n(e.value,e.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),s(U,_,U.entries),s(U,"toString",(function(){var t,e=E(this).entries,a=[],n=0;while(n<e.length)t=e[n++],a.push(B(t.key)+"="+B(t.value));return a.join("&")}),{enumerable:!0}),l(H,k),n({global:!0,forced:!i},{URLSearchParams:H}),i||"function"!=typeof C||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,a,n,r=[t];return arguments.length>1&&(e=arguments[1],f(e)&&(a=e.body,m(a)===k&&(n=e.headers?new S(e.headers):new S,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=g(e,{body:b(0,String(a)),headers:b(0,n)}))),r.push(e)),C.apply(this,r)}}),t.exports={URLSearchParams:H,getState:E}},"9a1f":function(t,e,a){var n=a("825a"),r=a("35a1");t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},"9f7f":function(t,e,a){"use strict";var n=a("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,a){"use strict";var n=a("23e7"),r=a("44ad"),i=a("fc6a"),s=a("a640"),o=[].join,l=r!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return o.call(i(this),void 0===t?",":t)}})},a434:function(t,e,a){"use strict";var n=a("23e7"),r=a("23cb"),i=a("a691"),s=a("50c4"),o=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),d=u("splice"),p=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var a,n,u,d,f,g,b=o(this),y=s(b.length),w=r(t,y),x=arguments.length;if(0===x?a=n=0:1===x?(a=0,n=y-w):(a=x-2,n=h(p(i(e),0),y-w)),y+a-n>m)throw TypeError(v);for(u=l(b,n),d=0;d<n;d++)f=w+d,f in b&&c(u,d,b[f]);if(u.length=n,a<n){for(d=w;d<y-n;d++)f=d+n,g=d+a,f in b?b[g]=b[f]:delete b[g];for(d=y;d>y-n+a;d--)delete b[d-1]}else if(a>n)for(d=y-n;d>w;d--)f=d+n-1,g=d+a-1,f in b?b[g]=b[f]:delete b[g];for(d=0;d<a;d++)b[d+w]=arguments[d+2];return b.length=y-n+a,u}})},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),s=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),h=a("241c").f,m=a("06cf").f,v=a("9bf2").f,f=a("58a8").trim,g="Number",b=r[g],y=b.prototype,w=l(p(y))==g,x=function(t){var e,a,n,r,i,s,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=f(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),s=i.length,o=0;o<s;o++)if(l=i.charCodeAt(o),l<48||l>r)return NaN;return parseInt(i,n)}return+c};if(i(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,S=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof S&&(w?d((function(){y.valueOf.call(a)})):l(a)!=g)?c(new b(x(e)),a,S):x(e)},_=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;_.length>k;k++)o(b,C=_[k])&&!o(S,C)&&v(S,C,m(b,C));S.prototype=y,y.constructor=S,s(r,g,S)}},ac1f:function(t,e,a){"use strict";var n=a("23e7"),r=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b727:function(t,e,a){var n=a("0366"),r=a("44ad"),i=a("7b0b"),s=a("50c4"),o=a("65f0"),l=[].push,c=function(t){var e=1==t,a=2==t,c=3==t,u=4==t,d=6==t,p=7==t,h=5==t||d;return function(m,v,f,g){for(var b,y,w=i(m),x=r(w),C=n(v,f,3),S=s(x.length),_=0,k=g||o,P=e?k(m,S):a||p?k(m,0):void 0;S>_;_++)if((h||_ in x)&&(b=x[_],y=C(b,_,w),t))if(e)P[_]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return _;case 2:l.call(P,b)}else switch(t){case 4:return!1;case 7:l.call(P,b)}return d?-1:c||u?u:P}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},bc74:function(t,e,a){},cd56:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainDiv"},[a("div",{staticClass:"header"},[a("MainMenu"),t._m(0),a("div",{staticStyle:{position:"absolute",right:"10px",top:"13px",margin:"0px"}},[t._m(1),t._m(2),t._m(3),a("a",{staticClass:"btn btn-danger",attrs:{href:"https://danielbarral.itch.io/drawjs/donate",role:"button",target:"_blank"}},[a("IconDonate",{attrs:{color:"#ffffff"}}),t._v(" Donate")],1)])],1),a("div",{staticClass:"appDiv",attrs:{id:"app"}},[a("div",{staticClass:"mainLayout"},[a("div",{staticClass:"columnBox colDiv"},[a("div",{staticClass:"scriptsDiv"},[a("div",[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item",on:{click:function(e){t.isVisualScriptsTabSelected=!1}}},[a("a",{staticClass:"nav-link active",attrs:{id:"sampleScripts-tab","data-toggle":"tab",href:"#tabSampleScripts",role:"tab"}},[t._v("Sample scripts")])]),a("li",{staticClass:"nav-item",on:{click:function(e){t.isVisualScriptsTabSelected=!1}}},[a("a",{staticClass:"nav-link",attrs:{id:"savedScripts-tab","data-toggle":"tab",href:"#tabSavedScripts",role:"tab"}},[t._v("My scripts")])]),a("li",{staticClass:"nav-item",on:{click:function(e){t.isVisualScriptsTabSelected=!0}}},[a("a",{staticClass:"nav-link",attrs:{id:"visualScripts-tab","data-toggle":"tab",href:"#tabVisualScripts",role:"tab"}},[t._v("Visual scripts")])])])]),a("div",{staticClass:"tabContentScroll"},[a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane show active",attrs:{id:"tabSampleScripts",role:"tabpanel","aria-labelledby":"sampleScripts-tab"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:null==t.selectedSampleScript,expression:"selectedSampleScript == null"}]},[a("span",[t._v("Type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.type,expression:"sampleScriptsFilter.type"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.sampleScriptsFilter,"type",e.target.multiple?a:a[0])},function(e){return t.filterSampleScripts()}]}},[a("option",{attrs:{value:""}},[t._v("(Show all)")]),t._l(t.sampleScriptTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),a("span",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.text"}],attrs:{placeholder:"script name"},domProps:{value:t.sampleScriptsFilter.text},on:{input:[function(e){e.target.composing||t.$set(t.sampleScriptsFilter,"text",e.target.value)},function(e){return t.filterSampleScripts()}]}}),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.sampleScriptsFilter.type||""!=t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.type != '' || sampleScriptsFilter.text != ''"}]},[t._v("Showing "+t._s(t.numFilteredSampleScripts)+" of "+t._s(t.numSampleScripts)+" "),a("a",{attrs:{href:"#"},on:{click:function(e){return t.clearSearch()}}},[t._v("Clear search")])]),a("table",{staticStyle:{"margin-top":"5px"}},t._l(t.sampleScripts,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(a){return t.executeSampleScript(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==e.params},on:{click:function(a){return t.selectSampleScriptWithParams(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ... ")],1)]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.loadSampleScript(e.name)}}},[t._v("Open")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectSampleScript(e.name)}}},[t._v("View")])])])})),0)]),null!=t.selectedSampleScript?a("div",[a("h3",[a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return t.unselectSampleScript()}}},[a("IconBack",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Back")],1),t._v(" "+t._s(t.selectedSampleScript.name)+" "),a("router-link",{attrs:{to:"/docs/javascript/"+t.selectedSampleScript.slug,target:"_blank"}},[a("IconHelp",{staticStyle:{"margin-left":"2px","margin-top":"-8px"}})],1)],1),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.executeEditedSampleScript()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.copySampleSourceCode()}}},[t._v("Copy")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalSaveSampleScriptAs()}}},[t._v("Save as...")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editedSampleScript,expression:"editedSampleScript"}],staticStyle:{width:"100%",height:"180px"},attrs:{spellcheck:"false"},domProps:{value:t.editedSampleScript},on:{input:function(e){e.target.composing||(t.editedSampleScript=e.target.value)}}})]):t._e()]),a("div",{staticClass:"tab-pane",staticStyle:{"margin-left":"3px"},attrs:{id:"tabSavedScripts",role:"tabpanel","aria-labelledby":"savedScripts-tab"}},[a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.createNewScript()}}},[t._v("New script...")])]),a("br"),t.savedScripts.length>0?a("table",{staticClass:"smallTable"},[t._m(4),a("tbody",t._l(t.savedScripts,(function(e){return a("tr",{key:e.name},[a("td",[a("b",[t._v(t._s(e.name))])]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return t.executeSavedScript(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==e.params},on:{click:function(a){return t.selectSavedScriptWithParams(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ...")],1)]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.configScript(e.name)}}},[t._v("Params")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.loadSavedScript(e.name)}}},[t._v("Open")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteSavedScript(e.name)}}},[t._v("delete")])])])})),0)]):t._e(),0==t.savedScripts.length?a("div",[t._v("You haven't created any script yet.")]):t._e(),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.saveScriptsToLocalStorage()}}},[t._v("Save to local storage")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.loadScriptsFromLocalStorage()}}},[t._v("Load from local storage")])])]),a("div",{staticClass:"tab-pane",staticStyle:{"margin-left":"3px"},attrs:{id:"tabVisualScripts",role:"tabpanel","aria-labelledby":"visualScripts-tab"}},[a("VisualScriptsTab",{ref:"visualScriptsTab"})],1)])])]),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isVisualScriptsTabSelected,expression:"!isVisualScriptsTabSelected"}]},[a("div",{staticClass:"panelHeader",on:{click:function(e){t.showScriptEditor=!t.showScriptEditor}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}]},[a("b",[t._v("Sample script:")]),t._v(" "+t._s(t.currentScriptName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}]},[a("b",[t._v("My script:")]),t._v(" "+t._s(t.currentScriptName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:null==t.currentScriptType,expression:"currentScriptType == null"}]},[a("b",[t._v("Untitled script")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showScriptEditor,expression:"showScriptEditor"}]},[a("textarea",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode",spellcheck:"false"}}),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:t.executeScript}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),a("button",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(e){return t.selectSavedScriptWithParams(t.currentScriptName)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ...")],1),a("button",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==t.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(e){return t.selectSampleScriptWithParams(t.currentScriptName)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" ...")],1),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=t.currentScriptType},on:{click:function(e){return t.configScript(t.currentScriptName)}}},[t._v("Params")]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=t.currentScriptType},on:{click:t.saveScript}},[t._v("Save")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.saveScriptAs}},[t._v("Save as...")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.newScript}},[t._v("New")])])])])])]),a("div",{staticClass:"columnBox mainColDiv"},[t._m(5),a("div",{staticClass:"tab-content tabCanvas",staticStyle:{"margin-top":"5px"},attrs:{id:"tabCanvas"}},[a("div",{staticClass:"tab-pane show active",attrs:{id:"tab_all_layers",role:"tabpanel","aria-labelledby":"contact-tab"}},[a("canvas",{staticClass:"canvasElement",style:"width:"+t.canvasWidthCss+"px",attrs:{id:"canvasAllLayers",width:t.canvasWidth,height:t.canvasHeight}})]),a("div",{staticClass:"tab-pane",attrs:{id:"tab_current_layer",role:"tabpanel","aria-labelledby":"contact-tab"}},[a("canvas",{staticClass:"canvasElement",style:"width:"+t.canvasWidthCss+"px",attrs:{id:"canvasCurrentLayer",width:t.canvasWidth,height:t.canvasHeight}})])]),a("div",{staticClass:"buttonGroup"},[a("span",[a("b",[t._v("Current tool: ")]),t._v(t._s(t.currentTool))]),t._m(6),a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.ctx.fillStyle,on:{click:function(e){return t.openColorPicker("fillStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle"},[t._v(t._s(t.ctx.fillStyle))]),t._m(7),a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.ctx.strokeStyle,on:{click:function(e){return t.openColorPicker("strokeStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle"},[t._v(t._s(t.ctx.strokeStyle))]),a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[t._v("Position: ")]),t._v(t._s(t.mousePosition.x)+","+t._s(t.mousePosition.y))])]),a("div")]),a("div",{staticClass:"columnBoxRight"},[a("VisualScriptBlockParamsPanel",{ref:"visualScriptBlockParamsPanel"}),a("ConfigureScriptPanel",{ref:"configureScriptPanel"}),a("ScriptWithParamsPanel",{ref:"scriptWithParamsPanel"}),a("ToolsPanel",{ref:"toolsPanel"}),a("LayersPanel",{ref:"layersPanel"}),a("ContextPanel"),a("EventsPanel"),a("ImagesPanel"),a("FontsPanel"),a("GlobalVariablesPanel",{ref:"globalVariablesPanel"}),a("LogsPanel")],1)]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modalSaveSampleScriptAs",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(8),a("div",{staticClass:"modal-body"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newScriptName,expression:"newScriptName"}],domProps:{value:t.newScriptName},on:{input:function(e){e.target.composing||(t.newScriptName=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.saveSampleScriptAs()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("ModalSetCanvasSize",{ref:"modalSetCanvasSize"}),a("ModalOpenProject",{ref:"modalOpenProject"}),a("ModalExport"),a("ModalPasteImageFromClipboard"),a("ModalHelp"),a("ModalColorPicker",{ref:"modalColorPicker"})],1)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/",target:"_blank"}},[n("img",{attrs:{src:a("6cfa")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://www.youtube.com/channel/UC6MPzpvbIs1x2HtoM83fVcQ",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("aaba")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://www.reddit.com/r/DrawJS/",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("8f63")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://danielbarral.itch.io/drawjs",target:"_blank"}},[n("img",{staticStyle:{width:"32px","margin-right":"8px"},attrs:{src:a("e004")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th"),a("th"),a("th"),a("th"),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_all_layers",role:"tab","aria-controls":"tab_all_layers","aria-selected":"false"}},[t._v("All layers")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_current_layer",role:"tab","aria-controls":"tab_current_layer","aria-selected":"false"}},[t._v("Current layer")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[t._v("fillStyle: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[t._v("strokeStyle: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Save sample script as...")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}];a("d3b7");function i(t,e,a,n,r,i,s){try{var o=t[i](s),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,r)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function o(t){i(s,n,r,o,l,"next",t)}function l(t){i(s,n,r,o,l,"throw",t)}o(void 0)}))}}a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("4de4"),a("2ca0"),a("ac1f"),a("1276"),a("a9e3"),a("a434"),a("b0c0"),a("e9c4"),a("96cf");var o=a("ffc9"),l=(a("a15b"),a("d81d"),a("25f0"),a("466d"),a("5319"),{pasteClipboardImage:function(t){if(t.clipboardData){var e=t.clipboardData.items;if(e){for(var a=!1,n=0;n<e.length;n++)if(-1!==e[n].type.indexOf("image")){var r=e[n].getAsFile(),i=window.URL||window.webkitURL,s=i.createObjectURL(r);if(null!=s){var o=new Image;o.onload=function(){window.ctx.drawImage(o,0,0)},o.src=s}a=!0}a&&t.preventDefault()}}},convoluteLayer:function(t,e,a){var n=t.canvas.width,r=t.canvas.height,i=t.getImageData(0,0,n,r),s=this.convolute(i,e,a);t.putImageData(s,0,0)},convolute:function(t,e,a){for(var n=Math.round(Math.sqrt(e.length)),r=Math.floor(n/2),i=t.data,s=t.width,o=t.height,l=s,c=o,u=document.createElement("canvas").getContext("2d").createImageData(l,c),d=u.data,p=a?1:0,h=0;h<c;h++)for(var m=0;m<l;m++){for(var v=h,f=m,g=4*(h*l+m),b=0,y=0,w=0,x=0,C=0;C<n;C++)for(var S=0;S<n;S++){var _=v+C-r,k=f+S-r;if(_>=0&&_<o&&k>=0&&k<s){var P=4*(_*s+k),$=e[C*n+S];b+=i[P]*$,y+=i[P+1]*$,w+=i[P+2]*$,x+=i[P+3]*$}}d[g]=b,d[g+1]=y,d[g+2]=w,d[g+3]=x+p*(255-x)}return u},rgbToHex:function(t){return"#"+[t.r,t.g,t.b].map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("")},hexToRgb:function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,a,n){return"#"+e+e+a+a+n+n})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}));return{r:e[0],g:e[1],b:e[2]}},hexToRgba:function(t){t.length<9&&(t+="ff");var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,a,n,r){return"#"+e+e+a+a+n+n+r+r})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}));return{r:e[0],g:e[1],b:e[2],a:e[3]/255}},rgbAdd:function(t,e){return t.r+=e,t.g+=e,t.b+=e,t.r=this.rgbFit(t.r),t.g=this.rgbFit(t.g),t.b=this.rgbFit(t.b),t},rgbFit:function(t){return t=Math.round(t),Math.max(Math.min(t,255),0)},random256:function(){return Math.floor(256*Math.random())},cloneCanvas:function(t){var e=document.createElement("canvas");e.width=600,e.height=400;var a=e.getContext("2d");return a.drawImage(t,0,0),e},getImageDataPosition:function(t,e,a){var n=t.width,r=4*(a*n+e);return r},cropAt:function(t,e,a,n,r){var i=t.width,s=t.height,o=t.getContext("2d"),l=o.getImageData(0,0,i,s),c=n-e+1,u=r-a+1,d=document.createElement("canvas");d.width=c,d.height=u;var p=d.getContext("2d");return p.putImageData(l,-e,-a),d},crop:function(t){for(var e=t.width,a=t.height,n=t.getContext("2d"),r=n.getImageData(0,0,e,a),i=0,s=0,o=e-1,l=a-1,c=0;c<e;c++){var u=!0;i=c;for(var d=0;d<a;d++){var p=this.getImageDataPosition(t,c,d);if(r.data[p+3]>0){u=!1;break}}if(!u)break}for(var h=e-1;h>=0;h--){var m=!0;o=h;for(var v=0;v<a;v++){var f=this.getImageDataPosition(t,h,v);if(r.data[f+3]>0){m=!1;break}}if(!m)break}for(var g=0;g<a;g++){var b=!0;s=g;for(var y=0;y<e;y++){var w=this.getImageDataPosition(t,y,g);if(r.data[w+3]>0){b=!1;break}}if(!b)break}for(var x=a-1;x>=0;x--){var C=!0;l=x;for(var S=0;S<e;S++){var _=this.getImageDataPosition(t,S,x);if(r.data[_+3]>0){C=!1;break}}if(!C)break}return this.cropAt(t,i,s,o,l)},getColorAtPixel:function(t,e,a){var n=t.width,r=t.data;return{r:r[4*(n*a+e)+0],g:r[4*(n*a+e)+1],b:r[4*(n*a+e)+2],a:r[4*(n*a+e)+3]}},setColorAtPixel:function(t,e,a,n){var r=t.width,i=t.data;i[4*(r*n+a)+0]=255&e.r,i[4*(r*n+a)+1]=255&e.g,i[4*(r*n+a)+2]=255&e.b,i[4*(r*n+a)+3]=255&e.a},colorMatch:function(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a},floodFill:function(t,e,a,n){var r=t.canvas.width,i=t.canvas.height,s=t.getImageData(0,0,r,i);this.floodFillImageData(s,e,a,n),t.putImageData(s,0,0)},floodFillImageData:function(t,e,a,n){var r=t.width,i=t.height,s=[],o=this.getColorAtPixel(t,a,n),l={x:a,y:n};if(!this.colorMatch(o,e)){s.push({x:l.x,y:l.y});while(s.length){l=s.pop();var c=!0,u=!0,d=!1,p=!1;while(u&&l.y>=0)l.y--,u=this.colorMatch(this.getColorAtPixel(t,l.x,l.y),o);while(c&&l.y<i)this.setColorAtPixel(t,e,l.x,l.y),l.x-1>=0&&this.colorMatch(this.getColorAtPixel(t,l.x-1,l.y),o)?d||(d=!0,s.push({x:l.x-1,y:l.y})):d=!1,l.x+1<r&&this.colorMatch(this.getColorAtPixel(t,l.x+1,l.y),o)?p||(s.push({x:l.x+1,y:l.y}),p=!0):p=!1,l.y++,c=this.colorMatch(this.getColorAtPixel(t,l.x,l.y),o)}}}}),c=l,u=a("21a6"),d={gradients:{},memory:{},rand_vect:function(){var t=2*Math.random()*Math.PI;return{x:Math.cos(t),y:Math.sin(t)}},dot_prod_grid:function(t,e,a,n){var r,i={x:t-a,y:e-n};return this.gradients[[a,n]]?r=this.gradients[[a,n]]:(r=this.rand_vect(),this.gradients[[a,n]]=r),i.x*r.x+i.y*r.y},smootherstep:function(t){return 6*Math.pow(t,5)-15*Math.pow(t,4)+10*Math.pow(t,3)},interp:function(t,e,a){return e+this.smootherstep(t)*(a-e)},seed:function(){this.gradients={},this.memory={}},get:function(t,e){if(null!=this.memory[[t,e]])return this.memory[[t,e]];var a=Math.floor(t),n=Math.floor(e),r=this.dot_prod_grid(t,e,a,n),i=this.dot_prod_grid(t,e,a+1,n),s=this.dot_prod_grid(t,e,a,n+1),o=this.dot_prod_grid(t,e,a+1,n+1),l=this.interp(t-a,r,i),c=this.interp(t-a,s,o),u=this.interp(e-n,l,c);return this.memory[[t,e]]=u,u}},p=d;function h(t){return m.apply(this,arguments)}function m(){return m=s(regeneratorRuntime.mark((function t(e){var a,n,r,i,s,o,l,c,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a={name:"MyProject",drawJsVersion:"0.1.0",canvasWidth:e.canvasWidth,canvasHeight:e.canvasHeight,layers:e.canvasLayers,images:e.images,fonts:e.fonts,globalVariables:e.globalVariables,savedScripts:e.savedScripts,customEvents:e.customEvents,visualScripts:e.$refs.visualScriptsTab.visualScripts},n=0;n<a.layers.length;n++)r=a.layers[n],r.imageData=r.canvas.toDataURL("image/png");i=0;case 3:if(!(i<a.images.length)){t.next=15;break}return s=a.images[i],o=s.url,t.next=8,fetch(o).then((function(t){return t.blob()}));case 8:return l=t.sent,t.next=11,v(l);case 11:s.imageData=t.sent;case 12:i++,t.next=3;break;case 15:c=0;case 16:if(!(c<a.fonts.length)){t.next=28;break}return u=a.fonts[c],d=u.url,t.next=21,fetch(d).then((function(t){return t.blob()}));case 21:return p=t.sent,t.next=24,v(p);case 24:u.fontData=t.sent;case 25:c++,t.next=16;break;case 28:return t.abrupt("return",a);case 29:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function v(t){return new Promise((function(e,a){var n=new FileReader;n.onloadend=function(){return e(n.result)},n.onerror=function(){return a()},n.readAsDataURL(t)}))}var f={serializeProject:function(){var t=s(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return a=t.sent,n=JSON.stringify(a,null,2),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},g=f,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand navbar-light",staticStyle:{position:"absolute"}},[a("a",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",left:"10px",top:"13px"},attrs:{role:"button",id:"navbarDropdownMenuLink"},on:{mousedown:function(e){return t.onMainMenuClick()}}},[a("IconMenu",{staticStyle:{"margin-top":"-3px"},attrs:{color:"#ffffff"}}),t._v(" "),a("b",[t._v("Menu")])],1),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"main-menu-children","aria-labelledby":"navbarDropdownMenuLink"}},t._l(t.menuItems,(function(e){return a("li",{key:e.id,class:e.children.length>0?"dropdown-submenu":""},[0==e.children.length?a("a",{staticClass:"dropdown-item",on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOver("submenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"submenu-"+e.id},on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOver("submenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"submenu-"+e.id+"-children"}},t._l(e.children,(function(e){return a("li",{key:e.id,staticClass:"dropdown-submenu"},[0==e.children.length?a("a",{staticClass:"dropdown-item",attrs:{id:"subsubmenu-"+e.id},on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOverLevel2("subsubmenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"subsubmenu-"+e.id},on:{click:function(a){return t.onMenuItemClick(e.id)},mouseover:function(a){return t.mouseOverLevel2("subsubmenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"subsubmenu-"+e.id+"-children"}},t._l(e.children,(function(e){return a("li",{key:e.id},[a("a",{staticClass:"dropdown-item",on:{click:function(a){return t.onMenuItemClick(e.id)}}},[t._v(t._s(e.name))])])})),0):t._e()])})),0):t._e()])})),0)])])])]),t._m(1)])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"absolute",left:"84px",top:"13px"}},[a("a",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"7px"},attrs:{href:"/",role:"button",target:"_blank"}},[a("b",[t._v("Home")])])])}],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},x=[],C={name:"IconMenu",props:{color:{type:String,default:"#000000"}}},S=C,_=a("2877"),k=Object(_["a"])(S,w,x,!1,null,"ba0db6c4",null),P=k.exports,$={name:"MainMenu",components:{IconMenu:P},props:{},data:function(){return{menuOpened:!1,menuItems:[{id:"project",name:"Project",children:[{id:"new-project",name:"New project...",children:[]},{id:"save-project",name:"Save project...",children:[]},{id:"open-project",name:"Open project...",children:[]}]},{id:"edit",name:"Edit",children:[{id:"paste-image-from-clipboard",name:"Paste image from clipboard (CTRL+V)",children:[]}]},{id:"image",name:"Image",children:[{id:"clear-current-layer",name:"Clear current layer",children:[]},{id:"fill-white",name:"Fill with white",children:[]},{id:"fill-black",name:"Fill with black",children:[]},{id:"fill-with-current-fill-style",name:"Fill with current fillStyle",children:[]},{id:"invert-colors",name:"Invert colors",children:[]},{id:"invert-alpha",name:"Invert alpha",children:[]},{id:"flip-horizontally",name:"Flip horizontally",children:[]},{id:"flip-vertically",name:"Flip vertically",children:[]},{id:"rotate-layer",name:"Rotate...",children:[]},{id:"move-layer",name:"Move...",children:[]}]},{id:"layer",name:"Layer",children:[{id:"add-layer",name:"Add layer",children:[]},{id:"duplicate-layer",name:"Duplicate layer",children:[]},{id:"delete-layer",name:"Delete layer",children:[]}]},{id:"draw",name:"Draw",children:[{id:"text",name:"Text",children:[{id:"draw-text",name:"Draw text...",children:[]},{id:"draw-stroke-text",name:"Draw stroke text...",children:[]},{id:"draw-shadow-text",name:"Draw shadow text...",children:[]},{id:"glow-text",name:"Glow text...",children:[]},{id:"draw-3d-text",name:"Draw 3D text...",children:[]},{id:"logo-01",name:"Logo 01...",children:[]},{id:"logo-02",name:"Logo 02...",children:[]},{id:"logo-03",name:"Logo 03...",children:[]},{id:"logo-04",name:"Logo 04...",children:[]},{id:"logo-05",name:"Logo 05...",children:[]},{id:"logo-06",name:"Logo 06...",children:[]},{id:"logo-07",name:"Logo 07...",children:[]},{id:"logo-08",name:"Logo 08...",children:[]},{id:"logo-09",name:"Logo 09...",children:[]},{id:"logo-10",name:"Logo 10...",children:[]}]},{id:"buttons",name:"Buttons",children:[{id:"round-button",name:"Round button...",children:[]},{id:"round-button-2",name:"Round button 2...",children:[]},{id:"round-button-3",name:"Round button 3...",children:[]},{id:"gradient-round-button",name:"Gradient round button...",children:[]},{id:"gradient-round-button-2",name:"Gradient round button 2...",children:[]},{id:"3d-gradient-round-button",name:"3D gradient round button...",children:[]},{id:"3d-gradient-round-button-2",name:"3D gradient round button 2...",children:[]}]},{id:"backgrounds",name:"Backgrounds",children:[{id:"sunburst-effect",name:"Sunburst effect...",children:[]},{id:"checkerboard",name:"Checkerboard...",children:[]},{id:"concentric-circles",name:"Concentric circles...",children:[]},{id:"gray-noise",name:"Gray noise...",children:[]}]},{id:"draw-line",name:"Draw line...",children:[]},{id:"draw-circle",name:"Draw circle...",children:[]},{id:"fill-circle",name:"Fill circle...",children:[]},{id:"draw-rect",name:"Draw rect...",children:[]},{id:"fill-rect",name:"Fill rect...",children:[]}]},{id:"filters",name:"Filters",children:[{id:"color",name:"Color",children:[{id:"grayscale",name:"Grayscale",children:[]},{id:"sepia",name:"Sepia",children:[]},{id:"lighter",name:"Lighter...",children:[]},{id:"darker",name:"Darker...",children:[]},{id:"hue-rotate",name:"Hue rotate...",children:[]},{id:"hue-rotate-120",name:"Hue rotate 120",children:[]},{id:"set-color-component",name:"Set color component...",children:[]},{id:"set-image-color",name:"Set image color RGB...",children:[]},{id:"set-image-color-hex",name:"Set image color hex...",children:[]},{id:"modulate-image-color",name:"Modulate image color...",children:[]}]},{id:"border",name:"Border",children:[{id:"add-border",name:"Add border...",children:[]},{id:"add-double-border",name:"Add double border...",children:[]},{id:"add-color-border",name:"Add color border RGB...",children:[]},{id:"add-color-border-hex",name:"Add color border hex...",children:[]}]},{id:"blur",name:"Blur...",children:[]},{id:"add-shadow",name:"Add shadow...",children:[]},{id:"sharpen",name:"Sharpen",children:[]},{id:"emboss",name:"Emboss",children:[]},{id:"emboss-2",name:"Emboss 2...",children:[]},{id:"grow",name:"Grow...",children:[]},{id:"noise",name:"Noise...",children:[]}]},{id:"scripts",name:"Scripts",children:[{id:"new-script",name:"New script...",children:[]}]},{id:"set-canvas-size",name:"Set canvas size...",children:[]},{id:"export",name:"Export...",children:[]},{id:"help",name:"Help",children:[]}],currentMenuItem:null}},mounted:function(){window.$(".dropdown-menu").click((function(t){t.stopPropagation()})),window.$("#navbarDropdownMenuLink").click((function(t){t.stopPropagation()}));var t=this;window.$(document).click((function(e){t.resetMenu()}))},methods:{onMainMenuClick:function(){this.menuOpened?this.resetMenu():this.openMainMenu()},hideMenuItem:function(t){var e=document.getElementById(t+"-children");null!=e&&e.classList.remove("show")},showMenuItem:function(t){var e=document.getElementById(t+"-children");null!=e&&e.classList.add("show")},selectMenuItem:function(t){var e=document.getElementById(t);null!=e&&e.classList.add("dropdown-item-selected")},unselectMenuItem:function(t){var e=document.getElementById(t);null!=e&&e.classList.remove("dropdown-item-selected")},unselectMenuItemsLevel1:function(){for(var t=0;t<this.menuItems.length;t++){var e=this.menuItems[t];this.unselectMenuItem("submenu-"+e.id)}this.unselectMenuItemsLevel2()},unselectMenuItemsLevel2:function(){for(var t=0;t<this.menuItems.length;t++)for(var e=this.menuItems[t],a=0;a<e.children.length;a++){var n=e.children[a];this.unselectMenuItem("subsubmenu-"+n.id)}},selectMenuItemLevel1:function(t){this.unselectMenuItemsLevel1(),this.selectMenuItem(t)},selectMenuItemLevel2:function(t){this.unselectMenuItemsLevel2(),this.selectMenuItem(t)},openMainMenu:function(){this.showMenuItem("main-menu"),this.menuOpened=!0},resetMenu:function(){this.hideMenuItem("main-menu"),this.resetMenuLevel2(),this.unselectMenuItemsLevel1(),this.menuOpened=!1},resetMenuLevel2:function(){for(var t=0;t<this.menuItems.length;t++){var e=this.menuItems[t];this.hideMenuItem("submenu-"+e.id)}this.resetMenuLevel3()},resetMenuLevel3:function(){for(var t=0;t<this.menuItems.length;t++)for(var e=this.menuItems[t],a=0;a<e.children.length;a++){var n=e.children[a];this.hideMenuItem("subsubmenu-"+n.id)}},mouseOver:function(t){this.resetMenuLevel2(),this.showMenuItem(t),this.selectMenuItemLevel1(t)},mouseOverLevel2:function(t){this.resetMenuLevel3(),this.showMenuItem(t),this.selectMenuItemLevel2(t)},fillScreenWhite:function(){this.resetMenu(),this.$parent.fillScreenWhite()},fillScreenBlack:function(){this.resetMenu(),this.$parent.fillScreenBlack()},clearCurrentLayer:function(){this.resetMenu(),this.$parent.clearCurrentLayer()},onMenuItemClick:function(t){if("new-project"==t)this.$parent.newBlankProject(!0);else if("save-project"==t)this.$parent.saveProject();else if("open-project"==t)this.$parent.showModalOpenProject();else if("fill-white"==t)this.$parent.fillScreenWhite();else if("fill-black"==t)this.$parent.fillScreenBlack();else if("fill-with-current-fill-style"==t)this.$parent.executeSampleScript("Fill with current fillStyle",{});else if("clear-current-layer"==t)this.$parent.clearCurrentLayer();else if("export"==t)this.$parent.showExportModal();else if("set-canvas-size"==t)this.$parent.showModalSetCanvasSize();else if("help"==t)this.$parent.showModalHelp();else if("paste-image-from-clipboard"==t)this.$parent.showModalPasteImageFromClipboard();else if("add-layer"==t)this.$parent.$refs.layersPanel.showAddLayerForm();else if("duplicate-layer"==t)this.$parent.$refs.layersPanel.showDuplicateLayerForm();else if("delete-layer"==t)this.$parent.deleteCurrentLayer();else if("new-script"==t)this.$parent.createNewScript();else if("grayscale"==t)this.$parent.executeSampleScript("Grayscale layer",{});else if("sepia"==t)this.$parent.executeSampleScript("Repaint with filter",{filter:"sepia(100%)"});else if("lighter"==t)this.$parent.selectSampleScriptWithParams("Lighter");else if("darker"==t)this.$parent.selectSampleScriptWithParams("Darker");else if("invert-colors"==t)this.$parent.executeSampleScript("Invert image colors",{});else if("invert-alpha"==t)this.$parent.executeSampleScript("Invert image alpha",{});else if("blur"==t)this.$parent.selectSampleScriptWithParams("Blur layer");else if("grow"==t)this.$parent.selectSampleScriptWithParams("Grow");else if("set-image-color"==t)this.$parent.selectSampleScriptWithParams("Set image color");else if("set-image-color-hex"==t)this.$parent.selectSampleScriptWithParams("Set image color hex");else if("set-color-component"==t)this.$parent.selectSampleScriptWithParams("Set color component");else if("modulate-image-color"==t)this.$parent.selectSampleScriptWithParams("Modulate image color");else if("add-border"==t)this.$parent.selectSampleScriptWithParams("Add border");else if("add-double-border"==t)this.$parent.selectSampleScriptWithParams("Add double border");else if("add-color-border"==t)this.$parent.selectSampleScriptWithParams("Add color border");else if("add-color-border-hex"==t)this.$parent.selectSampleScriptWithParams("Add color border hex");else if("noise"==t)this.$parent.selectSampleScriptWithParams("Noise");else if("sunburst-effect"==t)this.$parent.selectSampleScriptWithParams("Sunburst effect");else if("checkerboard"==t)this.$parent.selectSampleScriptWithParams("Checkerboard");else if("concentric-circles"==t)this.$parent.selectSampleScriptWithParams("Concentric circles");else if("gray-noise"==t)this.$parent.selectSampleScriptWithParams("Gray noise");else if("draw-line"==t)this.$parent.selectSampleScriptWithParams("Draw line");else if("draw-circle"==t)this.$parent.selectSampleScriptWithParams("Draw circle");else if("fill-circle"==t)this.$parent.selectSampleScriptWithParams("Fill circle");else if("draw-rect"==t)this.$parent.selectSampleScriptWithParams("Draw rect");else if("fill-rect"==t)this.$parent.selectSampleScriptWithParams("Fill rect");else if("draw-text"==t)this.$parent.selectSampleScriptWithParams("Draw text");else if("draw-stroke-text"==t)this.$parent.selectSampleScriptWithParams("Draw stroke text");else if("glow-text"==t)this.$parent.selectSampleScriptWithParams("Glow text");else if("draw-3d-text"==t)this.$parent.selectSampleScriptWithParams("Draw 3D text");else if("draw-shadow-text"==t)this.$parent.selectSampleScriptWithParams("Draw shadow text");else if("logo-01"==t)this.$parent.selectSampleScriptWithParams("Logo 01");else if("logo-02"==t)this.$parent.selectSampleScriptWithParams("Logo 02");else if("logo-03"==t)this.$parent.selectSampleScriptWithParams("Logo 03");else if("logo-04"==t)this.$parent.selectSampleScriptWithParams("Logo 04");else if("logo-05"==t)this.$parent.selectSampleScriptWithParams("Logo 05");else if("logo-06"==t)this.$parent.selectSampleScriptWithParams("Logo 06");else if("logo-07"==t)this.$parent.selectSampleScriptWithParams("Logo 07");else if("logo-08"==t)this.$parent.selectSampleScriptWithParams("Logo 08");else if("logo-09"==t)this.$parent.selectSampleScriptWithParams("Logo 09");else if("logo-10"==t)this.$parent.selectSampleScriptWithParams("Logo 10");else if("round-button"==t)this.$parent.selectSampleScriptWithParams("Round button");else if("round-button-2"==t)this.$parent.selectSampleScriptWithParams("Round button 2");else if("round-button-3"==t)this.$parent.selectSampleScriptWithParams("Round button 3");else if("gradient-round-button"==t)this.$parent.selectSampleScriptWithParams("Gradient round button");else if("gradient-round-button-2"==t)this.$parent.selectSampleScriptWithParams("Gradient round button 2");else if("3d-gradient-round-button"==t)this.$parent.selectSampleScriptWithParams("3D gradient round button");else if("3d-gradient-round-button-2"==t)this.$parent.selectSampleScriptWithParams("3D gradient round button 2");else if("flip-horizontally"==t)this.$parent.executeSampleScript("Flip horizontally",{});else if("flip-vertically"==t)this.$parent.executeSampleScript("Flip vertically",{});else if("rotate-layer"==t)this.$parent.selectSampleScriptWithParams("Rotate layer");else if("add-shadow"==t)this.$parent.selectSampleScriptWithParams("Add shadow");else if("sharpen"==t)this.$parent.executeSampleScript("Sharpen",{});else if("emboss"==t)this.$parent.executeSampleScript("Emboss",{});else if("emboss-2"==t)this.$parent.selectSampleScriptWithParams("Emboss 2");else if("hue-rotate"==t)this.$parent.selectSampleScriptWithParams("Hue rotate layer");else if("hue-rotate-120"==t)this.$parent.executeSampleScript("Hue rotate layer 120");else{if("move-layer"!=t)return;this.$parent.selectSampleScriptWithParams("Move layer")}this.resetMenu()}}},E=$,L=(a("29d8"),Object(_["a"])(E,b,y,!1,null,"0c4c9f87",null)),A=L.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("context")}}},[a("span",{staticClass:"panelTitle"},[t._v("Context")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.context,expression:"$parent.visiblePanels.context"}],staticClass:"panelBody"},[a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.resetContext()}}},[t._v("Reset context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.saveContext()}}},[t._v("Save context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.restoreContext()}}},[t._v("Restore context")])]),a("table",{staticClass:"smallTable contextPropertiesTable"},[a("tbody",[a("tr",[a("td",[t._v("fillStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.$parent.ctx.fillStyle,on:{click:function(e){return t.openColorPicker("fillStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[t._v(t._s(t.$parent.ctx.fillStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("fillStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.fillStyle,expression:"$parent.ctx.fillStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("fillStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("strokeStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.$parent.ctx.strokeStyle,on:{click:function(e){return t.openColorPicker("strokeStyle")}}}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[t._v(t._s(t.$parent.ctx.strokeStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("strokeStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.strokeStyle,expression:"$parent.ctx.strokeStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("strokeStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("font")]),a("td",[t._v(t._s(t.$parent.ctx.font))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("font")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"10px sans-serif"!=t.$parent.ctx.font,expression:"$parent.ctx.font != '10px sans-serif'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("font")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("textAlign")]),a("td",[t._v(t._s(t.$parent.ctx.textAlign))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textAlign")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"start"!=t.$parent.ctx.textAlign,expression:"$parent.ctx.textAlign != 'start'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textAlign")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("globalAlpha")]),a("td",[t._v(t._s(t.$parent.ctx.globalAlpha))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalAlpha")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.globalAlpha,expression:"$parent.ctx.globalAlpha != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalAlpha")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("globalCompositeOperation")]),a("td",[t._v(t._s(t.$parent.ctx.globalCompositeOperation))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalCompositeOperation")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"source-over"!=t.$parent.ctx.globalCompositeOperation,expression:"$parent.ctx.globalCompositeOperation != 'source-over'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalCompositeOperation")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("lineWidth")]),a("td",[t._v(t._s(t.$parent.ctx.lineWidth))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineWidth")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.lineWidth,expression:"$parent.ctx.lineWidth != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineWidth")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("lineCap")]),a("td",[t._v(t._s(t.$parent.ctx.lineCap))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineCap")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"butt"!=t.$parent.ctx.lineCap,expression:"$parent.ctx.lineCap != 'butt'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineCap")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("lineJoin")]),a("td",[t._v(t._s(t.$parent.ctx.lineJoin))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineJoin")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"miter"!=t.$parent.ctx.lineJoin,expression:"$parent.ctx.lineJoin != 'miter'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineJoin")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("miterLimit")]),a("td",[t._v(t._s(t.$parent.ctx.miterLimit))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("miterLimit")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:10!=t.$parent.ctx.miterLimit,expression:"$parent.ctx.miterLimit != 10"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("miterLimit")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("transform")]),a("td",[t._v(t._s(t.$parent.ctx.transform))]),a("td",[a("IconEdit"),a("span",{directives:[{name:"show",rawName:"v-show",value:"matrix(1, 0, 0, 1, 0, 0)"!=t.$parent.ctx.transform,expression:"$parent.ctx.transform != 'matrix(1, 0, 0, 1, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetTransform()}}},[a("IconReset")],1)],1)]),a("tr",[a("td",[t._v("filter")]),a("td",[t._v(t._s(t.$parent.ctx.filter))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("filter")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"none"!=t.$parent.ctx.filter,expression:"$parent.ctx.filter != 'none'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("filter")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowBlur")]),a("td",[t._v(t._s(t.$parent.ctx.shadowBlur))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowBlur")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowBlur,expression:"$parent.ctx.shadowBlur != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowBlur")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowColor")]),a("td",[t._v(t._s(t.$parent.ctx.shadowColor))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowColor")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"rgba(0, 0, 0, 0)"!=t.$parent.ctx.shadowColor,expression:"$parent.ctx.shadowColor != 'rgba(0, 0, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowColor")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowOffsetX")]),a("td",[t._v(t._s(t.$parent.ctx.shadowOffsetX))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetX")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetX,expression:"$parent.ctx.shadowOffsetX != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetX")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("shadowOffsetY")]),a("td",[t._v(t._s(t.$parent.ctx.shadowOffsetY))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetY")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetY,expression:"$parent.ctx.shadowOffsetY != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetY")}}},[a("IconReset")],1)])]),t.$parent.ctx.lineDash?a("tr",[a("td",[t._v("lineDash")]),a("td",[t._v(t._s(t.$parent.ctx.lineDash))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDash")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDash.length,expression:"$parent.ctx.lineDash.length != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDash")}}},[a("IconReset")],1)])]):t._e(),a("tr",[a("td",[t._v("lineDashOffset")]),a("td",[t._v(t._s(t.$parent.ctx.lineDashOffset))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDashOffset")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDashOffset,expression:"$parent.ctx.lineDashOffset != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDashOffset")}}},[a("IconReset")],1)])]),a("tr",[a("td",[t._v("textBaseline")]),a("td",[t._v(t._s(t.$parent.ctx.textBaseline))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textBaseline")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"alphabetic"!=t.$parent.ctx.textBaseline,expression:"$parent.ctx.textBaseline != 'alphabetic'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textBaseline")}}},[a("IconReset")],1)])])])]),a("div",{staticClass:"spacing"})]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditContextProperty",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"fillStyle"==t.currentAttribute,expression:"currentAttribute=='fillStyle'"}]},[t._v("fillStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.fillStyle,expression:"newCtx.fillStyle"}],domProps:{value:t.newCtx.fillStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"fillStyle",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"strokeStyle"==t.currentAttribute,expression:"currentAttribute=='strokeStyle'"}]},[t._v("strokeStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.strokeStyle,expression:"newCtx.strokeStyle"}],domProps:{value:t.newCtx.strokeStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"strokeStyle",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"font"==t.currentAttribute,expression:"currentAttribute=='font'"}]},[t._v("font: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.font,expression:"newCtx.font"}],domProps:{value:t.newCtx.font},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"font",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalAlpha"==t.currentAttribute,expression:"currentAttribute=='globalAlpha'"}]},[t._v("globalAlpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalAlpha,expression:"newCtx.globalAlpha"}],domProps:{value:t.newCtx.globalAlpha},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"globalAlpha",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineWidth"==t.currentAttribute,expression:"currentAttribute=='lineWidth'"}]},[t._v("lineWidth: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineWidth,expression:"newCtx.lineWidth"}],domProps:{value:t.newCtx.lineWidth},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineWidth",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineCap"==t.currentAttribute,expression:"currentAttribute=='lineCap'"}]},[t._v(" lineCap: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineCap,expression:"newCtx.lineCap"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"lineCap",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"butt"}},[t._v("butt")]),a("option",{attrs:{value:"round"}},[t._v("round")]),a("option",{attrs:{value:"square"}},[t._v("square")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineJoin"==t.currentAttribute,expression:"currentAttribute=='lineJoin'"}]},[t._v(" lineJoin: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineJoin,expression:"newCtx.lineJoin"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"lineJoin",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"miter"}},[t._v("miter")]),a("option",{attrs:{value:"bevel"}},[t._v("bevel")]),a("option",{attrs:{value:"round"}},[t._v("round")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"filter"==t.currentAttribute,expression:"currentAttribute=='filter'"}]},[t._v("filter: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.filter,expression:"newCtx.filter"}],domProps:{value:t.newCtx.filter},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"filter",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowBlur"==t.currentAttribute,expression:"currentAttribute=='shadowBlur'"}]},[t._v("shadowBlur: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowBlur,expression:"newCtx.shadowBlur"}],domProps:{value:t.newCtx.shadowBlur},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowBlur",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowColor"==t.currentAttribute,expression:"currentAttribute=='shadowColor'"}]},[t._v("shadowColor: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowColor,expression:"newCtx.shadowColor"}],domProps:{value:t.newCtx.shadowColor},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowColor",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetX"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetX'"}]},[t._v("shadowOffsetX: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetX,expression:"newCtx.shadowOffsetX"}],domProps:{value:t.newCtx.shadowOffsetX},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetX",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetY"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetY'"}]},[t._v("shadowOffsetY: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetY,expression:"newCtx.shadowOffsetY"}],domProps:{value:t.newCtx.shadowOffsetY},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetY",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDash"==t.currentAttribute,expression:"currentAttribute=='lineDash'"}]},[t._v("lineDash: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashStr,expression:"newCtx.lineDashStr"}],domProps:{value:t.newCtx.lineDashStr},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashStr",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDashOffset"==t.currentAttribute,expression:"currentAttribute=='lineDashOffset'"}]},[t._v("lineDashOffset: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashOffset,expression:"newCtx.lineDashOffset"}],domProps:{value:t.newCtx.lineDashOffset},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashOffset",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textAlign"==t.currentAttribute,expression:"currentAttribute=='textAlign'"}]},[t._v(" textAlign: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textAlign,expression:"newCtx.textAlign"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"textAlign",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"start"}},[t._v("start")]),a("option",{attrs:{value:"end"}},[t._v("end")]),a("option",{attrs:{value:"left"}},[t._v("left")]),a("option",{attrs:{value:"right"}},[t._v("right")]),a("option",{attrs:{value:"center"}},[t._v("center")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"miterLimit"==t.currentAttribute,expression:"currentAttribute=='miterLimit'"}]},[t._v("miterLimit: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.miterLimit,expression:"newCtx.miterLimit"}],domProps:{value:t.newCtx.miterLimit},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"miterLimit",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textBaseline"==t.currentAttribute,expression:"currentAttribute=='textBaseline'"}]},[t._v(" textBaseline: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textBaseline,expression:"newCtx.textBaseline"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"textBaseline",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"alphabetic"}},[t._v("alphabetic")]),a("option",{attrs:{value:"top"}},[t._v("top")]),a("option",{attrs:{value:"hanging"}},[t._v("hanging")]),a("option",{attrs:{value:"middle"}},[t._v("middle")]),a("option",{attrs:{value:"ideographic"}},[t._v("ideographic")]),a("option",{attrs:{value:"bottom"}},[t._v("bottom")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalCompositeOperation"==t.currentAttribute,expression:"currentAttribute=='globalCompositeOperation'"}]},[t._v(" globalCompositeOperation: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalCompositeOperation,expression:"newCtx.globalCompositeOperation"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"globalCompositeOperation",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"source-over"}},[t._v("source-over")]),a("option",{attrs:{value:"source-in"}},[t._v("source-in")]),a("option",{attrs:{value:"source-out"}},[t._v("source-out")]),a("option",{attrs:{value:"source-atop"}},[t._v("source-atop")]),a("option",{attrs:{value:"destination-over"}},[t._v("destination-over")]),a("option",{attrs:{value:"destination-in"}},[t._v("destination-in")]),a("option",{attrs:{value:"destination-out"}},[t._v("destination-out")]),a("option",{attrs:{value:"destination-atop"}},[t._v("destination-atop")]),a("option",{attrs:{value:"lighter"}},[t._v("lighter")]),a("option",{attrs:{value:"copy"}},[t._v("copy")]),a("option",{attrs:{value:"xor"}},[t._v("xor")]),a("option",{attrs:{value:"multiply"}},[t._v("multiply")]),a("option",{attrs:{value:"screen"}},[t._v("screen")]),a("option",{attrs:{value:"overlay"}},[t._v("overlay")]),a("option",{attrs:{value:"darken"}},[t._v("darken")]),a("option",{attrs:{value:"lighten"}},[t._v("lighten")]),a("option",{attrs:{value:"color-dodge"}},[t._v("color-dodge")]),a("option",{attrs:{value:"color-burn"}},[t._v("color-burn")]),a("option",{attrs:{value:"hard-light"}},[t._v("hard-light")]),a("option",{attrs:{value:"soft-light"}},[t._v("soft-light")]),a("option",{attrs:{value:"difference"}},[t._v("difference")]),a("option",{attrs:{value:"exclusion"}},[t._v("exclusion")]),a("option",{attrs:{value:"hue"}},[t._v("hue")]),a("option",{attrs:{value:"saturation"}},[t._v("saturation")]),a("option",{attrs:{value:"color"}},[t._v("color")]),a("option",{attrs:{value:"luminosity"}},[t._v("luminosity")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateContextAttribute()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit context attribute")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],T=(a("5b81"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])}),O=[],N={name:"IconEdit",props:{color:{type:String,default:"#000000"}}},M=N,R=Object(_["a"])(M,T,O,!1,null,"7486f52d",null),B=R.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",fill:"#0000aa"}})])},W=[],j={name:"IconReset",props:{}},V=j,H=Object(_["a"])(V,D,W,!1,null,"7df9adc1",null),U=H.exports,G={name:"ContextPanel",components:{IconEdit:B,IconReset:U},props:{},data:function(){return{currentAttribute:null,newCtx:{fillStyle:null,lineCap:"butt",lineJoin:"miter",textAlign:"start",textBaseline:"alphabetic",globalCompositeOperation:"source-over"}}},methods:{editContextAttribute:function(t){this.currentAttribute=t,this.loadContextAttributeValues()},loadContextAttributeValues:function(){this.newCtx.fillStyle=window.ctx.fillStyle,this.newCtx.strokeStyle=window.ctx.strokeStyle,this.newCtx.font=window.ctx.font,this.newCtx.globalAlpha=window.ctx.globalAlpha,this.newCtx.lineWidth=window.ctx.lineWidth,this.newCtx.lineCap=window.ctx.lineCap,this.newCtx.lineJoin=window.ctx.lineJoin,this.newCtx.filter=window.ctx.filter,this.newCtx.shadowBlur=window.ctx.shadowBlur,this.newCtx.shadowColor=window.ctx.shadowColor,this.newCtx.shadowOffsetX=window.ctx.shadowOffsetX,this.newCtx.shadowOffsetY=window.ctx.shadowOffsetY,this.newCtx.lineDashOffset=window.ctx.lineDashOffset,this.newCtx.textAlign=window.ctx.textAlign,this.newCtx.miterLimit=window.ctx.miterLimit,this.newCtx.textBaseline=window.ctx.textBaseline,this.newCtx.globalCompositeOperation=window.ctx.globalCompositeOperation,this.newCtx.lineDashStr="["+window.ctx.getLineDash().toString()+"]"},updateContextAttribute:function(){"fillStyle"==this.currentAttribute?window.ctx.fillStyle=this.newCtx.fillStyle:"strokeStyle"==this.currentAttribute?window.ctx.strokeStyle=this.newCtx.strokeStyle:"font"==this.currentAttribute?window.ctx.font=this.newCtx.font:"globalAlpha"==this.currentAttribute?window.ctx.globalAlpha=this.newCtx.globalAlpha:"lineWidth"==this.currentAttribute?window.ctx.lineWidth=this.newCtx.lineWidth:"lineCap"==this.currentAttribute?window.ctx.lineCap=this.newCtx.lineCap:"lineJoin"==this.currentAttribute?window.ctx.lineJoin=this.newCtx.lineJoin:"filter"==this.currentAttribute?window.ctx.filter=this.newCtx.filter:"shadowBlur"==this.currentAttribute?window.ctx.shadowBlur=this.newCtx.shadowBlur:"shadowColor"==this.currentAttribute?window.ctx.shadowColor=this.newCtx.shadowColor:"shadowOffsetX"==this.currentAttribute?window.ctx.shadowOffsetX=this.newCtx.shadowOffsetX:"shadowOffsetY"==this.currentAttribute?window.ctx.shadowOffsetY=this.newCtx.shadowOffsetY:"lineDashOffset"==this.currentAttribute?window.ctx.lineDashOffset=this.newCtx.lineDashOffset:"textAlign"==this.currentAttribute?window.ctx.textAlign=this.newCtx.textAlign:"miterLimit"==this.currentAttribute?window.ctx.miterLimit=this.newCtx.miterLimit:"textBaseline"==this.currentAttribute?window.ctx.textBaseline=this.newCtx.textBaseline:"globalCompositeOperation"==this.currentAttribute?window.ctx.globalCompositeOperation=this.newCtx.globalCompositeOperation:"lineDash"==this.currentAttribute&&window.ctx.setLineDash(this.newCtx.lineDashStr.replaceAll("[","").replaceAll("]","").split(",")),this.$parent.updateCurrentContextDetails()},openColorPicker:function(t){window.$("#modalColorPicker").modal("show"),this.$parent.$refs.modalColorPicker.target=t,"fillStyle"==t?this.$parent.$refs.modalColorPicker.setCurrentColor(window.ctx.fillStyle):"strokeStyle"==t&&this.$parent.$refs.modalColorPicker.setCurrentColor(window.ctx.strokeStyle)}}},z=G,q=Object(_["a"])(z,I,F,!1,null,"3fd2dc46",null),Y=q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("layers")}}},[a("span",{staticClass:"panelTitle"},[t._v("Layers")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.layers,expression:"$parent.visiblePanels.layers"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.canvasLayers,(function(e){return a("tr",{key:e.name,class:{selectedLayer:null!=t.$parent.currentLayer&&e.name==t.$parent.currentLayer.name},on:{click:function(a){return t.$parent.setCurrentLayer(e.name)}}},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.visible,expression:"layer.visible"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_layer_visible_"+e.name},domProps:{checked:Array.isArray(e.visible)?t._i(e.visible,null)>-1:e.visible},on:{change:[function(a){var n=e.visible,r=a.target,i=!!r.checked;if(Array.isArray(n)){var s=null,o=t._i(n,s);r.checked?o<0&&t.$set(e,"visible",n.concat([s])):o>-1&&t.$set(e,"visible",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"visible",i)},function(e){return t.$parent.updateCanvasAllLayers()}]}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_layer_visible_"+e.name}})])]),a("td",[a("a",[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.alpha))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.$parent.setCurrentLayer(e.name)}}},[t._v("select")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditLayer"},on:{click:function(a){return t.editLayer(e)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.$parent.deleteLayer(e)}}},[t._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddLayer"},on:{click:function(e){return t.showAddLayerForm()}}},[t._v("Add layer")]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalDuplicateLayer"},on:{click:function(e){return t.showDuplicateLayerForm()}}},[t._v("Duplicate")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveLayerUp()}}},[a("IconUp")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveLayerDown()}}},[a("IconDown")],1)])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",[t._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedLayer.name,expression:"editedLayer.name"}],domProps:{value:t.editedLayer.name},on:{input:function(e){e.target.composing||t.$set(t.editedLayer,"name",e.target.value)}}})]),a("div",[t._v("alpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedLayer.alpha,expression:"editedLayer.alpha"}],domProps:{value:t.editedLayer.alpha},on:{input:function(e){e.target.composing||t.$set(t.editedLayer,"alpha",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateLayer()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[a("div",[t._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newLayerForm.name,expression:"newLayerForm.name"}],domProps:{value:t.newLayerForm.name},on:{input:function(e){e.target.composing||t.$set(t.newLayerForm,"name",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.addLayer()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalDuplicateLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-body"},[a("div",[t._v("New layer name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.duplicateLayerForm.newLayerName,expression:"duplicateLayerForm.newLayerName"}],domProps:{value:t.duplicateLayerForm.newLayerName},on:{input:function(e){e.target.composing||t.$set(t.duplicateLayerForm,"newLayerName",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.duplicateCurrentLayer()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("visible")]),a("th",[t._v("name")]),a("th",[t._v("alpha")]),a("th"),a("th"),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Duplicate layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{fill:"white",stroke:"white","stroke-width":"20","stroke-linecap":"round"}},[a("line",{attrs:{x1:"20",y1:"60",x2:"50",y2:"30"}}),a("line",{attrs:{x1:"80",y1:"60",x2:"50",y2:"30"}})])])},K=[],Q={name:"IconUp",props:{}},tt=Q,et=Object(_["a"])(tt,Z,K,!1,null,"14f3652c",null),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{fill:"white",stroke:"white","stroke-width":"20","stroke-linecap":"round"}},[a("line",{attrs:{x1:"20",y1:"30",x2:"50",y2:"60"}}),a("line",{attrs:{x1:"80",y1:"30",x2:"50",y2:"60"}})])])},rt=[],it={name:"IconDown",props:{}},st=it,ot=Object(_["a"])(st,nt,rt,!1,null,"28d65e8c",null),lt=ot.exports,ct={name:"LayersPanel",components:{IconUp:at,IconDown:lt},props:{},data:function(){return{originalLayer:null,editedLayer:{name:null,alpha:null},newLayerForm:{name:null},duplicateLayerForm:{newLayerName:null}}},methods:{showAddLayerForm:function(){this.newLayerForm.name="NewLayer",window.$("#modalAddLayer").modal("show")},addLayer:function(){this.$parent.addLayerWithName(this.newLayerForm.name),this.$parent.setCurrentLayer(this.newLayerForm.name)},showDuplicateLayerForm:function(){this.duplicateLayerForm.newLayerName="LayerCopy",window.$("#modalDuplicateLayer").modal("show")},duplicateCurrentLayer:function(){this.$parent.duplicateLayer(this.$parent.currentLayer,this.duplicateLayerForm.newLayerName)},editLayer:function(t){this.originalLayer=t,this.editedLayer.name=this.originalLayer.name,this.editedLayer.alpha=this.originalLayer.alpha},updateLayer:function(){this.originalLayer.name=this.editedLayer.name,this.originalLayer.alpha=parseFloat(this.editedLayer.alpha),this.$parent.updateCurrentLayerCanvas(),this.$parent.updateCanvasAllLayers()}}},ut=ct,dt=Object(_["a"])(ut,X,J,!1,null,"fd21fbbc",null),pt=dt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("tools")}}},[a("span",{staticClass:"panelTitle"},[t._v("Tools")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.tools,expression:"$parent.visiblePanels.tools"}],staticClass:"panelBody"},[a("div",{staticClass:"buttonGroup"},[t._m(0),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("move"),on:{click:function(e){return t.$parent.setCurrentTool("move")}}},[a("IconMove",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Move")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("pencil"),on:{click:function(e){return t.$parent.setCurrentTool("pencil")}}},[a("IconEdit",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Pencil")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("brush"),on:{click:function(e){return t.$parent.setCurrentTool("brush")}}},[a("IconBrush",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Brush")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("eraser"),on:{click:function(e){return t.$parent.setCurrentTool("eraser")}}},[a("IconEraser",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Eraser")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("bucketFill"),on:{click:function(e){return t.$parent.setCurrentTool("bucketFill")}}},[a("IconBucketFill",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Bucket fill")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("line"),on:{click:function(e){return t.$parent.setCurrentTool("line")}}},[a("IconLine",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Line")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("rectangle"),on:{click:function(e){return t.$parent.setCurrentTool("rectangle")}}},[a("IconRectangle",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Rectangle")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("circle"),on:{click:function(e){return t.$parent.setCurrentTool("circle")}}},[a("IconCircle",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Circle")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("ellipse"),on:{click:function(e){return t.$parent.setCurrentTool("ellipse")}}},[a("IconEllipse",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Ellipse")])]),a("div",{staticClass:"tooltip0"},[a("button",{class:t.getToolClass("none"),on:{click:function(e){return t.$parent.setCurrentTool("none")}}},[a("IconNone",{attrs:{color:"#ffffff"}}),t._v(" None")],1),a("span",{staticClass:"tooltiptext0"},[t._v("None")])])]),a("div",{staticClass:"buttonGroup"},[t._m(1),a("div",{staticClass:"tooltip0"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.zoomIn()}}},[a("IconZoomIn",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Zoom in")])]),a("div",{staticClass:"tooltip0"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.zoomOut()}}},[a("IconZoomOut",{attrs:{color:"#ffffff"}})],1),a("span",{staticClass:"tooltiptext0"},[t._v("Zoom out")])]),a("div",{staticClass:"tooltip0"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.resetZoom()}}},[t._v("Reset zoom")]),a("span",{staticClass:"tooltiptext0"},[t._v("Reset zoom")])])]),a("div",{staticClass:"buttonGroup"},[t._m(2),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.clearCurrentLayer()}}},[t._v("Clear current layer")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.fillScreenWhite()}}},[t._v("Fill with white")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.fillScreenBlack()}}},[t._v("Fill with black")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.repaintCurrentLayer()}}},[t._v("Repaint current layer")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.resetContext()}}},[t._v("Reset context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.clip()}}},[t._v("Clip")])])])])])},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b",[t._v("Draw tools: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b",[t._v("Zoom: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b",[t._v("Actions: ")])])}],vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"}})])},ft=[],gt={name:"IconMove",props:{color:{type:String,default:"#000000"}}},bt=gt,yt=Object(_["a"])(bt,vt,ft,!1,null,"8afed674",null),wt=yt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M7 16c.55 0 1 .45 1 1 0 1.1-.9 2-2 2-.17 0-.33-.02-.5-.05.31-.55.5-1.21.5-1.95 0-.55.45-1 1-1M18.67 3c-.26 0-.51.1-.71.29L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41l-1.34-1.34c-.2-.2-.45-.29-.7-.29zM7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3z"}})])},Ct=[],St={name:"IconBrush",props:{color:{type:String,default:"#000000"}}},_t=St,kt=Object(_["a"])(_t,xt,Ct,!1,null,"ed10066c",null),Pt=kt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"bi bi-eraser-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}})])},Et=[],Lt={name:"IconEraser",props:{color:{type:String,default:"#000000"}}},At=Lt,It=Object(_["a"])(At,$t,Et,!1,null,"77ef27be",null),Ft=It.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:t.color,d:"M21.143 9.667c-.733-1.392-1.914-3.05-3.617-4.753-2.977-2.978-5.478-3.914-6.785-3.914-.414 0-.708.094-.86.246l-1.361 1.36c-1.899-.236-3.42.106-4.294.983-.876.875-1.164 2.159-.792 3.523.492 1.806 2.305 4.049 5.905 5.375.038.323.157.638.405.885.588.588 1.535.586 2.121 0s.588-1.533.002-2.119c-.588-.587-1.537-.588-2.123-.001l-.17.256c-2.031-.765-3.395-1.828-4.232-2.9l3.879-3.875c.496 2.73 6.432 8.676 9.178 9.178l-7.115 7.107c-.234.153-2.798-.316-6.156-3.675-3.393-3.393-3.175-5.271-3.027-5.498l1.859-1.856c-.439-.359-.925-1.103-1.141-1.689l-2.134 2.131c-.445.446-.685 1.064-.685 1.82 0 1.634 1.121 3.915 3.713 6.506 2.764 2.764 5.58 4.243 7.432 4.243.648 0 1.18-.195 1.547-.562l8.086-8.078c.91.874-.778 3.538-.778 4.648 0 1.104.896 1.999 2 1.999 1.105 0 2-.896 2-2 0-3.184-1.425-6.81-2.857-9.34zm-16.209-5.371c.527-.53 1.471-.791 2.656-.761l-3.209 3.206c-.236-.978-.049-1.845.553-2.445zm9.292 4.079l-.03-.029c-1.292-1.292-3.803-4.356-3.096-5.063.715-.715 3.488 1.521 5.062 3.096.862.862 2.088 2.247 2.937 3.458-1.717-1.074-3.491-1.469-4.873-1.462z"}})])},Ot=[],Nt={name:"IconBucketFill",props:{color:{type:String,default:"#000000"}}},Mt=Nt,Rt=Object(_["a"])(Mt,Tt,Ot,!1,null,"6b4b9f41",null),Bt=Rt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"black",width:"18px",height:"18px"}},[a("line",{attrs:{x1:"3",y1:"3",x2:"15",y2:"15",stroke:"white","stroke-width":"2"}})])},Wt=[],jt={name:"IconLine",props:{color:{type:String,default:"#000000"}}},Vt=jt,Ht=Object(_["a"])(Vt,Dt,Wt,!1,null,"7cbee4ac",null),Ut=Ht.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"3",y:"3",width:"12",height:"12","stroke-width":"2",stroke:"white",fill:"#00000000"}})])},zt=[],qt={name:"IconRectangle",props:{color:{type:String,default:"#000000"}}},Yt=qt,Xt=Object(_["a"])(Yt,Gt,zt,!1,null,"668816fc",null),Jt=Xt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#00000000"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"8",stroke:"white","stroke-width":"3",fill:"#00000000"}})])},Kt=[],Qt={name:"IconCircle",props:{color:{type:String,default:"#000000"}}},te=Qt,ee=Object(_["a"])(te,Zt,Kt,!1,null,"245b1e52",null),ae=ee.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("ellipse",{attrs:{cx:"9",cy:"9",rx:"7",ry:"5",stroke:"white","stroke-width":"2",fill:"#00000000"}})])},re=[],ie={name:"IconEllipse",props:{color:{type:String,default:"#000000"}}},se=ie,oe=Object(_["a"])(se,ne,re,!1,null,"5fb03d42",null),le=oe.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1px",height:"18px",fill:"#00000000"}})},ue=[],de={name:"IconNone",props:{color:{type:String,default:"#000000"}}},pe=de,he=Object(_["a"])(pe,ce,ue,!1,null,"ab28acae",null),me=he.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"#FFFFFF"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}}),a("path",{attrs:{fill:t.color,d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}})])},fe=[],ge={name:"IconZoomIn",props:{color:{type:String,default:"#000000"}}},be=ge,ye=Object(_["a"])(be,ve,fe,!1,null,"0f0fbb68",null),we=ye.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"#FFFFFF"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}})])},Ce=[],Se={name:"IconZoomOut",props:{color:{type:String,default:"#000000"}}},_e=Se,ke=Object(_["a"])(_e,xe,Ce,!1,null,"339f610f",null),Pe=ke.exports,$e={name:"ToolsPanel",components:{IconMove:wt,IconEdit:B,IconBrush:Pt,IconEraser:Ft,IconBucketFill:Bt,IconLine:Ut,IconRectangle:Jt,IconCircle:ae,IconEllipse:le,IconNone:me,IconZoomIn:we,IconZoomOut:Pe},props:{},data:function(){return{}},methods:{getToolClass:function(t){return this.$parent.currentTool==t?"btn btn-dark btn-sm":"btn btn-primary btn-sm"}}},Ee=$e,Le=Object(_["a"])(Ee,ht,mt,!1,null,"f3e45c56",null),Ae=Le.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("events")}}},[a("span",{staticClass:"panelTitle"},[t._v("Events")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.events,expression:"$parent.visiblePanels.events"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.customEvents,(function(e){return a("tr",{key:e.name},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"customEvent.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_custom_event_enabled_"+e.name},domProps:{checked:Array.isArray(e.enabled)?t._i(e.enabled,null)>-1:e.enabled},on:{change:function(a){var n=e.enabled,r=a.target,i=!!r.checked;if(Array.isArray(n)){var s=null,o=t._i(n,s);r.checked?o<0&&t.$set(e,"enabled",n.concat([s])):o>-1&&t.$set(e,"enabled",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"enabled",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_custom_event_enabled_"+e.name}})])]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.type))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.executeCustomEvent(e)}}},[t._v("execute")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditCustomEvent"},on:{click:function(a){return t.showEditCustomEventForm(e)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteCustomEvent(e)}}},[t._v("delete")])])])})),0)]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddCustomEvent"},on:{click:function(e){return t.showAddCustomEventForm()}}},[t._v("Add event")])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.name,expression:"newEventForm.name"}],domProps:{value:t.newEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.newEventForm,"name",e.target.value)}}})]),a("div",[t._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.type,expression:"newEventForm.type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newEventForm,"type",e.target.multiple?a:a[0])}}},t._l(t.customEventTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",[t._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.sourceCode,expression:"newEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:t.newEventForm.sourceCode},on:{input:function(e){e.target.composing||t.$set(t.newEventForm,"sourceCode",e.target.value)}}}),t._m(2)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.addCustomEvent()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-body"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.name,expression:"editEventForm.name"}],domProps:{value:t.editEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"name",e.target.value)}}})]),a("div",[t._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.type,expression:"editEventForm.type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editEventForm,"type",e.target.multiple?a:a[0])}}},t._l(t.customEventTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",[t._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.sourceCode,expression:"editEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:t.editEventForm.sourceCode},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"sourceCode",e.target.value)}}}),t._m(4)]),a("div",{staticClass:"custom-control custom-switch",staticStyle:{"margin-top":"10px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.enabled,expression:"editEventForm.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_edit_custom_event_enabled_"+t.editEventForm.name},domProps:{checked:Array.isArray(t.editEventForm.enabled)?t._i(t.editEventForm.enabled,null)>-1:t.editEventForm.enabled},on:{change:function(e){var a=t.editEventForm.enabled,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&t.$set(t.editEventForm,"enabled",a.concat([i])):s>-1&&t.$set(t.editEventForm,"enabled",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.editEventForm,"enabled",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_edit_custom_event_enabled_"+t.editEventForm.name}},[t._v("Enabled")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateCustomEvent()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("enabled")]),a("th",[t._v("name")]),a("th",[t._v("type")]),a("th",[t._v("execute")]),a("th",[t._v("edit")]),a("th",[t._v("delete")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("b",[t._v("To get current mouse position:")])]),a("div",[t._v("app.mousePosition.x")]),a("div",[t._v("app.mousePosition.y")]),a("div",[a("b",[t._v("To get previous mouse position:")])]),a("div",[t._v("app.previousMousePosition.x")]),a("div",[t._v("app.previousMousePosition.y")]),a("div",[a("b",[t._v("To get last mouse down position:")])]),a("div",[t._v("app.mouseDownPosition.x")]),a("div",[t._v("app.mouseDownPosition.y")]),a("div",[a("b",[t._v("To detect if mouse button is down:")])]),a("div",[t._v("app.isMouseDown")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("b",[t._v("To get current mouse position:")])]),a("div",[t._v("app.mousePosition.x")]),a("div",[t._v("app.mousePosition.y")]),a("div",[a("b",[t._v("To get previous mouse position:")])]),a("div",[t._v("app.previousMousePosition.x")]),a("div",[t._v("app.previousMousePosition.y")]),a("div",[a("b",[t._v("To get last mouse down position:")])]),a("div",[t._v("app.mouseDownPosition.x")]),a("div",[t._v("app.mouseDownPosition.y")]),a("div",[a("b",[t._v("To detect if mouse button is down:")])]),a("div",[t._v("app.isMouseDown")])])}],Te={name:"EventsPanel",components:{},props:{},data:function(){return{customEventTypes:["mouseDown","mouseUp","mouseMove","animationFrame"],originalEvent:null,editEventForm:{name:null,type:null,enabled:null,sourceCode:null},newEventForm:{name:null,type:null,enabled:null,sourceCode:null}}},methods:{showAddCustomEventForm:function(){this.newEventForm.name="Event 01",this.newEventForm.type=this.customEventTypes[0],this.newEventForm.sourceCode="",this.newEventForm.enabled=!0},addCustomEvent:function(){var t={name:this.newEventForm.name,type:this.newEventForm.type,enabled:this.newEventForm.enabled,func:new Function("params",this.newEventForm.sourceCode),source:this.newEventForm.sourceCode};this.$parent.customEvents.push(t)},showEditCustomEventForm:function(t){this.originalEvent=t,this.editEventForm.name=t.name,this.editEventForm.type=t.type,this.editEventForm.enabled=t.enabled,this.editEventForm.sourceCode=t.source},updateCustomEvent:function(){this.originalEvent.name=this.editEventForm.name,this.originalEvent.type=this.editEventForm.type,this.originalEvent.source=this.editEventForm.sourceCode,this.originalEvent.enabled=this.editEventForm.enabled,this.originalEvent.func=new Function("params",this.editEventForm.sourceCode)},executeCustomEvent:function(t){t.func(),this.$parent.updateCanvasAllLayers(),this.$parent.updateCurrentLayerCanvas()},deleteCustomEvent:function(t){this.$parent.deleteCustomEvent(t)}}},Oe=Te,Ne=(a("7f64"),Object(_["a"])(Oe,Ie,Fe,!1,null,"509b1541",null)),Me=Ne.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("images")}}},[a("span",{staticClass:"panelTitle"},[t._v("Images")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.images,expression:"$parent.visiblePanels.images"}],staticClass:"panelBody"},[a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalLoadImage()}}},[t._v("Load image")]),a("div",{staticClass:"spacing"}),t.$parent.images.length>0?a("table",{staticClass:"smallTable contextPropertiesTable"},[t._m(0),a("tbody",t._l(t.$parent.images,(function(e){return a("tr",{key:e.filename},[a("td",[e.url?a("img",{staticStyle:{"max-width":"64px"},attrs:{src:e.url}}):t._e()]),a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectImageToDraw(e)}}},[t._v("draw...")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectImageToDrawScaled(e)}}},[t._v("draw scaled...")])])])})),0)]):t._e(),a("div",{staticClass:"spacing"})]),a("ModalLoadImage",{ref:"modalLoadImage"})],1)},Be=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("image")]),a("th",[t._v("name")]),a("th",[t._v("draw")]),a("th",[t._v("draw scaled")])])])}],De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalLoadImage",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("span",[t._v("Load image: ")]),a("input",{attrs:{type:"file",id:"inputImage"},on:{change:t.onImageUpload}})]),null!=t.image?a("div",[a("img",{staticStyle:{"max-width":"64px"},attrs:{src:t.image.url}})]):t._e(),a("br"),null!=t.image?a("div",[a("span",[t._v("Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image.name,expression:"image.name"}],domProps:{value:t.image.name},on:{input:function(e){e.target.composing||t.$set(t.image,"name",e.target.value)}}})]):t._e()]),a("div",{staticClass:"modal-footer"},[null!=t.image?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.loadImage()}}},[t._v("OK")]):t._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},We=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Load image")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],je={name:"ModalLoadImage",components:{},props:{},data:function(){return{image:null}},methods:{open:function(){this.image=null,window.$("#modalLoadImage").modal("show")},onImageUpload:function(t){var e=t.target.files[0],a=e.name.replace(/\.[^/.]+$/,""),n={filename:e.name,url:URL.createObjectURL(e),name:a};this.image=n},loadImage:function(){null!=this.image&&this.$parent.$parent.images.push(this.image),window.$("#modalLoadImage").modal("hide")}}},Ve=je,He=Object(_["a"])(Ve,De,We,!1,null,"2159a0e2",null),Ue=He.exports,Ge={name:"ImagesPanel",components:{ModalLoadImage:Ue},props:{},data:function(){return{}},methods:{selectImageToDraw:function(t){this.$parent.selectSampleScriptWithParams("Draw image");for(var e=0;e<this.$parent.selectedSampleScriptWithParams.params.length;e++){var a=this.$parent.selectedSampleScriptWithParams.params[e];"imageName"==a.name&&(a.value=t.name)}},selectImageToDrawScaled:function(t){this.$parent.selectSampleScriptWithParams("Draw image scaled");for(var e=0;e<this.$parent.selectedSampleScriptWithParams.params.length;e++){var a=this.$parent.selectedSampleScriptWithParams.params[e];"imageName"==a.name&&(a.value=t.name)}},showModalLoadImage:function(){this.$refs.modalLoadImage.open()}}},ze=Ge,qe=Object(_["a"])(ze,Re,Be,!1,null,"6be1b068",null),Ye=qe.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("fonts")}}},[a("span",{staticClass:"panelTitle"},[t._v("Fonts")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.fonts,expression:"$parent.visiblePanels.fonts"}],staticClass:"panelBody"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.fontPanelForm.fontName,expression:"$parent.fontPanelForm.fontName"}],domProps:{value:t.$parent.fontPanelForm.fontName},on:{input:function(e){e.target.composing||t.$set(t.$parent.fontPanelForm,"fontName",e.target.value)}}})]),a("input",{attrs:{type:"file"},on:{change:t.$parent.onFontUpload}}),a("div",[t._v("URL: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.fontPanelForm.fontURL,expression:"$parent.fontPanelForm.fontURL"}],domProps:{value:t.$parent.fontPanelForm.fontURL},on:{input:function(e){e.target.composing||t.$set(t.$parent.fontPanelForm,"fontURL",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.loadFont()}}},[t._v("Load font")]),a("div",{staticClass:"spacing"}),a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.fonts,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.font.style))]),a("td",[t._v(t._s(e.font.weight))])])})),0)]),a("div",{staticClass:"spacing"})])])},Je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("style")]),a("th",[t._v("weight")])])])}],Ze={name:"FontsPanel",components:{},props:{},data:function(){return{}},methods:{}},Ke=Ze,Qe=Object(_["a"])(Ke,Xe,Je,!1,null,"a7371202",null),ta=Qe.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("globalVariables")}}},[a("span",{staticClass:"panelTitle"},[t._v("Global variables")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.globalVariables,expression:"$parent.visiblePanels.globalVariables"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.$parent.globalVariables,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n))]),a("td",[t._v(t._s(e))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.editGlobalVariable(n)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.$parent.deleteGlobalVariable(n)}}},[t._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.$parent.popupAddGlobalVariable}},[t._v("add")])])])])},aa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("value")]),a("th"),a("th")])])}],na={name:"GlobalVariablesPanel",components:{},props:{},data:function(){return{}},methods:{}},ra=na,ia=Object(_["a"])(ra,ea,aa,!1,null,"4dda19be",null),sa=ia.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("logs")}}},[a("span",{staticClass:"panelTitle"},[t._v("Logs")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.logs,expression:"$parent.visiblePanels.logs"}],staticClass:"panelBody"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.clearLogs()}}},[t._v("clear logs")]),a("div",[t._v("Showing "+t._s(t.$parent.logs.length)+" log messages")]),a("table",{staticClass:"smallTable"},[a("tbody",t._l(t.$parent.logs,(function(e){return a("tr",{key:e},[a("td",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"spacing"})])])},la=[],ca={name:"LogsPanel",components:{},props:{},data:function(){return{}},methods:{}},ua=ca,da=Object(_["a"])(ua,oa,la,!1,null,"982cfcb6",null),pa=da.exports,ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.$parent.selectedSampleScriptWithParams?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("scriptWithParams")}}},[a("span",{staticClass:"panelTitle"},[t._v("Execute script")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(e){return t.$parent.unselectSampleScriptWithParams()}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.scriptWithParams,expression:"$parent.visiblePanels.scriptWithParams"}],staticClass:"panelBody"},[null!=t.$parent.selectedSampleScriptWithParams?a("div",[a("h3",[t._v(t._s(t.$parent.selectedSampleScriptWithParams.name)+" "),a("router-link",{attrs:{to:"/docs/javascript/"+t.$parent.selectedSampleScriptWithParams.slug,target:"_blank"}},[a("IconHelp",{staticStyle:{"margin-left":"2px","margin-top":"-8px"}})],1)],1),a("br"),a("table",[a("tbody",t._l(t.$parent.selectedSampleScriptWithParams.params,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"param.value"}],domProps:{value:e.value},on:{input:[function(a){a.target.composing||t.$set(e,"value",a.target.value)},function(e){return t.$parent.onSampleScriptParamChange()}]}}),"colorHex"==e.type?a("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.value,on:{click:function(a){return t.openColorPicker("scriptParam",e)}}}):t._e()])])})),0)]),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.$parent.executeSampleScriptWithParams()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),"SAMPLE_SCRIPT"==t.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.loadSampleScript(t.$parent.selectedSampleScriptWithParams.name)}}},[t._v("Open script")]):t._e(),"SAVED_SCRIPT"==t.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.loadSavedScript(t.$parent.selectedSampleScriptWithParams.name)}}},[t._v("Open script")]):t._e(),a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return t.$parent.unselectSampleScriptWithParams()}}},[t._v("Cancel")])]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.clearLayerBeforeExecutingScriptWithParams,expression:"$parent.clearLayerBeforeExecutingScriptWithParams"}],attrs:{type:"checkbox",id:"checkbox01"},domProps:{checked:Array.isArray(t.$parent.clearLayerBeforeExecutingScriptWithParams)?t._i(t.$parent.clearLayerBeforeExecutingScriptWithParams,null)>-1:t.$parent.clearLayerBeforeExecutingScriptWithParams},on:{change:function(e){var a=t.$parent.clearLayerBeforeExecutingScriptWithParams,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&t.$set(t.$parent,"clearLayerBeforeExecutingScriptWithParams",a.concat([i])):s>-1&&t.$set(t.$parent,"clearLayerBeforeExecutingScriptWithParams",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.$parent,"clearLayerBeforeExecutingScriptWithParams",r)}}}),a("label",{attrs:{for:"checkbox01"}},[t._v("Clear layer before executing")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.executeScriptsWithParamsOnChange,expression:"$parent.executeScriptsWithParamsOnChange"}],attrs:{type:"checkbox",id:"checkbox02"},domProps:{checked:Array.isArray(t.$parent.executeScriptsWithParamsOnChange)?t._i(t.$parent.executeScriptsWithParamsOnChange,null)>-1:t.$parent.executeScriptsWithParamsOnChange},on:{change:function(e){var a=t.$parent.executeScriptsWithParamsOnChange,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&t.$set(t.$parent,"executeScriptsWithParamsOnChange",a.concat([i])):s>-1&&t.$set(t.$parent,"executeScriptsWithParamsOnChange",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.$parent,"executeScriptsWithParamsOnChange",r)}}}),a("label",{attrs:{for:"checkbox02"}},[t._v("Execute automatically on param change")])]):t._e()])]):t._e()},ma=[],va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"12px",height:"12px"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}})])},fa=[],ga={name:"IconExecute",props:{color:{type:String,default:"#000000"}}},ba=ga,ya=Object(_["a"])(ba,va,fa,!1,null,"e96ec450",null),wa=ya.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"0",y:"0",width:"18",height:"18","stroke-width":"2",stroke:"#dc3545",fill:"#dc3545"}}),a("line",{attrs:{x1:"4",y1:"4",x2:"14",y2:"14",stroke:"white","stroke-width":"2"}}),a("line",{attrs:{x1:"4",y1:"14",x2:"14",y2:"4",stroke:"white","stroke-width":"2"}})])},Ca=[],Sa={name:"IconClose",props:{color:{type:String,default:"#000000"}}},_a=Sa,ka=Object(_["a"])(_a,xa,Ca,!1,null,"05ba1bcb",null),Pa=ka.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",fill:"#00000000"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"10",fill:"#007bff"}}),a("path",{attrs:{fill:"#ffffff",d:"M12.01,18 c-0.7,0-1.26-0.56-1.26-1.26c0-0.71,0.56-1.25,1.26-1.25c0.71,0,1.25,0.54,1.25,1.25C13.25,17.43,12.72,18,12.01,18z M15.02,10.6 c-0.76,1.11-1.48,1.46-1.87,2.17c-0.1,0.18-0.16,0.32-0.19,0.63c-0.05,0.45-0.45,0.78-0.9,0.78H12c-0.52,0-0.93-0.44-0.88-0.96 c0.03-0.34,0.11-0.69,0.3-1.03c0.49-0.87,1.42-1.39,1.96-2.16c0.57-0.81,0.25-2.33-1.37-2.33c-0.71,0-1.18,0.36-1.47,0.79 c-0.25,0.36-0.69,0.53-1.1,0.36l0,0C8.91,8.64,8.72,8,9.04,7.54C9.65,6.65,10.67,6,11.99,6c1.48,0,2.49,0.67,3.01,1.52 C15.44,8.24,15.7,9.59,15.02,10.6z"}})])},Ea=[],La={name:"IconHelp",props:{}},Aa=La,Ia=Object(_["a"])(Aa,$a,Ea,!1,null,"da8c9800",null),Fa=Ia.exports,Ta={name:"ScriptWithParamsPanel",components:{IconExecute:wa,IconClose:Pa,IconHelp:Fa},props:{},data:function(){return{}},methods:{openColorPicker:function(t,e){window.$("#modalColorPicker").modal("show"),this.$parent.$refs.modalColorPicker.target=t,this.$parent.$refs.modalColorPicker.scriptParam=e,this.$parent.$refs.modalColorPicker.setCurrentColor(e.value)}}},Oa=Ta,Na=Object(_["a"])(Oa,ha,ma,!1,null,"b60e3d9c",null),Ma=Na.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.currentScript?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("configureScript")}}},[a("span",{staticClass:"panelTitle"},[t._v("Configure script params")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(e){t.currentScript=null}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),t.$parent.visiblePanels.configureScript?a("div",{staticClass:"panelBody"},[a("h3",[t._v(t._s(t.currentScript.name))]),t.currentScript.params.length>0?a("div",[a("b",[t._v("Script params:")])]):t._e(),a("div",{staticClass:"spacing"}),0==t.currentScript.params.length?a("div",[t._v("This script has no params.")]):t._e(),t.currentScript.params.length>0?a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.currentScript.params,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.defaultValue))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.editScriptParam(e)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteScriptParam(e.name)}}},[t._v("delete")])])])})),0)]):t._e(),a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalAddScriptParam()}}},[t._v("Add script param")]),a("div",{staticClass:"spacing"})]):t._e(),a("ModalAddScriptParam",{ref:"modalAddScriptParam"})],1):t._e()},Ba=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("type")]),a("th",[t._v("default value")]),a("th",[t._v("edit")]),a("th",[t._v("delete")])])])}],Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalAddScriptParam",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[t._v("Param name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramName,expression:"paramName"}],domProps:{value:t.paramName},on:{input:function(e){e.target.composing||(t.paramName=e.target.value)}}})]),a("div",[t._v(" Param type: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_string",value:"string"},domProps:{checked:t._q(t.paramType,"string")},on:{change:function(e){t.paramType="string"}}}),a("label",{attrs:{for:"type_string"}},[t._v("String ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_number",value:"number"},domProps:{checked:t._q(t.paramType,"number")},on:{change:function(e){t.paramType="number"}}}),a("label",{attrs:{for:"type_number"}},[t._v("Number ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_colorHex",value:"colorHex"},domProps:{checked:t._q(t.paramType,"colorHex")},on:{change:function(e){t.paramType="colorHex"}}}),a("label",{attrs:{for:"type_colorHex"}},[t._v("Color (hex) ")])]),a("div",[t._v("Default value: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.defaultValue,expression:"defaultValue"}],domProps:{value:t.defaultValue},on:{input:function(e){e.target.composing||(t.defaultValue=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[null==t.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addScriptParam()}}},[t._v("Add")]):t._e(),null!=t.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateScriptParam()}}},[t._v("Update")]):t._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},Wa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add script param")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],ja={name:"ModalAddScriptParam",components:{},props:{},data:function(){return{editingParam:null,paramName:"",paramType:"string",defaultValue:""}},methods:{open:function(){this.clearForm(),window.$("#modalAddScriptParam").modal("show")},editScriptParam:function(t){this.editingParam=t,this.paramName=this.editingParam.name,this.paramType=this.editingParam.type,this.defaultValue=this.editingParam.defaultValue,window.$("#modalAddScriptParam").modal("show")},updateScriptParam:function(){this.editingParam.name=this.paramName,this.editingParam.type=this.paramType,this.editingParam.defaultValue="number"==this.paramType?Number(this.defaultValue):this.defaultValue,window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},addScriptParam:function(){var t={name:this.paramName,type:this.paramType,defaultValue:"number"==this.paramType?Number(this.defaultValue):this.defaultValue};this.$parent.addScriptParam(t),window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},clearForm:function(){this.editingParam=null,this.paramName="",this.paramType="string",this.defaultValue=""}}},Va=ja,Ha=(a("7f74"),Object(_["a"])(Va,Da,Wa,!1,null,"0e79785e",null)),Ua=Ha.exports,Ga={name:"ConfigureScriptPanel",components:{ModalAddScriptParam:Ua,IconClose:Pa},props:{},data:function(){return{currentScript:null}},methods:{setCurrentScript:function(t){this.currentScript=t},editScriptParam:function(t){this.$refs.modalAddScriptParam.editScriptParam(t)},showModalAddScriptParam:function(){this.$refs.modalAddScriptParam.open()},addScriptParam:function(t){null==this.currentScript.params&&(this.currentScript.params=[]),this.currentScript.params.push(t)},deleteScriptParam:function(t){for(var e=this.currentScript.params,a=0;a<e.length;a++){var n=e[a];if(n.name==t)return void e.splice(a,1)}}}},za=Ga,qa=Object(_["a"])(za,Ra,Ba,!1,null,"2f901e6f",null),Ya=qa.exports,Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.selectedBlock?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("visualScriptBlockParams")}}},[a("span",{staticClass:"panelTitle"},[t._v("Block params")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(e){t.selectedBlock=null}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.visualScriptBlockParams,expression:"$parent.visiblePanels.visualScriptBlockParams"}],staticClass:"panelBody"},[null!=t.selectedBlock?a("div",[a("h3",[t._v(t._s(t.selectedBlock.script.name)+" "),a("router-link",{attrs:{to:"/docs/javascript/"+t.selectedBlock.script.slug,target:"_blank"}},[a("IconHelp",{staticStyle:{"margin-left":"2px","margin-top":"-8px"}})],1)],1),a("br"),a("table",[a("tbody",t._l(t.selectedBlock.scriptParams,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"param.value"}],domProps:{value:e.value},on:{input:[function(a){a.target.composing||t.$set(e,"value",a.target.value)},function(e){return t.onParamChange()}]}}),"colorHex"==e.type?a("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.value,on:{click:function(a){return t.openColorPicker("scriptParam",e)}}}):t._e()])])})),0)]),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.executeVisualScript()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute visual script")],1),a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.executeBlock()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute only this block")],1)]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.executeVisualScriptOnParamChange,expression:"executeVisualScriptOnParamChange"}],attrs:{type:"checkbox",id:"checkbox02"},domProps:{checked:Array.isArray(t.executeVisualScriptOnParamChange)?t._i(t.executeVisualScriptOnParamChange,null)>-1:t.executeVisualScriptOnParamChange},on:{change:function(e){var a=t.executeVisualScriptOnParamChange,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&(t.executeVisualScriptOnParamChange=a.concat([i])):s>-1&&(t.executeVisualScriptOnParamChange=a.slice(0,s).concat(a.slice(s+1)))}else t.executeVisualScriptOnParamChange=r}}}),a("label",{attrs:{for:"checkbox02"}},[t._v("Execute visual script on param change")])]):t._e()])]):t._e()},Ja=[],Za={name:"VisualScriptBlockParamsPanel",components:{IconExecute:wa,IconClose:Pa,IconHelp:Fa},props:{},data:function(){return{selectedBlock:null,executeVisualScriptOnParamChange:!1}},methods:{selectBlock:function(t){this.selectedBlock=t,this.$parent.visiblePanels["visualScriptBlockParams"]=!0},openColorPicker:function(t,e){window.$("#modalColorPicker").modal("show"),this.$parent.$refs.modalColorPicker.target=t,this.$parent.$refs.modalColorPicker.scriptParam=e,this.$parent.$refs.modalColorPicker.setCurrentColor(e.value)},executeVisualScript:function(){this.$parent.$refs.visualScriptsTab.executeSelectedVisualScript()},executeBlock:function(){this.$parent.$refs.visualScriptsTab.executeBlock(this.selectedBlock)},onParamChange:function(){this.executeVisualScriptOnParamChange&&this.executeVisualScript()}}},Ka=Za,Qa=Object(_["a"])(Ka,Xa,Ja,!1,null,"03e8f976",null),tn=Qa.exports,en=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalSetCanvasSize",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("div",[t._v("width: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.canvasWidth,expression:"form.canvasWidth"}],domProps:{value:t.form.canvasWidth},on:{input:function(e){e.target.composing||t.$set(t.form,"canvasWidth",e.target.value)}}})]),a("div",[t._v("height: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.canvasHeight,expression:"form.canvasHeight"}],domProps:{value:t.form.canvasHeight},on:{input:function(e){e.target.composing||t.$set(t.form,"canvasHeight",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setCanvasSize()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},an=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Set canvas size")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],nn={name:"ModalSetCanvasSize",components:{},props:{},data:function(){return{form:{canvasWidth:100,canvasHeight:100}}},methods:{setCanvasSize:function(){this.$parent.setCanvasSize(this.form.canvasWidth,this.form.canvasHeight),window.$("#modalSetCanvasSize").modal("hide")}}},rn=nn,sn=Object(_["a"])(rn,en,an,!1,null,"d108de06",null),on=sn.exports,ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalOpenProject",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("input",{attrs:{type:"file",id:"inputJSON"},on:{change:t.onProjectUpload}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.openProject()}}},[t._v("Open")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},cn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Open project")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}];function un(t,e){for(var a=e.layers,n=0;n<a.length;n++){var r=a[n];$n(t,r)}}function dn(t,e){return pn.apply(this,arguments)}function pn(){return pn=s(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r in n=a.globalVariables,n)Object.hasOwn(n,r)&&(e.globalVariables[r]=n[r]);case 2:case"end":return t.stop()}}),t)}))),pn.apply(this,arguments)}function hn(t,e){return mn.apply(this,arguments)}function mn(){return mn=s(regeneratorRuntime.mark((function t(e,a){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a.customEvents,r=0;case 2:if(!(r<n.length)){t.next=9;break}return i=n[r],t.next=6,vn(e,i);case 6:r++,t.next=2;break;case 9:case"end":return t.stop()}}),t)}))),mn.apply(this,arguments)}function vn(t,e){return fn.apply(this,arguments)}function fn(){return fn=s(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={name:a.name,type:a.type,enabled:a.enabled,func:new Function("params",a.source),source:a.source},e.customEvents.push(n);case 2:case"end":return t.stop()}}),t)}))),fn.apply(this,arguments)}function gn(t,e){return bn.apply(this,arguments)}function bn(){return bn=s(regeneratorRuntime.mark((function t(e,a){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a.fonts,r=0;case 2:if(!(r<n.length)){t.next=9;break}return i=n[r],t.next=6,yn(e,i);case 6:r++,t.next=2;break;case 9:case"end":return t.stop()}}),t)}))),bn.apply(this,arguments)}function yn(t,e){return wn.apply(this,arguments)}function wn(){return wn=s(regeneratorRuntime.mark((function t(e,a){var n,r,i,s,o,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a.fontData,t.next=3,kn(n);case 3:return r=t.sent,i=URL.createObjectURL(r),s="url(".concat(i,")"),o=new FontFace(a.name,s),t.next=9,o.load();case 9:l=t.sent,document.fonts.add(l),c={name:l.family,font:l,url:i},e.fonts.push(c);case 13:case"end":return t.stop()}}),t)}))),wn.apply(this,arguments)}function xn(t,e){return Cn.apply(this,arguments)}function Cn(){return Cn=s(regeneratorRuntime.mark((function t(e,a){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a.images,r=0;case 2:if(!(r<n.length)){t.next=9;break}return i=n[r],t.next=6,Sn(e,i);case 6:r++,t.next=2;break;case 9:case"end":return t.stop()}}),t)}))),Cn.apply(this,arguments)}function Sn(t,e){return _n.apply(this,arguments)}function _n(){return _n=s(regeneratorRuntime.mark((function t(e,a){var n,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a.imageData,t.next=3,kn(n);case 3:r=t.sent,i=URL.createObjectURL(r),s={filename:a.filename,url:i,name:a.name},e.images.push(s);case 7:case"end":return t.stop()}}),t)}))),_n.apply(this,arguments)}function kn(t){return Pn.apply(this,arguments)}function Pn(){return Pn=s(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.blob()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Pn.apply(this,arguments)}function $n(t,e){return En.apply(this,arguments)}function En(){return En=s(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.addLayerWithName(a.name),e.setCurrentLayer(a.name),n=e.getLayerByName(a.name),n.alpha=a.alpha,r=new Image,r.onload=function(){n.canvas.getContext("2d").drawImage(r,0,0)},r.src=a.imageData;case 7:case"end":return t.stop()}}),t)}))),En.apply(this,arguments)}function Ln(t,e){for(var a=e.savedScripts,n=0;n<a.length;n++){var r=a[n];An(t,r)}}function An(t,e){var a={name:e.name,func:new Function("params",e.source),source:e.source,type:e.type,params:e.params};t.savedScripts.push(a)}function In(t,e){for(var a=e.visualScripts,n=0;n<a.length;n++){var r=a[n];Tn(t,r)}}function Fn(t){for(var e=[],a=0;a<t.scriptParams.length;a++){var n=t.scriptParams[a],r={name:n.name,type:n.type,value:n.value};e.push(r)}return e}function Tn(t,e){for(var a=[],n=0;n<e.blocks.length;n++){var r=e.blocks[n],i={id:r.id,script:On(r.script.slug),scriptParams:Fn(r)};a.push(i)}var s={name:e.name,blocks:a,params:[]};t.$refs.visualScriptsTab.visualScripts.push(s)}function On(t){for(var e=0;e<Wn.length;e++){var a=Wn[e];if(a.slug==t)return a}return null}var Nn,Mn,Rn,Bn,Dn,Wn=Object(o["b"])(),jn={deserializeProject:function(){var t=s(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(a),e.setCanvasSize(n.canvasWidth,n.canvasHeight),un(e,n),In(e,n),Ln(e,n),t.next=7,xn(e,n);case 7:return t.next=9,gn(e,n);case 9:hn(e,n),dn(e,n);case 11:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},Vn=jn,Hn={name:"modalOpenProject",components:{},props:{},data:function(){return{openedProjectContent:null}},methods:{onProjectUpload:function(t){var e=t.target.files[0],a=this,n=new FileReader;n.readAsText(e),n.onload=function(){a.openedProjectContent=n.result,a.$forceUpdate()},n.onerror=function(t){console.log("Error: ",t)}},openProject:function(){var t=this;return s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$parent.newBlankProject(!1),e.next=3,Vn.deserializeProject(t.$parent,t.openedProjectContent);case 3:t.$parent.$refs.globalVariablesPanel.$forceUpdate();case 4:case"end":return e.stop()}}),e)})))()}}},Un=Hn,Gn=Object(_["a"])(Un,ln,cn,!1,null,"a2b46778",null),zn=Gn.exports,qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalExport",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[t._v("Export type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"full_canvas",value:"FULL_CANVAS"},domProps:{checked:t._q(t.$parent.exportConfigForm.type,"FULL_CANVAS")},on:{change:function(e){return t.$set(t.$parent.exportConfigForm,"type","FULL_CANVAS")}}}),a("label",{attrs:{for:"full_canvas"}},[t._v("Full canvas ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop",value:"CROP"},domProps:{checked:t._q(t.$parent.exportConfigForm.type,"CROP")},on:{change:function(e){return t.$set(t.$parent.exportConfigForm,"type","CROP")}}}),a("label",{attrs:{for:"crop"}},[t._v("Crop ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop_at",value:"CROP_AT"},domProps:{checked:t._q(t.$parent.exportConfigForm.type,"CROP_AT")},on:{change:function(e){return t.$set(t.$parent.exportConfigForm,"type","CROP_AT")}}}),a("label",{attrs:{for:"crop_at"}},[t._v("Crop at... ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"CROP_AT"==t.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type == 'CROP_AT'"}]},[a("div",[t._v("Crop start x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropStartX,expression:"$parent.exportConfigForm.cropStartX"}],domProps:{value:t.$parent.exportConfigForm.cropStartX},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropStartX",e.target.value)}}})]),a("div",[t._v("Crop start y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropStartY,expression:"$parent.exportConfigForm.cropStartY"}],domProps:{value:t.$parent.exportConfigForm.cropStartY},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropStartY",e.target.value)}}})]),a("div",[t._v("Crop end x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropEndX,expression:"$parent.exportConfigForm.cropEndX"}],domProps:{value:t.$parent.exportConfigForm.cropEndX},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropEndX",e.target.value)}}})]),a("div",[t._v("Crop end y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.exportConfigForm.cropEndY,expression:"$parent.exportConfigForm.cropEndY"}],domProps:{value:t.$parent.exportConfigForm.cropEndY},on:{input:function(e){e.target.composing||t.$set(t.$parent.exportConfigForm,"cropEndY",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$parent.exportCanvas()}}},[t._v("Export")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])},Yn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Export")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Xn={name:"ModalExport",components:{},props:{},data:function(){return{}},methods:{}},Jn=Xn,Zn=Object(_["a"])(Jn,qn,Yn,!1,null,"b87925c8",null),Kn=Zn.exports,Qn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalPasteImageFromClipboard",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Paste image from clipboard")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("h3",[t._v("Press CTRL+V to paste image from clipboard")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])}],er={name:"ModalPasteImageFromClipboard",components:{},props:{},data:function(){return{}},methods:{}},ar=er,nr=Object(_["a"])(ar,Qn,tr,!1,null,"0166b8d0",null),rr=nr.exports,ir=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},sr=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{id:"modalHelp",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Help")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),n("div",{staticClass:"modal-body"},[n("img",{staticClass:"logo",attrs:{alt:"DrawJS logo",src:a("6cfa")}}),n("br"),n("br"),n("p",[n("a",{attrs:{href:"/docs",target:"_blank"}},[t._v("Documentation")])]),n("p",[n("a",{attrs:{href:"https://www.youtube.com/channel/UC6MPzpvbIs1x2HtoM83fVcQ",target:"_blank"}},[t._v("Video tutorials")])]),n("p",[n("a",{attrs:{href:"https://danielbarral.itch.io/drawjs/community",target:"_blank"}},[t._v("Discussion board")])]),n("p",[n("a",{attrs:{href:"https://www.reddit.com/r/DrawJS/",target:"_blank"}},[t._v("Reddit")])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])}],or={name:"ModalHelp",components:{},props:{},data:function(){return{}},methods:{}},lr=or,cr=(a("8632"),Object(_["a"])(lr,ir,sr,!1,null,"d0ee17f0",null)),ur=cr.exports,dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalColorPicker",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.screen,expression:"screen"}],attrs:{type:"radio",id:"type_basicColors",value:"basicColors"},domProps:{checked:t._q(t.screen,"basicColors")},on:{change:function(e){t.screen="basicColors"}}}),a("label",{staticClass:"radioLabel",attrs:{for:"type_basicColors"}},[t._v("Basic colors ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.screen,expression:"screen"}],attrs:{type:"radio",id:"type_customColors",value:"customColors"},domProps:{checked:t._q(t.screen,"customColors")},on:{change:function(e){t.screen="customColors"}}}),a("label",{staticClass:"radioLabel",attrs:{for:"type_customColors"}},[t._v("Custom colors ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"basicColors"==t.screen,expression:"screen == 'basicColors'"}]},[a("table",{staticClass:"colorGridTable"},t._l(t.colorGrid.rows,(function(e){return a("tr",{key:e.id},t._l(e.colors,(function(e){return a("td",{key:e.id},[a("svg",{attrs:{height:"30",width:"30"}},[a("circle",{staticClass:"colorSvg",attrs:{cx:"15",cy:"15",r:"13",stroke:"black","stroke-width":"0.5",fill:e.hex},on:{click:function(a){return t.selectColor(e)}}})])])})),0)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"customColors"==t.screen,expression:"screen == 'customColors'"}]},[a("div",{attrs:{id:"colorPicker"}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentColor.hex,expression:"currentColor.hex"}],domProps:{value:t.currentColor.hex},on:{input:function(e){e.target.composing||t.$set(t.currentColor,"hex",e.target.value)}}}),a("button",{staticClass:"btn btn-primary btn",on:{click:function(e){return t.selectCurrentColor()}}},[t._v("Select")])])]),t._m(1)])])])},pr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Color Picker")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])}],hr={},mr=[],vr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function fr(t,e){for(var a in e)t[a]=e[a];return t}function gr(t){var e=t.parentNode;e&&e.removeChild(t)}function br(t,e,a){var n,r,i,s,o=arguments;if(e=fr({},e),arguments.length>3)for(a=[a],n=3;n<arguments.length;n++)a.push(o[n]);if(null!=a&&(e.children=a),null!=t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===e[r]&&(e[r]=t.defaultProps[r]);return s=e.key,null!=(i=e.ref)&&delete e.ref,null!=s&&delete e.key,yr(t,e,s,i)}function yr(t,e,a,n){var r={type:t,props:e,key:a,ref:n,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return Nn.vnode&&Nn.vnode(r),r}function wr(t){return t.children}function xr(t){if(null==t||"boolean"==typeof t)return null;if("string"==typeof t||"number"==typeof t)return yr(null,t,null,null);if(null!=t.__e||null!=t.__c){var e=yr(t.type,t.props,t.key,null);return e.__e=t.__e,e}return t}function Cr(t,e){this.props=t,this.context=e}function Sr(t,e){if(null==e)return t.__p?Sr(t.__p,t.__p.__k.indexOf(t)+1):null;for(var a;e<t.__k.length;e++)if(null!=(a=t.__k[e])&&null!=a.__e)return a.__e;return"function"==typeof t.type?Sr(t):null}function _r(t){var e,a;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(a=t.__k[e])&&null!=a.__e){t.__e=t.__c.base=a.__e;break}return _r(t)}}function kr(t){(!t.__d&&(t.__d=!0)&&1===Mn.push(t)||Bn!==Nn.debounceRendering)&&(Bn=Nn.debounceRendering,(Nn.debounceRendering||Rn)(Pr))}function Pr(){var t,e,a,n,r,i,s,o;for(Mn.sort((function(t,e){return e.__v.__b-t.__v.__b}));t=Mn.pop();)t.__d&&(a=void 0,n=void 0,i=(r=(e=t).__v).__e,s=e.__P,o=e.u,e.u=!1,s&&(a=[],n=Tr(s,r,fr({},r),e.__n,void 0!==s.ownerSVGElement,null,a,o,null==i?Sr(r):i),Or(a,r),n!=i&&_r(r)))}function $r(t,e,a,n,r,i,s,o,l){var c,u,d,p,h,m,v,f=a&&a.__k||mr,g=f.length;if(o==hr&&(o=null!=i?i[0]:g?Sr(a,0):null),c=0,e.__k=Er(e.__k,(function(a){if(null!=a){if(a.__p=e,a.__b=e.__b+1,null===(d=f[c])||d&&a.key==d.key&&a.type===d.type)f[c]=void 0;else for(u=0;u<g;u++){if((d=f[u])&&a.key==d.key&&a.type===d.type){f[u]=void 0;break}d=null}if(p=Tr(t,a,d=d||hr,n,r,i,s,null,o,l),(u=a.ref)&&d.ref!=u&&(v||(v=[])).push(u,a.__c||p,a),null!=p){if(null==m&&(m=p),null!=a.l)p=a.l,a.l=null;else if(i==d||p!=o||null==p.parentNode){t:if(null==o||o.parentNode!==t)t.appendChild(p);else{for(h=o,u=0;(h=h.nextSibling)&&u<g;u+=2)if(h==p)break t;t.insertBefore(p,o)}"option"==e.type&&(t.value="")}o=p.nextSibling,"function"==typeof e.type&&(e.l=p)}}return c++,a})),e.__e=m,null!=i&&"function"!=typeof e.type)for(c=i.length;c--;)null!=i[c]&&gr(i[c]);for(c=g;c--;)null!=f[c]&&Rr(f[c],f[c]);if(v)for(c=0;c<v.length;c++)Mr(v[c],v[++c],v[++c])}function Er(t,e,a){if(null==a&&(a=[]),null==t||"boolean"==typeof t)e&&a.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)Er(t[n],e,a);else a.push(e?e(xr(t)):t);return a}function Lr(t,e,a,n,r){var i;for(i in a)i in e||Ir(t,i,null,a[i],n);for(i in e)r&&"function"!=typeof e[i]||"value"===i||"checked"===i||a[i]===e[i]||Ir(t,i,e[i],a[i],n)}function Ar(t,e,a){"-"===e[0]?t.setProperty(e,a):t[e]="number"==typeof a&&!1===vr.test(e)?a+"px":null==a?"":a}function Ir(t,e,a,n,r){var i,s,o,l,c;if("key"===(e=r?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(i=t.style,"string"==typeof a)i.cssText=a;else{if("string"==typeof n&&(i.cssText="",n=null),n)for(s in n)a&&s in a||Ar(i,s,"");if(a)for(o in a)n&&a[o]===n[o]||Ar(i,o,a[o])}else"o"===e[0]&&"n"===e[1]?(l=e!==(e=e.replace(/Capture$/,"")),c=e.toLowerCase(),e=(c in t?c:e).slice(2),a?(n||t.addEventListener(e,Fr,l),(t.t||(t.t={}))[e]=a):t.removeEventListener(e,Fr,l)):"list"!==e&&"tagName"!==e&&"form"!==e&&!r&&e in t?t[e]=null==a?"":a:"function"!=typeof a&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==a||!1===a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),a):null==a||!1===a?t.removeAttribute(e):t.setAttribute(e,a))}function Fr(t){return this.t[t.type](Nn.event?Nn.event(t):t)}function Tr(t,e,a,n,r,i,s,o,l,c){var u,d,p,h,m,v,f,g,b,y,w=e.type;if(void 0!==e.constructor)return null;(u=Nn.__b)&&u(e);try{t:if("function"==typeof w){if(g=e.props,b=(u=w.contextType)&&n[u.__c],y=u?b?b.props.value:u.__p:n,a.__c?f=(d=e.__c=a.__c).__p=d.__E:("prototype"in w&&w.prototype.render?e.__c=d=new w(g,y):(e.__c=d=new Cr(g,y),d.constructor=w,d.render=Br),b&&b.sub(d),d.props=g,d.state||(d.state={}),d.context=y,d.__n=n,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=w.getDerivedStateFromProps&&fr(d.__s==d.state?d.__s=fr({},d.__s):d.__s,w.getDerivedStateFromProps(g,d.__s)),p)null==w.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&s.push(d);else{if(null==w.getDerivedStateFromProps&&null==o&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,y),!o&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,y)){for(d.props=g,d.state=d.__s,d.__d=!1,d.__v=e,e.__e=null!=l?l!==a.__e?l:a.__e:null,e.__k=a.__k,u=0;u<e.__k.length;u++)e.__k[u]&&(e.__k[u].__p=e);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,y)}for(h=d.props,m=d.state,d.context=y,d.props=g,d.state=d.__s,(u=Nn.__r)&&u(e),d.__d=!1,d.__v=e,d.__P=t,u=d.render(d.props,d.state,d.context),e.__k=Er(null!=u&&u.type==wr&&null==u.key?u.props.children:u),null!=d.getChildContext&&(n=fr(fr({},n),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(v=d.getSnapshotBeforeUpdate(h,m)),$r(t,e,a,n,r,i,s,l,c),d.base=e.__e;u=d.__h.pop();)d.__s&&(d.state=d.__s),u.call(d);p||null==h||null==d.componentDidUpdate||d.componentDidUpdate(h,m,v),f&&(d.__E=d.__p=null)}else e.__e=Nr(a.__e,e,a,n,r,i,s,c);(u=Nn.diffed)&&u(e)}catch(t){Nn.__e(t,e,a)}return e.__e}function Or(t,e){for(var a;a=t.pop();)try{a.componentDidMount()}catch(t){Nn.__e(t,a.__v)}Nn.__c&&Nn.__c(e)}function Nr(t,e,a,n,r,i,s,o){var l,c,u,d,p=a.props,h=e.props;if(r="svg"===e.type||r,null==t&&null!=i)for(l=0;l<i.length;l++)if(null!=(c=i[l])&&(null===e.type?3===c.nodeType:c.localName===e.type)){t=c,i[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(h);t=r?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),i=null}return null===e.type?p!==h&&(null!=i&&(i[i.indexOf(t)]=null),t.data=h):e!==a&&(null!=i&&(i=mr.slice.call(t.childNodes)),u=(p=a.props||hr).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,o||(d||u)&&(d&&u&&d.__html==u.__html||(t.innerHTML=d&&d.__html||"")),Lr(t,h,p,r,o),e.__k=e.props.children,d||$r(t,e,a,n,"foreignObject"!==e.type&&r,i,s,hr,o),o||("value"in h&&void 0!==h.value&&h.value!==t.value&&(t.value=null==h.value?"":h.value),"checked"in h&&void 0!==h.checked&&h.checked!==t.checked&&(t.checked=h.checked))),t}function Mr(t,e,a){try{"function"==typeof t?t(e):t.current=e}catch(t){Nn.__e(t,a)}}function Rr(t,e,a){var n,r,i;if(Nn.unmount&&Nn.unmount(t),(n=t.ref)&&Mr(n,null,e),a||"function"==typeof t.type||(a=null!=(r=t.__e)),t.__e=t.l=null,null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){Nn.__e(t,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Rr(n[i],e,a);null!=r&&gr(r)}function Br(t,e,a){return this.constructor(t,a)}function Dr(t,e,a){var n,r,i;Nn.__p&&Nn.__p(t,e),r=(n=a===Dn)?null:a&&a.__k||e.__k,t=br(wr,null,[t]),i=[],Tr(e,n?e.__k=t:(a||e).__k=t,r||hr,hr,void 0!==e.ownerSVGElement,a&&!n?[a]:r?null:mr.slice.call(e.childNodes),i,!1,a||hr,n),Or(i,t)}function Wr(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jr(t,e,a){return e&&Wr(t.prototype,e),a&&Wr(t,a),t}function Vr(){return Vr=Object.assign||function(t){for(var e=arguments,a=1;a<arguments.length;a++){var n=e[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vr.apply(this,arguments)}Nn={},Cr.prototype.setState=function(t,e){var a=this.__s!==this.state&&this.__s||(this.__s=fr({},this.state));("function"!=typeof t||(t=t(a,this.props)))&&fr(a,t),null!=t&&this.__v&&(this.u=!1,e&&this.__h.push(e),kr(this))},Cr.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,kr(this))},Cr.prototype.render=wr,Mn=[],Rn="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Bn=Nn.debounceRendering,Nn.__e=function(t,e,a){for(var n;e=e.__p;)if((n=e.__c)&&!n.__p)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(t));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(t)}return kr(n.__E=n)}catch(e){t=e}throw t},Dn=hr;var Hr="[-\\+]?\\d+%?",Ur="[-\\+]?\\d*\\.\\d+%?",Gr="(?:"+Ur+")|(?:"+Hr+")",zr="[\\s|\\(]+("+Gr+")[,|\\s]+("+Gr+")[,|\\s]+("+Gr+")\\s*\\)?",qr="[\\s|\\(]+("+Gr+")[,|\\s]+("+Gr+")[,|\\s]+("+Gr+")[,|\\s]+("+Gr+")\\s*\\)?",Yr=new RegExp("rgb"+zr),Xr=new RegExp("rgba"+qr),Jr=new RegExp("hsl"+zr),Zr=new RegExp("hsla"+qr),Kr="^(?:#?|0x?)",Qr="([0-9a-fA-F]{1})",ti="([0-9a-fA-F]{2})",ei=new RegExp(Kr+Qr+Qr+Qr+"$"),ai=new RegExp(Kr+Qr+Qr+Qr+Qr+"$"),ni=new RegExp(Kr+ti+ti+ti+"$"),ri=new RegExp(Kr+ti+ti+ti+ti+"$"),ii=2e3,si=4e4,oi=Math.log,li=Math.round,ci=Math.floor;function ui(t,e,a){return Math.min(Math.max(t,e),a)}function di(t,e){var a=t.indexOf("%")>-1,n=parseFloat(t);return a?e/100*n:n}function pi(t){return parseInt(t,16)}function hi(t){return t.toString(16).padStart(2,"0")}var mi=function(){function t(t,e){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=e,this.initialValue=Vr({},this.$)}var e=t.prototype;return e.set=function(e){if("string"===typeof e)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(e)?this.hexString=e:/^rgba?/.test(e)?this.rgbString=e:/^hsla?/.test(e)&&(this.hslString=e);else{if("object"!==typeof e)throw new Error("Invalid color value");e instanceof t?this.hsva=e.hsva:"r"in e&&"g"in e&&"b"in e?this.rgb=e:"h"in e&&"s"in e&&"v"in e?this.hsv=e:"h"in e&&"s"in e&&"l"in e?this.hsl=e:"kelvin"in e&&(this.kelvin=e.kelvin)}},e.setChannel=function(t,e,a){var n;this[t]=Vr({},this[t],(n={},n[e]=a,n))},e.reset=function(){this.hsva=this.initialValue},e.clone=function(){return new t(this)},e.unbind=function(){this.onChange=void 0},t.hsvToRgb=function(t){var e=t.h/60,a=t.s/100,n=t.v/100,r=ci(e),i=e-r,s=n*(1-a),o=n*(1-i*a),l=n*(1-(1-i)*a),c=r%6,u=[n,o,s,s,l,n][c],d=[l,n,n,o,s,s][c],p=[s,s,l,n,n,o][c];return{r:ui(255*u,0,255),g:ui(255*d,0,255),b:ui(255*p,0,255)}},t.rgbToHsv=function(t){var e=t.r/255,a=t.g/255,n=t.b/255,r=Math.max(e,a,n),i=Math.min(e,a,n),s=r-i,o=0,l=r,c=0===r?0:s/r;switch(r){case i:o=0;break;case e:o=(a-n)/s+(a<n?6:0);break;case a:o=(n-e)/s+2;break;case n:o=(e-a)/s+4;break}return{h:60*o%360,s:ui(100*c,0,100),v:ui(100*l,0,100)}},t.hsvToHsl=function(t){var e=t.s/100,a=t.v/100,n=(2-e)*a,r=n<=1?n:2-n,i=r<1e-9?0:e*a/r;return{h:t.h,s:ui(100*i,0,100),l:ui(50*n,0,100)}},t.hslToHsv=function(t){var e=2*t.l,a=t.s*(e<=100?e:200-e)/100,n=e+a<1e-9?0:2*a/(e+a);return{h:t.h,s:ui(100*n,0,100),v:ui((e+a)/2,0,100)}},t.kelvinToRgb=function(t){var e,a,n,r=t/100;return r<66?(e=255,a=-155.25485562709179-.44596950469579133*(a=r-2)+104.49216199393888*oi(a),n=r<20?0:.8274096064007395*(n=r-10)-254.76935184120902+115.67994401066147*oi(n)):(e=351.97690566805693+.114206453784165*(e=r-55)-40.25366309332127*oi(e),a=325.4494125711974+.07943456536662342*(a=r-50)-28.0852963507957*oi(a),n=255),{r:ui(ci(e),0,255),g:ui(ci(a),0,255),b:ui(ci(n),0,255)}},t.rgbToKelvin=function(e){var a,n=e.r,r=e.b,i=.4,s=ii,o=si;while(o-s>i){a=.5*(o+s);var l=t.kelvinToRgb(a);l.b/l.r>=r/n?o=a:s=a}return a},jr(t,[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(t){var e=this.$;if(t=Vr({},e,t),this.onChange){var a={h:!1,v:!1,s:!1,a:!1};for(var n in e)a[n]=t[n]!=e[n];this.$=t,(a.h||a.s||a.v||a.a)&&this.onChange(this,a)}else this.$=t}},{key:"hsva",get:function(){return Vr({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(t){this.hsv=Vr({},this.hsv,{a:t})}},{key:"kelvin",get:function(){return t.rgbToKelvin(this.rgb)},set:function(e){this.rgb=t.kelvinToRgb(e)}},{key:"red",get:function(){var t=this.rgb;return t.r},set:function(t){this.rgb=Vr({},this.rgb,{r:t})}},{key:"green",get:function(){var t=this.rgb;return t.g},set:function(t){this.rgb=Vr({},this.rgb,{g:t})}},{key:"blue",get:function(){var t=this.rgb;return t.b},set:function(t){this.rgb=Vr({},this.rgb,{b:t})}},{key:"rgb",get:function(){var e=t.hsvToRgb(this.$),a=e.r,n=e.g,r=e.b;return{r:li(a),g:li(n),b:li(r)}},set:function(e){this.hsv=Vr({},t.rgbToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"rgba",get:function(){return Vr({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var e=t.hsvToHsl(this.$),a=e.h,n=e.s,r=e.l;return{h:li(a),s:li(n),l:li(r)}},set:function(e){this.hsv=Vr({},t.hslToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"hsla",get:function(){return Vr({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},set:function(t){var e,a,n,r,i=1;if((e=Yr.exec(t))?(a=di(e[1],255),n=di(e[2],255),r=di(e[3],255)):(e=Xr.exec(t))&&(a=di(e[1],255),n=di(e[2],255),r=di(e[3],255),i=di(e[4],1)),!e)throw new Error("Invalid rgb string");this.rgb={r:a,g:n,b:r,a:i}}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+hi(t.r)+hi(t.g)+hi(t.b)},set:function(t){var e,a,n,r,i=255;if((e=ei.exec(t))?(a=17*pi(e[1]),n=17*pi(e[2]),r=17*pi(e[3])):(e=ai.exec(t))?(a=17*pi(e[1]),n=17*pi(e[2]),r=17*pi(e[3]),i=17*pi(e[4])):(e=ni.exec(t))?(a=pi(e[1]),n=pi(e[2]),r=pi(e[3])):(e=ri.exec(t))&&(a=pi(e[1]),n=pi(e[2]),r=pi(e[3]),i=pi(e[4])),!e)throw new Error("Invalid hex string");this.rgb={r:a,g:n,b:r,a:i/255}}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+hi(t.r)+hi(t.g)+hi(t.b)+hi(ci(255*t.a))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},set:function(t){var e,a,n,r,i=1;if((e=Jr.exec(t))?(a=di(e[1],360),n=di(e[2],100),r=di(e[3],100)):(e=Zr.exec(t))&&(a=di(e[1],360),n=di(e[2],100),r=di(e[3],100),i=di(e[4],1)),!e)throw new Error("Invalid hsl string");this.hsl={h:a,s:n,l:r,a:i}}},{key:"hslaString",get:function(){var t=this.hsla;return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},set:function(t){this.hslString=t}}]),t}(),vi={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function fi(t){var e,a=t.width,n=t.sliderSize,r=t.borderWidth,i=t.handleRadius,s=t.padding,o=t.sliderShape,l="horizontal"===t.layoutDirection;return n=null!=(e=n)?e:2*s+2*i,"circle"===o?{handleStart:t.padding+t.handleRadius,handleRange:a-2*s-2*i,width:a,height:a,cx:a/2,cy:a/2,radius:a/2-r/2}:{handleStart:n/2,handleRange:a-n,radius:n/2,x:0,y:0,width:l?n:a,height:l?a:n}}function gi(t,e){var a=e.hsva,n=e.rgb;switch(t.sliderType){case"red":return n.r/2.55;case"green":return n.g/2.55;case"blue":return n.b/2.55;case"alpha":return 100*a.a;case"kelvin":var r=t.minTemperature,i=t.maxTemperature,s=i-r,o=(e.kelvin-r)/s*100;return Math.max(0,Math.min(o,100));case"hue":return a.h/=3.6;case"saturation":return a.s;case"value":default:return a.v}}function bi(t,e,a){var n,r=fi(t),i=r.handleRange,s=r.handleStart;n="horizontal"===t.layoutDirection?-1*a+i+s:e-s,n=Math.max(Math.min(n,i),0);var o=Math.round(100/i*n);switch(t.sliderType){case"kelvin":var l=t.minTemperature,c=t.maxTemperature,u=c-l;return l+u*(o/100);case"alpha":return o/100;case"hue":return 3.6*o;case"red":case"blue":case"green":return 2.55*o;default:return o}}function yi(t,e){var a=fi(t),n=a.width,r=a.height,i=a.handleRange,s=a.handleStart,o="horizontal"===t.layoutDirection,l=gi(t,e),c=o?n/2:r/2,u=s+l/100*i;return o&&(u=-1*u+i+2*s),{x:o?c:u,y:o?u:c}}function wi(t,e){var a=e.hsv,n=e.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+n.g+","+n.b+")"],[100,"rgb(255,"+n.g+","+n.b+")"]];case"green":return[[0,"rgb("+n.r+",0,"+n.b+")"],[100,"rgb("+n.r+",255,"+n.b+")"]];case"blue":return[[0,"rgb("+n.r+","+n.g+",0)"],[100,"rgb("+n.r+","+n.g+",255)"]];case"alpha":return[[0,"rgba("+n.r+","+n.g+","+n.b+",0)"],[100,"rgb("+n.r+","+n.g+","+n.b+")"]];case"kelvin":for(var r=[],i=t.minTemperature,s=t.maxTemperature,o=8,l=s-i,c=i,u=0;c<s;c+=l/o,u+=1){var d=mi.kelvinToRgb(c),p=d.r,h=d.g,m=d.b;r.push([100/o*u,"rgb("+p+","+h+","+m+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var v=mi.hsvToHsl({h:a.h,s:0,v:a.v}),f=mi.hsvToHsl({h:a.h,s:100,v:a.v});return[[0,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"],[100,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"]];case"value":default:var g=mi.hsvToHsl({h:a.h,s:a.s,v:100});return[[0,"#000"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]]}}var xi,Ci=2*Math.PI,Si=function(t,e){return(t%e+e)%e},_i=function(t,e){return Math.sqrt(t*t+e*e)};function ki(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function Pi(t,e,a){var n=$i(t),r=n.cx,i=n.cy,s=t.width/2;return _i(r-e,i-a)<s}function $i(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function Ei(t,e,a){var n=t.wheelAngle,r=t.wheelDirection;return a&&"clockwise"===r?e=n+e:"clockwise"===r?e=360-n+e:a&&"anticlockwise"===r?e=n+180-e:"anticlockwise"===r&&(e=n-e),Si(e,360)}function Li(t,e){var a=e.hsv,n=$i(t),r=n.cx,i=n.cy,s=ki(t),o=(180+Ei(t,a.h,!0))*(Ci/360),l=a.s/100*s,c="clockwise"===t.wheelDirection?-1:1;return{x:r+l*Math.cos(o)*c,y:i+l*Math.sin(o)*c}}function Ai(t,e,a){var n=$i(t),r=n.cx,i=n.cy,s=ki(t);e=r-e,a=i-a;var o=Ei(t,Math.atan2(-a,-e)*(360/Ci)),l=Math.min(_i(e,a),s);return{h:Math.round(o),s:Math.round(100/s*l)}}function Ii(t){var e=t.width,a=t.boxHeight,n=t.padding,r=t.handleRadius;return{width:e,height:null!=a?a:e,radius:n+r}}function Fi(t,e,a){var n=Ii(t),r=n.width,i=n.height,s=n.radius,o=s,l=r-2*s,c=i-2*s,u=(e-o)/l*100,d=(a-o)/c*100;return{s:Math.max(0,Math.min(u,100)),v:Math.max(0,Math.min(100-d,100))}}function Ti(t,e){var a=Ii(t),n=a.width,r=a.height,i=a.radius,s=e.hsv,o=i,l=n-2*i,c=r-2*i;return{x:o+s.s/100*l,y:o+(c-s.v/100*c)}}function Oi(t,e){var a=e.hue;return[[[0,"#fff"],[100,"hsl("+a+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}function Ni(t){xi||(xi=document.getElementsByTagName("base"));var e=window.navigator.userAgent,a=/^((?!chrome|android).)*safari/i.test(e),n=/iPhone|iPod|iPad/i.test(e),r=window.location;return(a||n)&&xi.length>0?r.protocol+"//"+r.host+r.pathname+r.search+t:t}function Mi(t,e,a,n){for(var r=0;r<n.length;r++){var i=n[r].x-e,s=n[r].y-a,o=Math.sqrt(i*i+s*s);if(o<t.handleRadius)return r}return null}function Ri(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function Bi(t,e,a){return t+"-gradient("+e+", "+a.map((function(t){var e=t[0],a=t[1];return a+" "+e+"%"})).join(",")+")"}function Di(t){return"string"===typeof t?t:t+"px"}var Wi={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},ji=["mousemove","touchmove","mouseup","touchend"],Vi=function(t){function e(e){t.call(this,e),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.handleEvent.bind(this),a={onMouseDown:e,ontouchstart:e},n="horizontal"===t.layoutDirection,r=null===t.margin?t.sliderMargin:t.margin,i={overflow:"visible",display:n?"inline-block":"block"};return t.index>0&&(i[n?"marginLeft":"marginTop"]=r),br(wr,null,t.children(this.uid,a,i))},e.prototype.handleEvent=function(t){var e=this,a=this.props.onInput,n=this.base.getBoundingClientRect();t.preventDefault();var r=t.touches?t.changedTouches[0]:t,i=r.clientX-n.left,s=r.clientY-n.top;switch(t.type){case"mousedown":case"touchstart":var o=a(i,s,0);!1!==o&&ji.forEach((function(t){document.addEventListener(t,e,{passive:!1})}));break;case"mousemove":case"touchmove":a(i,s,1);break;case"mouseup":case"touchend":a(i,s,2),ji.forEach((function(t){document.removeEventListener(t,e,{passive:!1})}));break}},e}(Cr);function Hi(t){var e=t.r,a=t.url,n=e,r=e;return br("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+Di(t.x)+", "+Di(t.y)+")",willChange:"transform",top:Di(-e),left:Di(-e),width:Di(2*e),height:Di(2*e),position:"absolute",overflow:"visible"}},a&&br("use",Object.assign({xlinkHref:Ni(a)},t.props)),!a&&br("circle",{cx:n,cy:r,r:e,fill:"none","stroke-width":2,stroke:"#000"}),!a&&br("circle",{cx:n,cy:r,r:e-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}function Ui(t){var e=t.activeIndex,a=void 0!==e&&e<t.colors.length?t.colors[e]:t.color,n=fi(t),r=n.width,i=n.height,s=n.radius,o=yi(t,a),l=wi(t,a);function c(e,n,r){var i=bi(t,e,n);t.parent.inputActive=!0,a[t.sliderType]=i,t.onInput(r,t.id)}return br(Vi,Object.assign({},t,{onInput:c}),(function(e,n,c){return br("div",Object.assign({},n,{className:"IroSlider",style:Object.assign({},{position:"relative",width:Di(r),height:Di(i),borderRadius:Di(s),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},c)}),br("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:Di(s),background:Bi("linear","horizontal"===t.layoutDirection?"to top":"to right",l)},Ri(t))}),br(Hi,{isActive:!0,index:a.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:o.x,y:o.y}))}))}function Gi(t){var e=Ii(t),a=e.width,n=e.height,r=e.radius,i=t.colors,s=t.parent,o=t.activeIndex,l=void 0!==o&&o<t.colors.length?t.colors[o]:t.color,c=Oi(t,l),u=i.map((function(e){return Ti(t,e)}));function d(e,a,n){if(0===n){var r=Mi(t,e,a,u);null!==r?s.setActiveColor(r):(s.inputActive=!0,l.hsv=Fi(t,e,a),t.onInput(n,t.id))}else 1===n&&(s.inputActive=!0,l.hsv=Fi(t,e,a));t.onInput(n,t.id)}return br(Vi,Object.assign({},t,{onInput:d}),(function(e,s,o){return br("div",Object.assign({},s,{className:"IroBox",style:Object.assign({},{width:Di(a),height:Di(n),position:"relative"},o)}),br("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:Di(r)},Ri(t),{background:Bi("linear","to bottom",c[1])+","+Bi("linear","to right",c[0])})}),i.filter((function(t){return t!==l})).map((function(e){return br(Hi,{isActive:!1,index:e.index,fill:e.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[e.index].x,y:u[e.index].y})})),br(Hi,{isActive:!0,index:l.index,fill:l.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[l.index].x,y:u[l.index].y}))}))}Hi.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},Ui.defaultProps=Object.assign({},vi);var zi="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",qi="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function Yi(t){var e=$i(t),a=e.width,n=t.colors,r=(t.borderWidth,t.parent),i=t.color,s=i.hsv,o=n.map((function(e){return Li(t,e)})),l={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function c(e,a,n){if(0===n){if(!Pi(t,e,a))return!1;var s=Mi(t,e,a,o);null!==s?r.setActiveColor(s):(r.inputActive=!0,i.hsv=Ai(t,e,a),t.onInput(n,t.id))}else 1===n&&(r.inputActive=!0,i.hsv=Ai(t,e,a));t.onInput(n,t.id)}return br(Vi,Object.assign({},t,{onInput:c}),(function(e,r,c){return br("div",Object.assign({},r,{className:"IroWheel",style:Object.assign({},{width:Di(a),height:Di(a),position:"relative"},c)}),br("div",{className:"IroWheelHue",style:Object.assign({},l,{transform:"rotateZ("+(t.wheelAngle+90)+"deg)",background:"clockwise"===t.wheelDirection?zi:qi})}),br("div",{className:"IroWheelSaturation",style:Object.assign({},l,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),t.wheelLightness&&br("div",{className:"IroWheelLightness",style:Object.assign({},l,{background:"#000",opacity:1-s.v/100})}),br("div",{className:"IroWheelBorder",style:Object.assign({},l,Ri(t))}),n.filter((function(t){return t!==i})).map((function(e){return br(Hi,{isActive:!1,index:e.index,fill:e.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:o[e.index].x,y:o[e.index].y})})),br(Hi,{isActive:!0,index:i.index,fill:i.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:o[i.index].x,y:o[i.index].y}))}))}function Xi(t){var e=function(e,a){var n,r=document.createElement("div");function i(){var t=e instanceof Element?e:document.querySelector(e);t.appendChild(n.base),n.onMount(t)}return Dr(br(t,Object.assign({},{ref:function(t){return n=t}},a)),r),"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i),n};return e.prototype=t.prototype,Object.assign(e,t),e.__component=t,e}var Ji=function(t){function e(e){var a=this;t.call(this,e),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=e.id;var n=e.colors.length>0?e.colors:[e.color];n.forEach((function(t){return a.addColor(t)})),this.setActiveColor(0),this.state=Object.assign({},e,{color:this.color,colors:this.colors,layout:e.layout})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addColor=function(t,e){void 0===e&&(e=this.colors.length);var a=new mi(t,this.onColorChange.bind(this));this.colors.splice(e,0,a),this.colors.forEach((function(t,e){return t.index=e})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",a)},e.prototype.removeColor=function(t){var e=this.colors.splice(t,1)[0];e.unbind(),this.colors.forEach((function(t,e){return t.index=e})),this.state&&this.setState({colors:this.colors}),e.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",e)},e.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},e.prototype.setColors=function(t,e){var a=this;void 0===e&&(e=0),this.colors.forEach((function(t){return t.unbind()})),this.colors=[],t.forEach((function(t){return a.addColor(t)})),this.setActiveColor(e),this.emit("color:setAll",this.colors)},e.prototype.on=function(t,e){var a=this,n=this.events;(Array.isArray(t)?t:[t]).forEach((function(t){(n[t]||(n[t]=[])).push(e),a.deferredEvents[t]&&(a.deferredEvents[t].forEach((function(t){e.apply(null,t)})),a.deferredEvents[t]=[])}))},e.prototype.off=function(t,e){var a=this;(Array.isArray(t)?t:[t]).forEach((function(t){var n=a.events[t];n&&n.splice(n.indexOf(e),1)}))},e.prototype.emit=function(t){var e=this,a=[],n=arguments.length-1;while(n-- >0)a[n]=arguments[n+1];var r=this.activeEvents,i=!!r.hasOwnProperty(t)&&r[t];if(!i){r[t]=!0;var s=this.events[t]||[];s.forEach((function(t){return t.apply(e,a)})),r[t]=!1}},e.prototype.deferredEmit=function(t){var e,a=[],n=arguments.length-1;while(n-- >0)a[n]=arguments[n+1];var r=this.deferredEvents;(e=this).emit.apply(e,[t].concat(a)),(r[t]||(r[t]=[])).push(a)},e.prototype.setOptions=function(t){this.setState(t)},e.prototype.resize=function(t){this.setOptions({width:t})},e.prototype.reset=function(){this.colors.forEach((function(t){return t.reset()})),this.setState({colors:this.colors})},e.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},e.prototype.onColorChange=function(t,e){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,e)),this.emit("color:change",t,e)},e.prototype.emitInputEvent=function(t,e){0===t?this.emit("input:start",this.color,e):1===t?this.emit("input:move",this.color,e):2===t&&this.emit("input:end",this.color,e)},e.prototype.render=function(t,e){var a=this,n=e.layout;if(!Array.isArray(n)){switch(n){default:n=[{component:Yi},{component:Ui}]}e.transparency&&n.push({component:Ui,options:{sliderType:"alpha"}})}return br("div",{class:"IroColorPicker",id:e.id,style:{display:e.display}},n.map((function(t,n){var r=t.component,i=t.options;return br(r,Object.assign({},e,i,{ref:void 0,onInput:a.emitInputEvent.bind(a),parent:a,index:n}))})))},e}(Cr);Ji.defaultProps=Object.assign({},Wi,{colors:[],display:"block",id:null,layout:"default",margin:null});var Zi,Ki=Xi(Ji);(function(t){t.version="5.5.2",t.Color=mi,t.ColorPicker=Ki,function(t){t.h=br,t.ComponentBase=Vi,t.Handle=Hi,t.Slider=Ui,t.Wheel=Yi,t.Box=Gi}(t.ui||(t.ui={}))})(Zi||(Zi={}));var Qi=Zi,ts=Qi,es={name:"ModalColorPicker",components:{},props:{},data:function(){return{screen:"basicColors",target:null,scriptParam:null,colorPicker:null,currentColor:{hex:"#FFFFFF"},colorGrid:{rows:[{id:"row1",colors:[{hex:"#000000"}]}]}}},methods:{selectCurrentColor:function(){this.selectColor(this.currentColor)},selectColor:function(t){"fillStyle"==this.target?window.ctx.fillStyle=t.hex:"strokeStyle"==this.target?window.ctx.strokeStyle=t.hex:"scriptParam"==this.target&&(this.scriptParam.value=t.hex,this.$parent.$refs.scriptWithParamsPanel.$forceUpdate()),window.$("#modalColorPicker").modal("hide"),this.$parent.updateCurrentContextDetails(),this.target=null},addColorToGrid:function(t,e){var a={hex:e,id:e+"_"+Math.random()};this.colorGrid.rows[t].colors.push(a)},buildColorGrid:function(){this.colorGrid.rows[0].colors=[],this.addColorToGrid(0,"#000000"),this.addColorToGrid(0,"#222222"),this.addColorToGrid(0,"#444444"),this.addColorToGrid(0,"#666666"),this.addColorToGrid(0,"#888888"),this.addColorToGrid(0,"#AAAAAA"),this.addColorToGrid(0,"#CCCCCC"),this.addColorToGrid(0,"#DDDDDD"),this.addColorToGrid(0,"#EEEEEE"),this.addColorToGrid(0,"#FFFFFF");var t={id:"row2",colors:[]};this.colorGrid.rows.push(t),this.addColorToGrid(1,"#FF0000"),this.addColorToGrid(1,"#FF8800"),this.addColorToGrid(1,"#FFFF00"),this.addColorToGrid(1,"#00FF00"),this.addColorToGrid(1,"#00FFFF"),this.addColorToGrid(1,"#0088FF"),this.addColorToGrid(1,"#0000FF"),this.addColorToGrid(1,"#8800FF"),this.addColorToGrid(1,"#FF00FF"),this.addColorToGrid(1,"#880000"),this.buildRow(192),this.buildRow(128),this.buildRow(64),this.buildRow(-64),this.buildRow(-128),this.buildRow(-192)},buildRow:function(t){var e=this.colorGrid.rows.length,a="row"+e+1,n={id:a,colors:[]};this.colorGrid.rows.push(n);for(var r=0;r<10;r++){var i=this.colorGrid.rows[1].colors[r].hex,s=this.changeColor(i,t);this.addColorToGrid(e,s)}},changeColor:function(t,e){var a=c.hexToRgb(t),n=c.rgbAdd(a,e),r=c.rgbToHex(n);return r},setCurrentColor:function(t){this.currentColor.hex=t,this.colorPicker.color.hexString=t}},mounted:function(){this.buildColorGrid();var t=new ts.ColorPicker("#colorPicker",{layout:[{component:ts.ui.Box,options:{}},{component:ts.ui.Slider,options:{sliderType:"hue"}},{component:ts.ui.Slider,options:{sliderType:"alpha"}}]});this.colorPicker=t;var e=this;t.on("color:change",(function(t){e.currentColor.hex=t.hex8String}))}},as=es,ns=(a("5687"),Object(_["a"])(as,dr,pr,!1,null,"be7efbaa",null)),rs=ns.exports,is=a("960a"),ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])},os=[],ls={name:"IconBack",props:{color:{type:String,default:"#000000"}}},cs=ls,us=Object(_["a"])(cs,ss,os,!1,null,"37a9ab3e",null),ds=us.exports,ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null==t.selectedVisualScript?a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.createNewVisualScript()}}},[t._v("New visual script...")]),t.visualScripts.length>0?a("div",[a("br"),a("table",{staticClass:"smallTable"},[t._m(0),a("tbody",t._l(t.visualScripts,(function(e){return a("tr",{key:e.name},[a("td",[a("b",[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.blocks.length)+" blocks")]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectVisualScript(e)}}},[t._v("View / edit")])]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return t.executeVisualScript(e)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1)]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteVisualScript(e)}}},[a("IconDelete",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)])])})),0)]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clearLayerBeforeExecuting,expression:"clearLayerBeforeExecuting"}],attrs:{type:"checkbox",id:"checkbox01"},domProps:{checked:Array.isArray(t.clearLayerBeforeExecuting)?t._i(t.clearLayerBeforeExecuting,null)>-1:t.clearLayerBeforeExecuting},on:{change:function(e){var a=t.clearLayerBeforeExecuting,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&(t.clearLayerBeforeExecuting=a.concat([i])):s>-1&&(t.clearLayerBeforeExecuting=a.slice(0,s).concat(a.slice(s+1)))}else t.clearLayerBeforeExecuting=r}}}),a("label",{attrs:{for:"checkbox01"}},[t._v("Clear layer before executing")])]):t._e()]):t._e(),null!=t.selectedVisualScript?a("div",[a("h3",[a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return t.unselectVisualScript()}}},[a("IconBack",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Back")],1),t._v(" "+t._s(t.selectedVisualScript.name))]),a("br"),0==t.selectedVisualScript.blocks.length?a("div",[a("p",[t._v("This visual script has no blocks yet.")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalAddBlock()}}},[t._v("Add block")])]):t._e(),t.selectedVisualScript.blocks.length>0?a("div",[a("Blocks",{ref:"blocksComponent",attrs:{blocks:t.selectedVisualScript.blocks,isRootLevel:"true"}}),a("br"),a("br"),t.selectedVisualScript.blocks.length>0?a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.executeSelectedVisualScript()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute visual script")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalAddBlock()}}},[t._v("Add block")])]):t._e(),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clearLayerBeforeExecuting,expression:"clearLayerBeforeExecuting"}],attrs:{type:"checkbox",id:"checkbox_clearLayerBeforeExecuting"},domProps:{checked:Array.isArray(t.clearLayerBeforeExecuting)?t._i(t.clearLayerBeforeExecuting,null)>-1:t.clearLayerBeforeExecuting},on:{change:function(e){var a=t.clearLayerBeforeExecuting,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&(t.clearLayerBeforeExecuting=a.concat([i])):s>-1&&(t.clearLayerBeforeExecuting=a.slice(0,s).concat(a.slice(s+1)))}else t.clearLayerBeforeExecuting=r}}}),a("label",{attrs:{for:"checkbox_clearLayerBeforeExecuting"}},[t._v("Clear layer before executing")])],1):t._e()]):t._e(),a("div",[a("br"),a("router-link",{attrs:{to:"/docs/visual-scripts",target:"_blank"}},[a("IconHelp",{staticStyle:{"margin-top":"-3px"}})],1),a("b",[a("router-link",{attrs:{to:"/docs/visual-scripts",target:"_blank"}},[t._v("Help")])],1)],1),a("ModalAddBlock",{ref:"modalAddBlock"})],1)},hs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("blocks")]),a("th"),a("th"),a("th")])])}],ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:t.color,d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}})])},vs=[],fs={name:"IconDelete",props:{color:{type:String,default:"#000000"}}},gs=fs,bs=Object(_["a"])(gs,ms,vs,!1,null,"2707c39e",null),ys=bs.exports,ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalAddBlock",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("span",[t._v("Type: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.type,expression:"sampleScriptsFilter.type"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.sampleScriptsFilter,"type",e.target.multiple?a:a[0])},function(e){return t.filterSampleScripts()}]}},[a("option",{attrs:{value:""}},[t._v("(Show all)")]),t._l(t.sampleScriptTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),a("span",[t._v(" Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.text"}],domProps:{value:t.sampleScriptsFilter.text},on:{input:[function(e){e.target.composing||t.$set(t.sampleScriptsFilter,"text",e.target.value)},function(e){return t.filterSampleScripts()}]}}),a("br"),a("br"),a("div",{staticClass:"modalTableDiv"},[a("table",{staticStyle:{"margin-top":"5px"}},t._l(t.sampleScripts,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.selectSampleScript(e)}}},[t._v("Select")])])])})),0)])]),t._m(1)])])])},xs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add block")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])}],Cs={name:"ModalAddBlock",components:{},props:{},data:function(){return{sampleScripts:[],allSampleScripts:[],sampleScriptTypes:[],numSampleScripts:null,numFilteredSampleScripts:null,sampleScriptsFilter:{type:"",text:""}}},mounted:function(){this.allSampleScripts=Object(o["b"])(),this.sampleScripts=Object(o["b"])(),this.sampleScriptTypes=Object(o["a"])(),this.numSampleScripts=this.allSampleScripts.length,this.numFilteredSampleScripts=this.allSampleScripts.length},methods:{showModal:function(){this.clearSearch(),window.$("#modalAddBlock").modal("show")},selectSampleScript:function(t){var e={id:""+Math.random(),script:t,scriptParams:[]};if(null!=t.params)for(var a=0;a<t.params.length;a++){var n=t.params[a];e.scriptParams.push({name:n.name,type:n.type,value:n.defaultValue})}this.$parent.selectedVisualScript.blocks.push(e),this.$parent.editBlock(e),window.$("#modalAddBlock").modal("hide")},filterSampleScripts:function(){this.sampleScripts=Object(o["b"])(this.sampleScriptsFilter.type,this.sampleScriptsFilter.text),this.numFilteredSampleScripts=this.sampleScripts.length},clearSearch:function(){this.sampleScriptsFilter.type="",this.sampleScriptsFilter.text="",this.filterSampleScripts(),this.numFilteredSampleScripts=this.sampleScripts.length}}},Ss=Cs,_s=(a("87c1"),Object(_["a"])(Ss,ws,xs,!1,null,"0b03fb08",null)),ks=_s.exports,Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"divBlocks"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"true"==t.isRootLevel,expression:"isRootLevel=='true'"}],staticClass:"start"},[t._v("START")]),t._l(t.blocks,(function(e,n){return a("div",{key:e.id},[a("div",{staticClass:"arrowDown"},[a("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{fill:"white",stroke:"gray","stroke-width":"10","stroke-linecap":"round"}},[a("line",{attrs:{x1:"50",y1:"10",x2:"50",y2:"90"}}),a("line",{attrs:{x1:"20",y1:"60",x2:"50",y2:"90"}}),a("line",{attrs:{x1:"80",y1:"60",x2:"50",y2:"90"}})])])]),a("div",{staticClass:"action"},[a("div",{staticClass:"innerDiv"},[t._v(" "+t._s(e.script.name)+" ")]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.$parent.editBlock(e)}}},[t._v("Edit params")]),a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return t.$parent.executeBlock(e)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1),a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.$parent.deleteBlock(e)}}},[a("IconDelete",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveBlockUp(n)}}},[a("IconUp")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveBlockDown(n)}}},[a("IconDown")],1)])])])})),a("div",{staticClass:"arrowDown"},[a("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{fill:"white",stroke:"gray","stroke-width":"10","stroke-linecap":"round"}},[a("line",{attrs:{x1:"50",y1:"10",x2:"50",y2:"90"}}),a("line",{attrs:{x1:"20",y1:"60",x2:"50",y2:"90"}}),a("line",{attrs:{x1:"80",y1:"60",x2:"50",y2:"90"}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"==t.isRootLevel,expression:"isRootLevel=='true'"}],staticClass:"end"},[t._v("END")])],2)},$s=[],Es={name:"Blocks",components:{IconExecute:wa,IconUp:at,IconDown:lt,IconDelete:ys},props:{isRootLevel:String,blocks:Array},data:function(){return{}},mounted:function(){},methods:{}},Ls=Es,As=(a("4957"),Object(_["a"])(Ls,Ps,$s,!1,null,"4ff417a4",null)),Is=As.exports,Fs={name:"VisualScriptsTab",components:{IconBack:ds,IconExecute:wa,IconDelete:ys,IconHelp:Fa,ModalAddBlock:ks,Blocks:Is},props:{},data:function(){return{visualScripts:[],selectedVisualScript:null,clearLayerBeforeExecuting:!0}},methods:{createNewVisualScript:function(){var t=prompt("Script name",""),e={name:t,blocks:[],params:[]};this.visualScripts.push(e)},selectVisualScript:function(t){this.selectedVisualScript=t},unselectVisualScript:function(){this.selectedVisualScript=null},showModalAddBlock:function(){this.$refs.modalAddBlock.showModal()},editBlock:function(t){this.$parent.$refs.visualScriptBlockParamsPanel.selectBlock(t)},executeBlock:function(t){var e=this.convertArrayParamsToObject(t.scriptParams);this.$parent.executeSampleScript(t.script.name,e)},deleteBlock:function(t){for(var e=this.selectedVisualScript.blocks,a=0;a<e.length;a++)e[a].id==t.id&&e.splice(a,1)},deleteVisualScript:function(t){for(var e=this.visualScripts,a=0;a<e.length;a++)e[a].name==t.name&&e.splice(a,1)},moveBlockUp:function(t){t>0&&this.arrayMove(this.selectedVisualScript.blocks,t,t-1)},moveBlockDown:function(t){this.arrayMove(this.selectedVisualScript.blocks,t,t+1)},arrayMove:function(t,e,a){var n=t[e];t.splice(e,1),t.splice(a,0,n)},executeVisualScript:function(t){this.clearLayerBeforeExecuting&&this.$parent.clearCurrentLayer();for(var e=t.blocks,a=0;a<e.length;a++){var n=e[a];this.executeBlock(n)}},executeSelectedVisualScript:function(){this.executeVisualScript(this.selectedVisualScript)},convertArrayParamsToObject:function(t){var e={};if(null!=t)for(var a=0;a<t.length;a++){var n=t[a];"number"==n.type?e[n.name]=Number(n.value):e[n.name]=n.value}return e}}},Ts=Fs,Os=Object(_["a"])(Ts,ps,hs,!1,null,"ea4e2ce8",null),Ns=Os.exports,Ms={name:"Main",components:{MainMenu:A,IconExecute:wa,IconDonate:is["a"],IconBack:ds,IconHelp:Fa,ModalExport:Kn,ModalPasteImageFromClipboard:rr,ModalHelp:ur,ModalColorPicker:rs,ModalSetCanvasSize:on,ModalOpenProject:zn,VisualScriptsTab:Ns,ContextPanel:Y,LayersPanel:pt,EventsPanel:Me,ImagesPanel:Ye,FontsPanel:ta,GlobalVariablesPanel:sa,LogsPanel:pa,ScriptWithParamsPanel:Ma,ConfigureScriptPanel:Ya,VisualScriptBlockParamsPanel:tn,ToolsPanel:Ae},methods:{newBlankProject:function(t){if(this.canvasWidth=600,this.canvasHeight=400,this.canvasWidthCss=this.canvasWidth,this.canvasHeightCss=this.canvasHeight,this.canvasLayers=[],this.savedScripts=[],this.customEvents=[],this.$refs.visualScriptsTab.visualScripts=[],this.images=[],this.fonts=[],this.globalVariables={},t){var e="layer01";this.addLayerWithName(e),this.setCurrentLayer(e)}this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},saveProject:function(){var t=this;return s(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.serializeProject(t);case 2:a=e.sent,n=new Blob([a],{type:"text/plain;charset=utf-8"}),Object(u["saveAs"])(n,"MyProject.drawjs");case 5:case"end":return e.stop()}}),e)})))()},getToolClass:function(t){return this.currentTool==t?"btn btn-dark btn-sm":"btn btn-primary btn-sm"},loadFont:function(){this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var t=this.fontPanelForm.fontURL,e="url(".concat(t,")"),a=new FontFace(this.fontPanelForm.fontName,e),n=this;a.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t};n.fonts.push(e)}))},onFontUpload:function(t){var e=t.target.files[0],a=URL.createObjectURL(e),n="url(".concat(a,")");this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var r=new FontFace(this.fontPanelForm.fontName,n),i=this;r.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t,url:a};i.fonts.push(e)}))},setCurrentTool:function(t){this.currentTool=t,"pencil"==t?(window.ctx.lineWidth=3,window.ctx.filter="none"):"brush"==t&&(window.ctx.lineWidth=20,window.ctx.filter="blur(3px)"),this.updateCurrentContextDetails()},onCanvasMouseUp:function(t){this.isMouseDown=!1;var e=!1;"line"==this.currentTool?(this.drawLine(),e=!0):"rectangle"==this.currentTool?(this.drawRect(),e=!0):"circle"==this.currentTool?(this.drawCircle(),e=!0):"ellipse"==this.currentTool&&(this.drawEllipse(),e=!0);for(var a=0;a<this.customEvents.length;a++){var n=this.customEvents[a];"mouseUp"==n.type&&n.enabled&&(n.func(),e=!0)}e&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseDown:function(t){this.isMouseDown=!0,this.updateMouseDownPosition(t);var e=!1;if("pencil"==this.currentTool||"brush"==this.currentTool)this.paintBrush(),e=!0;else if("move"==this.currentTool){var a=window.ctx.canvas.width,n=window.ctx.canvas.height;this.mouseDownCanvas=document.createElement("canvas"),this.mouseDownCanvas.width=a,this.mouseDownCanvas.height=n;var r=this.mouseDownCanvas.getContext("2d");r.drawImage(window.ctx.canvas,0,0)}else if("bucketFill"==this.currentTool){var i=null;if(window.ctx.fillStyle.startsWith("#"))i=c.hexToRgb(window.ctx.fillStyle),i.a=255;else if(window.ctx.fillStyle.startsWith("rgba")){var s=window.ctx.fillStyle.substring(5);s=s.substring(0,s.length-1);var o=s.split(",");i={r:Number(o[0]),g:Number(o[1]),b:Number(o[2]),a:255*Number(o[3])}}null!=i&&c.floodFill(window.ctx,i,this.mousePosition.x,this.mousePosition.y)}for(var l=0;l<this.customEvents.length;l++){var u=this.customEvents[l];"mouseDown"==u.type&&u.enabled&&(u.func(),e=!0)}e&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseMove:function(t){if(this.updateMousePosition(t),this.isMouseDown)if("pencil"==this.currentTool||"brush"==this.currentTool)this.paintBrush();else if("move"==this.currentTool){var e=window.ctx.canvas.width,a=window.ctx.canvas.height,n=this.mousePosition.x-this.mouseDownPosition.x,r=this.mousePosition.y-this.mouseDownPosition.y,i=this.mouseDownCanvas.getContext("2d");window.ctx.save(),window.ctx.setTransform(1,0,0,1,0,0),window.ctx.clearRect(0,0,e,a),window.ctx.restore(),window.ctx.putImageData(i.getImageData(0,0,e,a),n,r)}else"eraser"==this.currentTool&&(window.ctx.save(),window.ctx.globalCompositeOperation="destination-out",window.ctx.lineWidth=20,window.ctx.filter="blur(3px)",this.paintBrush(),window.ctx.restore());for(var s=0;s<this.customEvents.length;s++){var o=this.customEvents[s];"mouseMove"==o.type&&o.enabled&&o.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()},drawLine:function(){var t=window.ctx;t.beginPath(),t.moveTo(this.mouseDownPosition.x,this.mouseDownPosition.y),t.lineTo(this.mousePosition.x,this.mousePosition.y),t.stroke()},drawRect:function(){var t=window.ctx;t.beginPath(),t.rect(this.mouseDownPosition.x,this.mouseDownPosition.y,this.mousePosition.x-this.mouseDownPosition.x,this.mousePosition.y-this.mouseDownPosition.y),t.stroke()},drawCircle:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x),n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y),r=Math.min(a,n)/2,i=window.ctx;i.beginPath(),i.arc(t,e,r,0,2*Math.PI),i.stroke()},drawEllipse:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x)/2,n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y)/2,r=0,i=0,s=2*Math.PI,o=!1,l=window.ctx;l.beginPath(),l.ellipse(t,e,a,n,r,i,s,o),l.stroke()},paintBrush:function(){ctx.save(),ctx.beginPath(),ctx.lineCap="round",ctx.moveTo(this.previousMousePosition.x,this.previousMousePosition.y),ctx.lineTo(this.mousePosition.x,this.mousePosition.y),ctx.stroke(),ctx.restore()},updateMousePosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer")),this.previousMousePosition.x=this.mousePosition.x,this.previousMousePosition.y=this.mousePosition.y,this.mousePosition.x=t.clientX-e.offsetLeft,this.mousePosition.y=t.clientY-e.offsetTop;var a=this.canvasWidthCss/this.canvasWidth,n=e.getBoundingClientRect();this.mousePosition.x=Math.round((t.clientX-n.left)/a),this.mousePosition.y=Math.round((t.clientY-n.top)/a)},updateMouseDownPosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer"));var a=this.canvasWidthCss/this.canvasWidth,n=e.getBoundingClientRect();this.mouseDownPosition.x=Math.round((t.clientX-n.left)/a),this.mouseDownPosition.y=Math.round((t.clientY-n.top)/a)},editGlobalVariable:function(t){var e=prompt("New value",""),a=prompt("New type","number");"number"==a&&(e=Number(e)),this.globalVariables[t]=e,this.$refs.globalVariablesPanel.$forceUpdate()},deleteGlobalVariable:function(t){delete this.globalVariables[t],this.$refs.globalVariablesPanel.$forceUpdate()},popupAddGlobalVariable:function(){var t=prompt("Variable name",""),e=prompt("Type","number"),a=prompt("Value","");"number"==e&&(a=Number(a)),this.addGlobalVariable(t,a),this.$forceUpdate()},addGlobalVariable:function(t,e){this.globalVariables[t]=e,this.$refs.globalVariablesPanel.$forceUpdate()},combineLayers:function(t,e){for(var a=this.getLayerByName(t),n=a.canvas.getContext("2d"),r=n.getImageData(0,0,this.canvasWidth,this.canvasHeight),i=this.getLayerByName(e),s=i.canvas.getContext("2d"),o=s.getImageData(0,0,this.canvasWidth,this.canvasHeight),l=0;l<r.data.length;l+=4)r.data[l+3]=r.data[l+3]*(o.data[l+3]/255);n.putImageData(r,0,0)},updateCanvasAllLayers:function(){var t=document.getElementById("canvasAllLayers").getContext("2d");t.save(),t.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawTiledBackground(t),this.drawAllLayers(t),t.restore()},updateCurrentLayerCanvas:function(){if(null!=this.currentLayer){var t=document.getElementById("canvasCurrentLayer").getContext("2d");this.drawTiledBackground(t),t.save(),t.globalAlpha=this.currentLayer.alpha,t.drawImage(this.currentLayer.canvas,0,0),t.restore()}},clearCurrentLayer:function(){ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},clearFilters:function(){ctx.filter="none",this.updateCurrentContextDetails()},saveContext:function(){ctx.save()},restoreContext:function(){ctx.restore(),this.updateCurrentContextDetails()},clip:function(){ctx.clip()},resetTransform:function(){ctx.setTransform(1,0,0,1,0,0),this.updateCurrentContextDetails()},resetContextAttribute:function(t){var e=window.ctx;"fillStyle"==t?e.fillStyle="#000000":"strokeStyle"==t?e.strokeStyle="#000000":"font"==t?e.font="10px sans-serif":"globalAlpha"==t?e.globalAlpha="1":"lineWidth"==t?e.lineWidth="1":"lineCap"==t?e.lineCap="butt":"lineJoin"==t?e.lineJoin="miter":"filter"==t?e.filter="none":"shadowBlur"==t?e.shadowBlur="0":"shadowColor"==t?e.shadowColor="rgba(0, 0, 0, 0)":"shadowOffsetX"==t?e.shadowOffsetX="0":"shadowOffsetY"==t?e.shadowOffsetY="0":"lineDashOffset"==t?e.lineDashOffset=0:"textAlign"==t?e.textAlign="start":"miterLimit"==t?e.miterLimit=10:"textBaseline"==t?e.textBaseline="alphabetic":"globalCompositeOperation"==t?e.globalCompositeOperation="source-over":"lineDash"==t&&e.setLineDash([]),this.updateCurrentContextDetails()},buildBackgroundCanvas:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");e.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var a=!0,n=!0,r=10,i=0;i<this.canvasWidth;i+=r){n=a;for(var s=0;s<this.canvasHeight;s+=r)e.fillStyle=n?"#cccccc":"#eeeeee",e.fillRect(i,s,r,r),n=!n;a=!a}return t},addLayerWithName:function(t){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight,e.getContext("2d").clearRect(0,0,this.canvasWidth,this.canvasHeight);var a={name:t,alpha:1,canvas:e,visible:!0};this.canvasLayers.push(a)},duplicateCurrentLayer:function(){this.duplicateLayer(this.currentLayer)},duplicateLayer:function(t,e){null==e&&(e=prompt("New layer name","")),"string"==typeof t&&(t=this.getLayerByName(t));var a=document.createElement("canvas");a.width=this.canvasWidth,a.height=this.canvasHeight;var n=a.getContext("2d");n.drawImage(t.canvas,0,0);var r={name:e,alpha:t.alpha,canvas:a,visible:t.visible};this.canvasLayers.push(r)},deleteCurrentLayer:function(){this.deleteLayer(this.currentLayer)},deleteLayerByName:function(t){this.deleteLayer(this.getLayerByName(t))},deleteLayer:function(t){var e=this.getLayerIndex(t);this.canvasLayers.splice(e,1),t==this.currentLayer&&this.canvasLayers.length>0&&this.setCurrentLayer(this.canvasLayers[0].name),this.updateCanvasAllLayers()},deleteCustomEvent:function(t){var e=this.getCustomEventIndex(t);this.customEvents.splice(e,1)},renderLayerToContext:function(t,e){e.save(),e.globalAlpha=t.alpha,e.drawImage(t.canvas,0,0),e.restore()},setCurrentLayer:function(t){var e=this.getLayerByName(t);null!=e&&(this.currentLayer=e,window.ctx=e.canvas.getContext("2d"),this.updateCurrentContextDetails()),this.updateCurrentLayerCanvas()},getImageByName:function(t){for(var e=0;e<this.images.length;e++){var a=this.images[e];if(a.name==t)return a}return null},getLayerByName:function(t){for(var e=0;e<this.canvasLayers.length;e++){var a=this.canvasLayers[e];if(a.name==t)return a}return null},getCurrentLayerIndex:function(){for(var t=0;t<this.canvasLayers.length;t++){var e=this.canvasLayers[t];if(e==this.currentLayer)return t}return null},getLayerIndex:function(t){for(var e=0;e<this.canvasLayers.length;e++){var a=this.canvasLayers[e];if(a==t)return e}return null},getCustomEventIndex:function(t){for(var e=0;e<this.customEvents.length;e++){var a=this.customEvents[e];if(a.name==t.name)return e}return null},getCurrentLayer:function(){return this.currentLayer},getCurrentCanvas:function(){return this.getCurrentLayer().canvas},getCurrentContext:function(){return this.getCurrentCanvas().getContext("2d")},updateCurrentContextDetails:function(){var t=null;null!=this.currentLayer&&(t=this.currentLayer.canvas,this.ctx.fillStyle=t.getContext("2d").fillStyle,this.ctx.strokeStyle=t.getContext("2d").strokeStyle,this.ctx.lineWidth=t.getContext("2d").lineWidth,this.ctx.lineCap=t.getContext("2d").lineCap,this.ctx.lineJoin=t.getContext("2d").lineJoin,this.ctx.miterLimit=t.getContext("2d").miterLimit,this.ctx.font=t.getContext("2d").font,this.ctx.textAlign=t.getContext("2d").textAlign,this.ctx.globalAlpha=t.getContext("2d").globalAlpha,this.ctx.globalCompositeOperation=t.getContext("2d").globalCompositeOperation,this.ctx.transform=t.getContext("2d").getTransform(),this.ctx.lineDash=t.getContext("2d").getLineDash(),this.ctx.filter=t.getContext("2d").filter,this.ctx.shadowBlur=t.getContext("2d").shadowBlur,this.ctx.shadowColor=t.getContext("2d").shadowColor,this.ctx.shadowOffsetX=t.getContext("2d").shadowOffsetX,this.ctx.shadowOffsetY=t.getContext("2d").shadowOffsetY,this.ctx.lineDashOffset=t.getContext("2d").lineDashOffset,this.ctx.textBaseline=t.getContext("2d").textBaseline)},configScript:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t){var a=this.savedScripts[e];this.$refs.configureScriptPanel.setCurrentScript(a),this.visiblePanels["configureScript"]=!0}},executeSavedScript:function(t,e){for(var a=0;a<this.savedScripts.length;a++)if(this.savedScripts[a].name==t){null==e&&(e={});var n=this.savedScripts[a].func(e);return this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),n}},executeEditedSampleScript:function(){var t=this.editedSampleScript,e=new Function("params",t),a={};e(a),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScript:function(t,e){for(var a=0;a<this.allSampleScripts.length;a++)this.allSampleScripts[a].name==t&&(null==e&&(e={}),this.allSampleScripts[a].func(e));this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScriptWithParams:function(){this.clearLayerBeforeExecutingScriptWithParams&&this.clearCurrentLayer();var t={};if(null!=this.selectedSampleScriptWithParams.params)for(var e=0;e<this.selectedSampleScriptWithParams.params.length;e++){var a=this.selectedSampleScriptWithParams.params[e];null==a.value?t[a.name]=a.defaultValue:"number"==a.type?t[a.name]=Number(a.value):t[a.name]=a.value}this.selectedSampleScriptWithParams.func(t),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},onSampleScriptParamChange:function(){this.executeScriptsWithParamsOnChange&&this.executeSampleScriptWithParams()},deleteSavedScript:function(t){for(var e=0;e<this.savedScripts.length;e++)this.savedScripts[e].name==t&&this.savedScripts.splice(e,1)},loadSavedScript:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t)return document.getElementById("sourceCode").value=this.savedScripts[e].source,this.currentScriptName=t,this.currentScript=this.savedScripts[e],this.currentScriptType="SAVED_SCRIPT",void(this.showScriptEditor=!0)},loadSampleScript:function(t){for(var e=0;e<this.allSampleScripts.length;e++)this.allSampleScripts[e].name==t&&(this.currentScriptName=this.allSampleScripts[e].name,this.currentScript=this.allSampleScripts[e],this.currentScriptType="SAMPLE_SCRIPT",document.getElementById("sourceCode").value=this.allSampleScripts[e].source,this.showScriptEditor=!0)},selectSampleScript:function(t){for(var e=0;e<this.sampleScripts.length;e++)this.sampleScripts[e].name==t&&(this.selectedSampleScript=this.sampleScripts[e],this.editedSampleScript=this.selectedSampleScript.source)},selectSampleScriptWithParams:function(t){for(var e=0;e<this.allSampleScripts.length;e++)if(this.allSampleScripts[e].name==t&&(this.selectedSampleScriptWithParams=this.allSampleScripts[e],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},selectSavedScriptWithParams:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t&&(this.selectedSampleScriptWithParams=this.savedScripts[e],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},unselectSampleScript:function(){this.selectedSampleScript=null},unselectSampleScriptWithParams:function(){this.selectedSampleScriptWithParams=null},copySampleSourceCode:function(){var t=document.createRange();t.selectNode(document.getElementById("selectedSampleScriptSourceCode")),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()},executeScript:function(){var t=document.getElementById("sourceCode").value;this.dinamicFunction=new Function("params",t);var e={};this.dinamicFunction(e),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},createNewScript:function(){var t=prompt("Script name",""),e="",a={name:t,func:new Function("params",e),source:e,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a)},saveSampleScriptAs:function(){var t=this.newScriptName,e=this.editedSampleScript,a={name:t,func:new Function("params",e),source:e,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a),window.$("#modalSaveSampleScriptAs").modal("hide")},newScript:function(){this.currentScriptName=null,this.currentScript=null,this.currentScriptType=null,document.getElementById("sourceCode").value=""},saveScriptAs:function(){this.currentScriptName=prompt("Script name","");var t=document.getElementById("sourceCode").value;this.currentScript={name:this.currentScriptName,func:new Function("params",t),source:t,type:"SAVED_SCRIPT",params:[]},this.currentScriptType="SAVED_SCRIPT",this.savedScripts.push(this.currentScript)},saveScript:function(){if(null!=this.currentScriptName&&""!=this.currentScriptName&&null!=this.currentScript&&"SAMPLE_SCRIPT"!=this.currentScriptType){var t=document.getElementById("sourceCode").value;this.currentScript.source=t,this.currentScript.func=new Function("params",t)}else this.saveScriptAs()},moveLayerUp:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t-1),this.updateCanvasAllLayers()},moveLayerDown:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t+1),this.updateCanvasAllLayers()},arrayMove:function(t,e,a){var n=t[e];t.splice(e,1),t.splice(a,0,n)},saveScriptsToLocalStorage:function(){localStorage.savedScripts=JSON.stringify(this.savedScripts)},loadScriptsFromLocalStorage:function(){this.savedScripts=JSON.parse(localStorage.savedScripts);for(var t=0;t<this.savedScripts.length;t++){var e=this.savedScripts[t];e.func=new Function("params",e.source)}},filterSampleScripts:function(){this.sampleScripts=Object(o["b"])(this.sampleScriptsFilter.type,this.sampleScriptsFilter.text),this.numFilteredSampleScripts=this.sampleScripts.length},clearSearch:function(){this.sampleScriptsFilter.type="",this.sampleScriptsFilter.text="",this.filterSampleScripts(),this.numFilteredSampleScripts=this.sampleScripts.length},resetContext:function(){ctx.fillStyle="#000000",ctx.strokeStyle="#000000",ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.font="10px sans-serif",ctx.textAlign="start",ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.filter="none",ctx.shadowBlur=0,ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineDashOffset=0,ctx.textBaseline="alphabetic",ctx.setTransform(1,0,0,1,0,0),ctx.setLineDash([]),this.updateCurrentContextDetails()},fillScreenWhite:function(){this.executeSampleScript("Fill screen white")},fillScreenBlack:function(){this.executeSampleScript("Fill screen black")},repaintCurrentLayer:function(){this.executeSampleScript("Repaint")},togglePanelVisibility:function(t){this.visiblePanels[t]=!this.visiblePanels[t]},log:function(t){this.logs.push(t)},clearLogs:function(){this.logs=[]},drawImageToCurrentLayer:function(t){var e=new Image;e.src=t,ctx.drawImage(e,0,0),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},exportCanvas:function(){"FULL_CANVAS"==this.exportConfigForm.type?this.exportCanvasAllLayers():"CROP"==this.exportConfigForm.type?this.exportCanvasAllLayersCropped():"CROP_AT"==this.exportConfigForm.type&&this.exportCanvasAllLayersCroppedAt()},exportCanvasAllLayers:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");this.drawAllLayers(e),t.toBlob((function(t){Object(u["saveAs"])(t,"Image.png")}))},exportCanvasAllLayersCropped:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");this.drawAllLayers(e);var a=c.crop(t);a.toBlob((function(t){Object(u["saveAs"])(t,"Image.png")}))},exportCanvasAllLayersCroppedAt:function(){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext("2d");this.drawAllLayers(e);var a=c.cropAt(t,this.exportConfigForm.cropStartX,this.exportConfigForm.cropStartY,this.exportConfigForm.cropEndX,this.exportConfigForm.cropEndY);a.toBlob((function(t){Object(u["saveAs"])(t,"Image.png")}))},drawAllLayers:function(t){for(var e=this.canvasLayers.length-1;e>=0;e--){var a=this.canvasLayers[e];a.visible&&(t.save(),t.globalAlpha=a.alpha,t.drawImage(a.canvas,0,0),t.restore())}},drawTiledBackground:function(t){t.save(),t.globalAlpha=1,t.drawImage(this.backgroundCanvas,0,0),t.restore()},loop:function(){for(var t=0;t<this.customEvents.length;t++){var e=this.customEvents[t];"animationFrame"==e.type&&e.enabled&&e.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas(),window.requestAnimationFrame(this.loop)},setCanvasSize:function(t,e){var a=window.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight);this.canvasWidth=t,this.canvasHeight=e,this.currentLayer.canvas.width=t,this.currentLayer.canvas.height=e,this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.backgroundCanvas=this.buildBackgroundCanvas(),window.ctx=this.currentLayer.canvas.getContext("2d"),this.updateCurrentContextDetails(),window.ctx.putImageData(a,0,0)},showExportModal:function(){window.$("#modalExport").modal("show")},showModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("show")},closeModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("hide")},showModalHelp:function(){window.$("#modalHelp").modal("show")},showModalSetCanvasSize:function(){window.$("#modalSetCanvasSize").modal("show"),this.$refs.modalSetCanvasSize.form.canvasWidth=this.canvasWidth,this.$refs.modalSetCanvasSize.form.canvasHeight=this.canvasHeight},showModalOpenProject:function(){window.$("#modalOpenProject").modal("show")},showModalSaveSampleScriptAs:function(){this.newScriptName="",window.$("#modalSaveSampleScriptAs").modal("show")},pasteClipboardImage:function(t){c.pasteClipboardImage(t),this.closeModalPasteImageFromClipboard()},openColorPicker:function(t){window.$("#modalColorPicker").modal("show"),this.$refs.modalColorPicker.target=t,"fillStyle"==t?this.$refs.modalColorPicker.setCurrentColor(this.ctx.fillStyle):"strokeStyle"==t&&this.$refs.modalColorPicker.setCurrentColor(this.ctx.strokeStyle)},zoomIn:function(){this.canvasWidthCss*=2},zoomOut:function(){this.canvasWidthCss/=2},resetZoom:function(){this.canvasWidthCss=this.canvasWidth}},data:function(){return{tempCanvas:null,mouseDownCanvas:null,canvasWidth:600,canvasHeight:400,canvasWidthCss:600,canvasHeightCss:400,canvasZoom:100,currentScriptName:null,currentScript:null,currentScriptType:null,newScriptName:"",dinamicFunction:new Function("params",""),savedScripts:[],sampleScripts:[],allSampleScripts:[],numSampleScripts:null,numFilteredSampleScripts:null,selectedSampleScript:null,selectedSampleScriptWithParams:null,editedSampleScript:"",canvasLayers:[],backgroundCanvas:null,globalVariables:{},viewType:"MAIN_CANVAS",currentLayer:null,ctx:{fillStyle:null,strokeStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,font:null,textAlign:null,globalAlpha:null,globalCompositeOperation:null,transform:null},sampleScriptsFilter:{type:"",text:""},sampleScriptTypes:[],images:[],fonts:[],visiblePanels:{tools:!0,layers:!0,context:!1,images:!1,globalVariables:!1,fonts:!1,logs:!1,events:!1,scriptWithParams:!0,configureScript:!1,visualScriptBlockParams:!1},logs:[],mousePosition:{x:0,y:0},previousMousePosition:{x:0,y:0},mouseDownPosition:{x:0,y:0},isMouseDown:!1,currentTool:"pencil",customEvents:[],fontPanelForm:{fontName:"",fontURL:""},exportConfigForm:{type:"FULL_CANVAS",cropStartX:0,cropStartY:0,cropEndX:this.canvasWidth,cropEndY:this.canvasHeight},clearLayerBeforeExecutingScriptWithParams:!1,executeScriptsWithParamsOnChange:!1,showScriptEditor:!0,isVisualScriptsTabSelected:!1}},mounted:function(){window.app=this,window.$util=c,window.$perlinNoise=p,this.allSampleScripts=Object(o["b"])(),this.sampleScripts=Object(o["b"])(),this.sampleScriptTypes=Object(o["a"])(),this.numSampleScripts=this.allSampleScripts.length,this.numFilteredSampleScripts=this.allSampleScripts.length,this.backgroundCanvas=this.buildBackgroundCanvas();var t="layer01";this.addLayerWithName(t),this.setCurrentLayer(t),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),document.getElementById("canvasAllLayers").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasAllLayers").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasAllLayers").addEventListener("mousedown",this.onCanvasMouseDown),document.getElementById("canvasCurrentLayer").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasCurrentLayer").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasCurrentLayer").addEventListener("mousedown",this.onCanvasMouseDown),window.requestAnimationFrame(this.loop),document.addEventListener("paste",this.pasteClipboardImage,!1)}},Rs=Ms,Bs=(a("22de"),Object(_["a"])(Rs,n,r,!1,null,null,null));e["default"]=Bs.exports},d784:function(t,e,a){"use strict";a("ac1f");var n=a("6eeb"),r=a("d039"),i=a("b622"),s=a("9112"),o=i("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,u){var h=i(t),m=!r((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=m&&!r((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[h]=/./[h]),a.exec=function(){return e=!0,null},a[h](""),!e}));if(!m||!v||"replace"===t&&(!l||!c||d)||"split"===t&&!p){var f=/./[h],g=a(h,""[t],(function(t,e,a,n,r){return e.exec===RegExp.prototype.exec?m&&!r?{done:!0,value:f.call(e,a,n)}:{done:!0,value:t.call(a,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=g[0],y=g[1];n(String.prototype,t,b),n(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}u&&s(RegExp.prototype[h],"sham",!0)}},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),s=i("map");n({target:"Array",proto:!0,forced:!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e9c4:function(t,e,a){var n=a("23e7"),r=a("d066"),i=a("d039"),s=r("JSON","stringify"),o=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(t,e,a){var n=a.charAt(e-1),r=a.charAt(e+1);return l.test(t)&&!c.test(r)||c.test(t)&&!l.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},d=i((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&n({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,a){var n=s.apply(null,arguments);return"string"==typeof n?n.replace(o,u):n}})},fb07:function(t,e,a){}}]);