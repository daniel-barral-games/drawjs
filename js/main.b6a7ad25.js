(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"0cb2":function(t,e,n){var a=n("7b0b"),r=Math.floor,i="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,l,c,u){var p=n+t.length,d=l.length,m=s;return void 0!==c&&(c=a(c),m=o),i.call(u,m,(function(a,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(p);case"<":o=c[i.slice(1,-1)];break;default:var s=+i;if(0===s)return a;if(s>d){var u=r(s/10);return 0===u?a:u<=d?void 0===l[u-1]?i.charAt(1):l[u-1]+i.charAt(1):a}o=l[s-1]}return void 0===o?"":o}))}},"0cb9":function(t,e,n){},"0d3b":function(t,e,n){var a=n("d039"),r=n("b622"),i=n("c430"),o=r("iterator");t.exports=!a((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,a){e["delete"]("b"),n+=a+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1276:function(t,e,n){"use strict";var a=n("d784"),r=n("44e7"),i=n("825a"),o=n("1d80"),s=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),p=n("9263"),d=n("9f7f"),m=d.UNSUPPORTED_Y,h=[].push,f=Math.min,v=4294967295;a("split",2,(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=String(o(this)),i=void 0===n?v:n>>>0;if(0===i)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,i);var s,l,c,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,f=new RegExp(t.source,d+"g");while(s=p.call(f,a)){if(l=f.lastIndex,l>m&&(u.push(a.slice(m,s.index)),s.length>1&&s.index<a.length&&h.apply(u,s.slice(1)),c=s[0].length,m=l,u.length>=i))break;f.lastIndex===s.index&&f.lastIndex++}return m===a.length?!c&&f.test("")||u.push(""):u.push(a.slice(m)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r,n):a.call(String(r),e,n)},function(t,r){var o=n(a,t,this,r,a!==e);if(o.done)return o.value;var p=i(t),d=String(this),h=s(p,RegExp),x=p.unicode,g=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(m?"g":"y"),y=new h(m?"^(?:"+p.source+")":p,g),w=void 0===r?v:r>>>0;if(0===w)return[];if(0===d.length)return null===u(y,d)?[d]:[];var b=0,C=0,_=[];while(C<d.length){y.lastIndex=m?0:C;var S,L=u(y,m?d.slice(C):d);if(null===L||(S=f(c(y.lastIndex+(m?C:0)),d.length))===b)C=l(d,C,x);else{if(_.push(d.slice(b,C)),_.length===w)return _;for(var F=1;F<=L.length-1;F++)if(_.push(L[F]),_.length===w)return _;C=b=S}}return _.push(d.slice(b)),_}]}),m)},"14c3":function(t,e,n){var a=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),i=n("2d00"),o=r("species");t.exports=function(t){return i>=51||!a((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"22de":function(t,e,n){"use strict";n("8319")},2532:function(t,e,n){"use strict";var a=n("23e7"),r=n("5a34"),i=n("1d80"),o=n("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),r=n("825a"),i=n("d039"),o=n("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=c.name!=s;(u||p)&&a(RegExp.prototype,s,(function(){var t=r(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in l)?o.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},"2b3d":function(t,e,n){"use strict";n("3ca3");var a,r=n("23e7"),i=n("83ab"),o=n("0d3b"),s=n("da84"),l=n("37e8"),c=n("6eeb"),u=n("19aa"),p=n("5135"),d=n("60da"),m=n("4df4"),h=n("6547").codeAt,f=n("5fb2"),v=n("d44e"),x=n("9861"),g=n("69f3"),y=s.URL,w=x.URLSearchParams,b=x.getState,C=g.set,_=g.getterFor("URL"),S=Math.floor,L=Math.pow,F="Invalid authority",A="Invalid scheme",I="Invalid host",E="Invalid port",k=/[A-Za-z]/,N=/[\d+-.A-Za-z]/,D=/\d/,P=/^(0x|0X)/,$=/^[0-7]+$/,B=/^\d+$/,R=/^[\dA-Fa-f]+$/,M=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,O=/[\u0000\t\u000A\u000D #/:?@[\\]]/,T=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\t\u000A\u000D]/g,G=function(t,e){var n,a,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return I;if(n=W(e.slice(1,-1)),!n)return I;t.host=n}else if(Q(t)){if(e=f(e),M.test(e))return I;if(n=X(e),null===n)return I;t.host=n}else{if(O.test(e))return I;for(n="",a=m(e),r=0;r<a.length;r++)n+=J(a[r],V);t.host=n}},X=function(t){var e,n,a,r,i,o,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),e=l.length,e>4)return t;for(n=[],a=0;a<e;a++){if(r=l[a],""==r)return t;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=P.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)o=0;else{if(!(10==i?B:8==i?$:R).test(r))return t;o=parseInt(r,i)}n.push(o)}for(a=0;a<e;a++)if(o=n[a],a==e-1){if(o>=L(256,5-e))return null}else if(o>255)return null;for(s=n.pop(),a=0;a<n.length;a++)s+=n[a]*L(256,3-a);return s},W=function(t){var e,n,a,r,i,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,p=0,d=function(){return t.charAt(p)};if(":"==d()){if(":"!=t.charAt(1))return;p+=2,c++,u=c}while(d()){if(8==c)return;if(":"!=d()){e=n=0;while(n<4&&R.test(d()))e=16*e+parseInt(d(),16),p++,n++;if("."==d()){if(0==n)return;if(p-=n,c>6)return;a=0;while(d()){if(r=null,a>0){if(!("."==d()&&a<4))return;p++}if(!D.test(d()))return;while(D.test(d())){if(i=parseInt(d(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;p++}l[c]=256*l[c]+r,a++,2!=a&&4!=a||c++}if(4!=a)return;break}if(":"==d()){if(p++,!d())return}else if(d())return;l[c++]=e}else{if(null!==u)return;p++,c++,u=c}}if(null!==u){o=c-u,c=7;while(0!=c&&o>0)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s}else if(8!=c)return;return l},Y=function(t){for(var e=null,n=1,a=null,r=0,i=0;i<8;i++)0!==t[i]?(r>n&&(e=a,n=r),a=null,r=0):(null===a&&(a=i),++r);return r>n&&(e=a,n=r),e},z=function(t){var e,n,a,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",a=Y(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),a===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},V={},j=d({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),H=d({},j,{"#":1,"?":1,"{":1,"}":1}),q=d({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(t,e){var n=h(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(t){return p(K,t.scheme)},Z=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var n;return 2==t.length&&k.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},nt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},at=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&et(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},it=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},ot={},st={},lt={},ct={},ut={},pt={},dt={},mt={},ht={},ft={},vt={},xt={},gt={},yt={},wt={},bt={},Ct={},_t={},St={},Lt={},Ft={},At=function(t,e,n,r){var i,o,s,l,c=n||ot,u=0,d="",h=!1,f=!1,v=!1;n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(T,"")),e=e.replace(U,""),i=m(e);while(u<=i.length){switch(o=i[u],c){case ot:if(!o||!k.test(o)){if(n)return A;c=lt;continue}d+=o.toLowerCase(),c=st;break;case st:if(o&&(N.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return A;d="",c=lt,u=0;continue}if(n&&(Q(t)!=p(K,d)||"file"==d&&(Z(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(Q(t)&&K[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?c=yt:Q(t)&&r&&r.scheme==t.scheme?c=ct:Q(t)?c=mt:"/"==i[u+1]?(c=ut,u++):(t.cannotBeABaseURL=!0,t.path.push(""),c=St)}break;case lt:if(!r||r.cannotBeABaseURL&&"#"!=o)return A;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=Ft;break}c="file"==r.scheme?yt:pt;continue;case ct:if("/"!=o||"/"!=i[u+1]){c=pt;continue}c=ht,u++;break;case ut:if("/"==o){c=ft;break}c=_t;continue;case pt:if(t.scheme=r.scheme,o==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&Q(t))c=dt;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=Lt;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=_t;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=Ft}break;case dt:if(!Q(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=_t;continue}c=ft}else c=ht;break;case mt:if(c=ht,"/"!=o||"/"!=d.charAt(u+1))continue;u++;break;case ht:if("/"!=o&&"\\"!=o){c=ft;continue}break;case ft:if("@"==o){h&&(d="%40"+d),h=!0,s=m(d);for(var x=0;x<s.length;x++){var g=s[x];if(":"!=g||v){var y=J(g,q);v?t.password+=y:t.username+=y}else v=!0}d=""}else if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(t)){if(h&&""==d)return F;u-=m(d).length+1,d="",c=vt}else d+=o;break;case vt:case xt:if(n&&"file"==t.scheme){c=bt;continue}if(":"!=o||f){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(t)){if(Q(t)&&""==d)return I;if(n&&""==d&&(Z(t)||null!==t.port))return;if(l=G(t,d),l)return l;if(d="",c=Ct,n)return;continue}"["==o?f=!0:"]"==o&&(f=!1),d+=o}else{if(""==d)return I;if(l=G(t,d),l)return l;if(d="",c=gt,n==xt)return}break;case gt:if(!D.test(o)){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(t)||n){if(""!=d){var w=parseInt(d,10);if(w>65535)return E;t.port=Q(t)&&w===K[t.scheme]?null:w,d=""}if(n)return;c=Ct;continue}return E}d+=o;break;case yt:if(t.scheme="file","/"==o||"\\"==o)c=wt;else{if(!r||"file"!=r.scheme){c=_t;continue}if(o==a)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",c=Lt;else{if("#"!=o){nt(i.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),at(t)),c=_t;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=Ft}}break;case wt:if("/"==o||"\\"==o){c=bt;break}r&&"file"==r.scheme&&!nt(i.slice(u).join(""))&&(et(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=_t;continue;case bt:if(o==a||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&et(d))c=_t;else if(""==d){if(t.host="",n)return;c=Ct}else{if(l=G(t,d),l)return l;if("localhost"==t.host&&(t.host=""),n)return;d="",c=Ct}continue}d+=o;break;case Ct:if(Q(t)){if(c=_t,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=a&&(c=_t,"/"!=o))continue}else t.fragment="",c=Ft;else t.query="",c=Lt;break;case _t:if(o==a||"/"==o||"\\"==o&&Q(t)||!n&&("?"==o||"#"==o)){if(it(d)?(at(t),"/"==o||"\\"==o&&Q(t)||t.path.push("")):rt(d)?"/"==o||"\\"==o&&Q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(o==a||"?"==o||"#"==o))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==o?(t.query="",c=Lt):"#"==o&&(t.fragment="",c=Ft)}else d+=J(o,H);break;case St:"?"==o?(t.query="",c=Lt):"#"==o?(t.fragment="",c=Ft):o!=a&&(t.path[0]+=J(o,V));break;case Lt:n||"#"!=o?o!=a&&("'"==o&&Q(t)?t.query+="%27":t.query+="#"==o?"%23":J(o,V)):(t.fragment="",c=Ft);break;case Ft:o!=a&&(t.fragment+=J(o,j));break}u++}},It=function(t){var e,n,a=u(this,It,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(t),s=C(a,{type:"URL"});if(void 0!==r)if(r instanceof It)e=_(r);else if(n=At(e={},String(r)),n)throw TypeError(n);if(n=At(s,o,null,e),n)throw TypeError(n);var l=s.searchParams=new w,c=b(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},i||(a.href=kt.call(a),a.origin=Nt.call(a),a.protocol=Dt.call(a),a.username=Pt.call(a),a.password=$t.call(a),a.host=Bt.call(a),a.hostname=Rt.call(a),a.port=Mt.call(a),a.pathname=Ot.call(a),a.search=Tt.call(a),a.searchParams=Ut.call(a),a.hash=Gt.call(a))},Et=It.prototype,kt=function(){var t=_(this),e=t.scheme,n=t.username,a=t.password,r=t.host,i=t.port,o=t.path,s=t.query,l=t.fragment,c=e+":";return null!==r?(c+="//",Z(t)&&(c+=n+(a?":"+a:"")+"@"),c+=z(r),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Nt=function(){var t=_(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(a){return"null"}return"file"!=e&&Q(t)?e+"://"+z(t.host)+(null!==n?":"+n:""):"null"},Dt=function(){return _(this).scheme+":"},Pt=function(){return _(this).username},$t=function(){return _(this).password},Bt=function(){var t=_(this),e=t.host,n=t.port;return null===e?"":null===n?z(e):z(e)+":"+n},Rt=function(){var t=_(this).host;return null===t?"":z(t)},Mt=function(){var t=_(this).port;return null===t?"":String(t)},Ot=function(){var t=_(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Tt=function(){var t=_(this).query;return t?"?"+t:""},Ut=function(){return _(this).searchParams},Gt=function(){var t=_(this).fragment;return t?"#"+t:""},Xt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&l(Et,{href:Xt(kt,(function(t){var e=_(this),n=String(t),a=At(e,n);if(a)throw TypeError(a);b(e.searchParams).updateSearchParams(e.query)})),origin:Xt(Nt),protocol:Xt(Dt,(function(t){var e=_(this);At(e,String(t)+":",ot)})),username:Xt(Pt,(function(t){var e=_(this),n=m(String(t));if(!tt(e)){e.username="";for(var a=0;a<n.length;a++)e.username+=J(n[a],q)}})),password:Xt($t,(function(t){var e=_(this),n=m(String(t));if(!tt(e)){e.password="";for(var a=0;a<n.length;a++)e.password+=J(n[a],q)}})),host:Xt(Bt,(function(t){var e=_(this);e.cannotBeABaseURL||At(e,String(t),vt)})),hostname:Xt(Rt,(function(t){var e=_(this);e.cannotBeABaseURL||At(e,String(t),xt)})),port:Xt(Mt,(function(t){var e=_(this);tt(e)||(t=String(t),""==t?e.port=null:At(e,t,gt))})),pathname:Xt(Ot,(function(t){var e=_(this);e.cannotBeABaseURL||(e.path=[],At(e,t+"",Ct))})),search:Xt(Tt,(function(t){var e=_(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",At(e,t,Lt)),b(e.searchParams).updateSearchParams(e.query)})),searchParams:Xt(Ut),hash:Xt(Gt,(function(t){var e=_(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",At(e,t,Ft)):e.fragment=null}))}),c(Et,"toJSON",(function(){return kt.call(this)}),{enumerable:!0}),c(Et,"toString",(function(){return kt.call(this)}),{enumerable:!0}),y){var Wt=y.createObjectURL,Yt=y.revokeObjectURL;Wt&&c(It,"createObjectURL",(function(t){return Wt.apply(y,arguments)})),Yt&&c(It,"revokeObjectURL",(function(t){return Yt.apply(y,arguments)}))}v(It,"URL"),r({global:!0,forced:!o,sham:!i},{URL:It})},"2d4e":function(t,e,n){},"44e7":function(t,e,n){var a=n("861d"),r=n("c6b6"),i=n("b622"),o=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"466d":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("50c4"),o=n("1d80"),s=n("8aa5"),l=n("14c3");a("match",1,(function(t,e,n){return[function(e){var n=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var o=r(t),c=String(this);if(!o.global)return l(o,c);var u=o.unicode;o.lastIndex=0;var p,d=[],m=0;while(null!==(p=l(o,c))){var h=String(p[0]);d[m]=h,""===h&&(o.lastIndex=s(c,i(o.lastIndex),u)),m++}return 0===m?null:d}]}))},"4de4":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").filter,i=n("1dde"),o=i("filter");a({target:"Array",proto:!0,forced:!o},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var a=n("0366"),r=n("7b0b"),i=n("9bdd"),o=n("e95a"),s=n("50c4"),l=n("8418"),c=n("35a1");t.exports=function(t){var e,n,u,p,d,m,h=r(t),f="function"==typeof this?this:Array,v=arguments.length,x=v>1?arguments[1]:void 0,g=void 0!==x,y=c(h),w=0;if(g&&(x=a(x,v>2?arguments[2]:void 0,2)),void 0==y||f==Array&&o(y))for(e=s(h.length),n=new f(e);e>w;w++)m=g?x(h[w],w):h[w],l(n,w,m);else for(p=y.call(h),d=p.next,n=new f;!(u=d.call(p)).done;w++)m=g?i(p,x,[u.value,w],!0):u.value,l(n,w,m);return n.length=w,n}},5319:function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("50c4"),o=n("a691"),s=n("1d80"),l=n("8aa5"),c=n("0cb2"),u=n("14c3"),p=Math.max,d=Math.min,m=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var h=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=a.REPLACE_KEEPS_$0,v=h?"$":"$0";return[function(n,a){var r=s(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!h&&f||"string"===typeof a&&-1===a.indexOf(v)){var s=n(e,t,this,a);if(s.done)return s.value}var x=r(t),g=String(this),y="function"===typeof a;y||(a=String(a));var w=x.global;if(w){var b=x.unicode;x.lastIndex=0}var C=[];while(1){var _=u(x,g);if(null===_)break;if(C.push(_),!w)break;var S=String(_[0]);""===S&&(x.lastIndex=l(g,i(x.lastIndex),b))}for(var L="",F=0,A=0;A<C.length;A++){_=C[A];for(var I=String(_[0]),E=p(d(o(_.index),g.length),0),k=[],N=1;N<_.length;N++)k.push(m(_[N]));var D=_.groups;if(y){var P=[I].concat(k,E,g);void 0!==D&&P.push(D);var $=String(a.apply(void 0,P))}else $=c(I,g,E,k,D,a);E>=F&&(L+=g.slice(F,E)+$,F=E+I.length)}return L+g.slice(F)}]}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),r=n("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5a34":function(t,e,n){var a=n("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5fb2":function(t,e,n){"use strict";var a=2147483647,r=36,i=1,o=26,s=38,l=700,c=72,u=128,p="-",d=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",f=r-i,v=Math.floor,x=String.fromCharCode,g=function(t){var e=[],n=0,a=t.length;while(n<a){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<a){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),n--)}else e.push(r)}return e},y=function(t){return t+22+75*(t<26)},w=function(t,e,n){var a=0;for(t=n?v(t/l):t>>1,t+=v(t/e);t>f*o>>1;a+=r)t=v(t/f);return v(a+(f+1)*t/(t+s))},b=function(t){var e=[];t=g(t);var n,s,l=t.length,d=u,m=0,f=c;for(n=0;n<t.length;n++)s=t[n],s<128&&e.push(x(s));var b=e.length,C=b;b&&e.push(p);while(C<l){var _=a;for(n=0;n<t.length;n++)s=t[n],s>=d&&s<_&&(_=s);var S=C+1;if(_-d>v((a-m)/S))throw RangeError(h);for(m+=(_-d)*S,d=_,n=0;n<t.length;n++){if(s=t[n],s<d&&++m>a)throw RangeError(h);if(s==d){for(var L=m,F=r;;F+=r){var A=F<=f?i:F>=f+o?o:F-f;if(L<A)break;var I=L-A,E=r-A;e.push(x(y(A+I%E))),L=v(I/E)}e.push(x(y(L))),f=w(m,S,C==b),m=0,++C}}++m,++d}return e.join("")};t.exports=function(t){var e,n,a=[],r=t.toLowerCase().replace(m,".").split(".");for(e=0;e<r.length;e++)n=r[e],a.push(d.test(n)?"xn--"+b(n):n);return a.join(".")}},6062:function(t,e,n){"use strict";var a=n("6d61"),r=n("6566");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(t,e,n){"use strict";var a=n("9bf2").f,r=n("7c73"),i=n("e2cc"),o=n("0366"),s=n("19aa"),l=n("2266"),c=n("7dd0"),u=n("2626"),p=n("83ab"),d=n("f183").fastKey,m=n("69f3"),h=m.set,f=m.getterFor;t.exports={getConstructor:function(t,e,n,c){var u=t((function(t,a){s(t,u,e),h(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),p||(t.size=0),void 0!=a&&l(a,t[c],{that:t,AS_ENTRIES:n})})),m=f(e),v=function(t,e,n){var a,r,i=m(t),o=x(t,e);return o?o.value=n:(i.last=o={index:r=d(e,!0),key:e,value:n,previous:a=i.last,next:void 0,removed:!1},i.first||(i.first=o),a&&(a.next=o),p?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t},x=function(t,e){var n,a=m(t),r=d(e);if("F"!==r)return a.index[r];for(n=a.first;n;n=n.next)if(n.key==e)return n};return i(u.prototype,{clear:function(){var t=this,e=m(t),n=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete n[a.index],a=a.next;e.first=e.last=void 0,p?e.size=0:t.size=0},delete:function(t){var e=this,n=m(e),a=x(e,t);if(a){var r=a.next,i=a.previous;delete n.index[a.index],a.removed=!0,i&&(i.next=r),r&&(r.previous=i),n.first==a&&(n.first=r),n.last==a&&(n.last=i),p?n.size--:e.size--}return!!a},forEach:function(t){var e,n=m(this),a=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!x(this,t)}}),i(u.prototype,n?{get:function(t){var e=x(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),p&&a(u.prototype,"size",{get:function(){return m(this).size}}),u},setStrong:function(t,e,n){var a=e+" Iterator",r=f(e),i=f(a);c(t,e,(function(t,e){h(this,{type:a,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},"65f0":function(t,e,n){var a=n("861d"),r=n("e8b5"),i=n("b622"),o=i("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"6cfa":function(t,e,n){t.exports=n.p+"img/drawjs-logo.18b6678c.png"},"6d61":function(t,e,n){"use strict";var a=n("23e7"),r=n("da84"),i=n("94ca"),o=n("6eeb"),s=n("f183"),l=n("2266"),c=n("19aa"),u=n("861d"),p=n("d039"),d=n("1c7e"),m=n("d44e"),h=n("7156");t.exports=function(t,e,n){var f=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),x=f?"set":"add",g=r[t],y=g&&g.prototype,w=g,b={},C=function(t){var e=y[t];o(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})},_=i(t,"function"!=typeof g||!(v||y.forEach&&!p((function(){(new g).entries().next()}))));if(_)w=n.getConstructor(e,t,f,x),s.REQUIRED=!0;else if(i(t,!0)){var S=new w,L=S[x](v?{}:-0,1)!=S,F=p((function(){S.has(1)})),A=d((function(t){new g(t)})),I=!v&&p((function(){var t=new g,e=5;while(e--)t[x](e,e);return!t.has(-0)}));A||(w=e((function(e,n){c(e,w,t);var a=h(new g,e,w);return void 0!=n&&l(n,a[x],{that:a,AS_ENTRIES:f}),a})),w.prototype=y,y.constructor=w),(F||I)&&(C("delete"),C("has"),f&&C("get")),(I||L)&&C(x),v&&y.clear&&delete y.clear}return b[t]=w,a({global:!0,forced:w!=g},b),m(w,t),v||n.setStrong(w,t,f),w}},7156:function(t,e,n){var a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var i,o;return r&&"function"==typeof(i=e.constructor)&&i!==n&&a(o=i.prototype)&&o!==n.prototype&&r(t,o),t}},"7f64":function(t,e,n){"use strict";n("2d4e")},8319:function(t,e,n){},8418:function(t,e,n){"use strict";var a=n("c04e"),r=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var o=a(e);o in t?r.f(t,o,i(0,n)):t[o]=n}},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},"8d82":function(t,e,n){"use strict";n("0cb9")},9263:function(t,e,n){"use strict";var a=n("ad6d"),r=n("9f7f"),i=n("5692"),o=RegExp.prototype.exec,s=i("native-string-replace",String.prototype.replace),l=o,c=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],d=c||p||u;d&&(l=function(t){var e,n,r,i,l=this,d=u&&l.sticky,m=a.call(l),h=l.source,f=0,v=t;return d&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),v=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,f++),n=new RegExp("^(?:"+h+")",m)),p&&(n=new RegExp("^"+h+"$(?!\\s)",m)),c&&(e=l.lastIndex),r=o.call(d?n:l,v),d?r?(r.input=r.input.slice(f),r[0]=r[0].slice(f),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),p&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},9861:function(t,e,n){"use strict";n("e260");var a=n("23e7"),r=n("d066"),i=n("0d3b"),o=n("6eeb"),s=n("e2cc"),l=n("d44e"),c=n("9ed3"),u=n("69f3"),p=n("19aa"),d=n("5135"),m=n("0366"),h=n("f5df"),f=n("825a"),v=n("861d"),x=n("7c73"),g=n("5c6c"),y=n("9a1f"),w=n("35a1"),b=n("b622"),C=r("fetch"),_=r("Headers"),S=b("iterator"),L="URLSearchParams",F=L+"Iterator",A=u.set,I=u.getterFor(L),E=u.getterFor(F),k=/\+/g,N=Array(4),D=function(t){return N[t-1]||(N[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},P=function(t){try{return decodeURIComponent(t)}catch(e){return t}},$=function(t){var e=t.replace(k," "),n=4;try{return decodeURIComponent(e)}catch(a){while(n)e=e.replace(D(n--),P);return e}},B=/[!'()~]|%20/g,R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(t){return R[t]},O=function(t){return encodeURIComponent(t).replace(B,M)},T=function(t,e){if(e){var n,a,r=e.split("&"),i=0;while(i<r.length)n=r[i++],n.length&&(a=n.split("="),t.push({key:$(a.shift()),value:$(a.join("="))}))}},U=function(t){this.entries.length=0,T(this.entries,t)},G=function(t,e){if(t<e)throw TypeError("Not enough arguments")},X=c((function(t,e){A(this,{type:F,iterator:y(I(t).entries),kind:e})}),"Iterator",(function(){var t=E(this),e=t.kind,n=t.iterator.next(),a=n.value;return n.done||(n.value="keys"===e?a.key:"values"===e?a.value:[a.key,a.value]),n})),W=function(){p(this,W,L);var t,e,n,a,r,i,o,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,m=[];if(A(u,{type:L,entries:m,updateURL:function(){},updateSearchParams:U}),void 0!==c)if(v(c))if(t=w(c),"function"===typeof t){e=t.call(c),n=e.next;while(!(a=n.call(e)).done){if(r=y(f(a.value)),i=r.next,(o=i.call(r)).done||(s=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");m.push({key:o.value+"",value:s.value+""})}}else for(l in c)d(c,l)&&m.push({key:l,value:c[l]+""});else T(m,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},Y=W.prototype;s(Y,{append:function(t,e){G(arguments.length,2);var n=I(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){G(arguments.length,1);var e=I(this),n=e.entries,a=t+"",r=0;while(r<n.length)n[r].key===a?n.splice(r,1):r++;e.updateURL()},get:function(t){G(arguments.length,1);for(var e=I(this).entries,n=t+"",a=0;a<e.length;a++)if(e[a].key===n)return e[a].value;return null},getAll:function(t){G(arguments.length,1);for(var e=I(this).entries,n=t+"",a=[],r=0;r<e.length;r++)e[r].key===n&&a.push(e[r].value);return a},has:function(t){G(arguments.length,1);var e=I(this).entries,n=t+"",a=0;while(a<e.length)if(e[a++].key===n)return!0;return!1},set:function(t,e){G(arguments.length,1);for(var n,a=I(this),r=a.entries,i=!1,o=t+"",s=e+"",l=0;l<r.length;l++)n=r[l],n.key===o&&(i?r.splice(l--,1):(i=!0,n.value=s));i||r.push({key:o,value:s}),a.updateURL()},sort:function(){var t,e,n,a=I(this),r=a.entries,i=r.slice();for(r.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}a.updateURL()},forEach:function(t){var e,n=I(this).entries,a=m(t,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<n.length)e=n[r++],a(e.value,e.key,this)},keys:function(){return new X(this,"keys")},values:function(){return new X(this,"values")},entries:function(){return new X(this,"entries")}},{enumerable:!0}),o(Y,S,Y.entries),o(Y,"toString",(function(){var t,e=I(this).entries,n=[],a=0;while(a<e.length)t=e[a++],n.push(O(t.key)+"="+O(t.value));return n.join("&")}),{enumerable:!0}),l(W,L),a({global:!0,forced:!i},{URLSearchParams:W}),i||"function"!=typeof C||"function"!=typeof _||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,a,r=[t];return arguments.length>1&&(e=arguments[1],v(e)&&(n=e.body,h(n)===L&&(a=e.headers?new _(e.headers):new _,a.has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=x(e,{body:g(0,String(n)),headers:g(0,a)}))),r.push(e)),C.apply(this,r)}}),t.exports={URLSearchParams:W,getState:I}},"9a1f":function(t,e,n){var a=n("825a"),r=n("35a1");t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return a(e.call(t))}},"9bdd":function(t,e,n){var a=n("825a"),r=n("2a62");t.exports=function(t,e,n,i){try{return i?e(a(n)[0],n[1]):e(n)}catch(o){throw r(t),o}}},"9f7f":function(t,e,n){"use strict";var a=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var a=n("23e7"),r=n("44ad"),i=n("fc6a"),o=n("a640"),s=[].join,l=r!=Object,c=o("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},a434:function(t,e,n){"use strict";var a=n("23e7"),r=n("23cb"),i=n("a691"),o=n("50c4"),s=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),p=u("splice"),d=Math.max,m=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var n,a,u,p,v,x,g=s(this),y=o(g.length),w=r(t,y),b=arguments.length;if(0===b?n=a=0:1===b?(n=0,a=y-w):(n=b-2,a=m(d(i(e),0),y-w)),y+n-a>h)throw TypeError(f);for(u=l(g,a),p=0;p<a;p++)v=w+p,v in g&&c(u,p,g[v]);if(u.length=a,n<a){for(p=w;p<y-a;p++)v=p+a,x=p+n,v in g?g[x]=g[v]:delete g[x];for(p=y;p>y-a+n;p--)delete g[p-1]}else if(n>a)for(p=y-a;p>w;p--)v=p+a-1,x=p+n-1,v in g?g[x]=g[v]:delete g[x];for(p=0;p<n;p++)g[p+w]=arguments[p+2];return g.length=y-a+n,u}})},a630:function(t,e,n){var a=n("23e7"),r=n("4df4"),i=n("1c7e"),o=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:r})},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,n){"use strict";var a=n("83ab"),r=n("da84"),i=n("94ca"),o=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),p=n("d039"),d=n("7c73"),m=n("241c").f,h=n("06cf").f,f=n("9bf2").f,v=n("58a8").trim,x="Number",g=r[x],y=g.prototype,w=l(d(y))==x,b=function(t){var e,n,a,r,i,o,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>r)return NaN;return parseInt(i,a)}return+c};if(i(x,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,_=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _&&(w?p((function(){y.valueOf.call(n)})):l(n)!=x)?c(new g(b(e)),n,_):b(e)},S=a?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;S.length>L;L++)s(g,C=S[L])&&!s(_,C)&&f(_,C,h(g,C));_.prototype=y,y.constructor=_,o(r,x,_)}},ab13:function(t,e,n){var a=n("b622"),r=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(a){}}return!1}},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var a=n("83ab"),r=n("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,l="name";a&&!(l in i)&&r(i,l,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b727:function(t,e,n){var a=n("0366"),r=n("44ad"),i=n("7b0b"),o=n("50c4"),s=n("65f0"),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,p=6==t,d=7==t,m=5==t||p;return function(h,f,v,x){for(var g,y,w=i(h),b=r(w),C=a(f,v,3),_=o(b.length),S=0,L=x||s,F=e?L(h,_):n||d?L(h,0):void 0;_>S;S++)if((m||S in b)&&(g=b[S],y=C(g,S,w),t))if(e)F[S]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:l.call(F,g)}else switch(t){case 4:return!1;case 7:l.call(F,g)}return p?-1:c||u?u:F}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},bb2f:function(t,e,n){var a=n("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},caad:function(t,e,n){"use strict";var a=n("23e7"),r=n("4d64").includes,i=n("44d2");a({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cd56:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("MainMenu"),a("img",{attrs:{src:n("6cfa")}}),a("a",{staticClass:"btn btn-danger",staticStyle:{position:"absolute",right:"10px",top:"13px"},attrs:{href:"https://danielbarral.itch.io/drawjs/donate",role:"button",target:"top"}},[a("IconDonate",{attrs:{color:"#ffffff"}}),t._v(" Donate")],1)],1),a("div",{staticClass:"appDiv",attrs:{id:"app"}},[a("div",{staticClass:"mainLayout"},[a("div",{staticClass:"columnBox colDiv"},[a("div",{staticClass:"scriptsDiv"},[t._m(0),a("div",{staticClass:"tabContentScroll"},[a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane show active",attrs:{id:"tabSampleScripts",role:"tabpanel","aria-labelledby":"sampleScripts-tab"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:null==t.selectedSampleScript,expression:"selectedSampleScript == null"}]},[a("span",[t._v("Type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.type,expression:"sampleScriptsFilter.type"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.sampleScriptsFilter,"type",e.target.multiple?n:n[0])},function(e){return t.filterSampleScripts()}]}},[a("option",{attrs:{value:""}},[t._v("(Show all)")]),t._l(t.sampleScriptTypes,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),a("span",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.text"}],attrs:{placeholder:"script name"},domProps:{value:t.sampleScriptsFilter.text},on:{input:[function(e){e.target.composing||t.$set(t.sampleScriptsFilter,"text",e.target.value)},function(e){return t.filterSampleScripts()}]}}),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.sampleScriptsFilter.type||""!=t.sampleScriptsFilter.text,expression:"sampleScriptsFilter.type != '' || sampleScriptsFilter.text != ''"}]},[t._v("Showing "+t._s(t.numFilteredSampleScripts)+" of "+t._s(t.numSampleScripts)+" "),a("a",{attrs:{href:"#"},on:{click:function(e){return t.clearSearch()}}},[t._v("Clear search")])]),a("table",{staticStyle:{"margin-top":"5px"}},t._l(t.sampleScripts,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(n){return t.executeSampleScript(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1)]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.loadSampleScript(e.name)}}},[t._v("Open")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.selectSampleScript(e.name)}}},[t._v("View")])])])})),0)]),null!=t.selectedSampleScript?a("div",[a("h3",[a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return t.unselectSampleScript()}}},[a("IconBack",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Back")],1),t._v(" "+t._s(t.selectedSampleScript.name))]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.executeEditedSampleScript()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.copySampleSourceCode()}}},[t._v("Copy")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.showModalSaveSampleScriptAs()}}},[t._v("Save as...")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editedSampleScript,expression:"editedSampleScript"}],staticStyle:{width:"100%",height:"180px"},domProps:{value:t.editedSampleScript},on:{input:function(e){e.target.composing||(t.editedSampleScript=e.target.value)}}})]):t._e()]),a("div",{staticClass:"tab-pane",staticStyle:{"margin-left":"3px"},attrs:{id:"tabSavedScripts",role:"tabpanel","aria-labelledby":"savedScripts-tab"}},[a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.createNewScript()}}},[t._v("New script...")])]),a("br"),t.savedScripts.length>0?a("table",{staticClass:"smallTable"},[t._m(1),a("tbody",t._l(t.savedScripts,(function(e){return a("tr",{key:e.name},[a("td",[a("b",[t._v(t._s(e.name))])]),a("td",[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(n){return t.executeSavedScript(e.name)}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1)]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.loadSavedScript(e.name)}}},[t._v("Open")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(n){return t.deleteSavedScript(e.name)}}},[t._v("delete")])])])})),0)]):t._e(),0==t.savedScripts.length?a("div",[t._v("You haven't created any script yet.")]):t._e(),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.saveScriptsToLocalStorage()}}},[t._v("Save to local storage")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.loadScriptsFromLocalStorage()}}},[t._v("Load from local storage")])])])])])]),a("div",[a("div",[a("b",[t._v("Script:")]),t._v(" "+t._s(t.currentScriptName))]),a("textarea",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"}}),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:t.executeScript}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),t._v(" Execute")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.saveScript}},[t._v("Save")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.saveScriptAs}},[t._v("Save as...")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.newScript}},[t._v("New")])])])]),a("div",{staticClass:"columnBox mainColDiv"},[t._m(2),t._m(3),a("div",{staticClass:"buttonGroup"},[a("span",[a("b",[t._v("Current tool: ")]),t._v(t._s(t.currentTool))]),t._m(4),a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.ctx.fillStyle}),a("span",{staticClass:"spanFillStyleStrokeStyle"},[t._v(t._s(t.ctx.fillStyle))]),t._m(5),a("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.ctx.strokeStyle}),a("span",{staticClass:"spanFillStyleStrokeStyle"},[t._v(t._s(t.ctx.strokeStyle))]),a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[t._v("Position: ")]),t._v(t._s(t.mousePosition.x)+","+t._s(t.mousePosition.y))])]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("pencil")}}},[a("IconEdit",{attrs:{color:"#ffffff"}}),t._v(" Pencil")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("brush")}}},[a("IconBrush",{attrs:{color:"#ffffff"}}),t._v(" Brush")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("line")}}},[a("IconLine",{attrs:{color:"#ffffff"}}),t._v(" Line")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("rectangle")}}},[a("IconRectangle",{attrs:{color:"#ffffff"}}),t._v(" Rectangle")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("circle")}}},[a("IconCircle",{attrs:{color:"#ffffff"}}),t._v(" Circle")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("ellipse")}}},[a("IconEllipse",{attrs:{color:"#ffffff"}}),t._v(" Ellipse")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.setCurrentTool("none")}}},[a("IconNone",{attrs:{color:"#ffffff"}}),t._v(" None")],1)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clearCurrentLayer()}}},[t._v("Clear current layer")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.fillScreenWhite()}}},[t._v("Fill with white")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.fillScreenBlack()}}},[t._v("Fill with black")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.repaintCurrentLayer()}}},[t._v("Repaint current layer")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clip()}}},[t._v("Clip")])])]),a("div",{staticClass:"columnBoxRight"},[a("LayersPanel",{ref:"layersPanel"}),a("ContextPanel"),a("EventsPanel"),a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("images")}}},[a("span",{staticClass:"panelTitle"},[t._v("Images")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.images,expression:"visiblePanels.images"}],staticClass:"panelBody"},[a("span",[t._v("Load image:")]),a("input",{attrs:{type:"file",id:"inputImage"},on:{change:t.onImageUpload}}),a("table",{staticClass:"smallTable contextPropertiesTable"},[a("tbody",t._l(t.images,(function(e){return a("tr",{key:e.filename},[a("td",[t._v(t._s(e.filename))]),a("td",[e.url?a("img",{staticStyle:{"max-width":"64px"},attrs:{src:e.url}}):t._e()]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.drawImageToCurrentLayer(e.url)}}},[t._v("draw")])])])})),0)]),a("div",{staticClass:"spacing"})])]),a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("fonts")}}},[a("span",{staticClass:"panelTitle"},[t._v("Fonts")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.fonts,expression:"visiblePanels.fonts"}],staticClass:"panelBody"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fontPanelForm.fontName,expression:"fontPanelForm.fontName"}],domProps:{value:t.fontPanelForm.fontName},on:{input:function(e){e.target.composing||t.$set(t.fontPanelForm,"fontName",e.target.value)}}})]),a("input",{attrs:{type:"file"},on:{change:t.onFontUpload}}),a("div",[t._v("URL: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fontPanelForm.fontURL,expression:"fontPanelForm.fontURL"}],domProps:{value:t.fontPanelForm.fontURL},on:{input:function(e){e.target.composing||t.$set(t.fontPanelForm,"fontURL",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.loadFont()}}},[t._v("Load font")]),a("div",{staticClass:"spacing"}),a("table",{staticClass:"smallTable"},[t._m(6),a("tbody",t._l(t.fonts,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.font.style))]),a("td",[t._v(t._s(e.font.weight))])])})),0)]),a("div",{staticClass:"spacing"})])]),a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("globalVariables")}}},[a("span",{staticClass:"panelTitle"},[t._v("Global variables")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.globalVariables,expression:"visiblePanels.globalVariables"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[t._m(7),a("tbody",t._l(t.globalVariables,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n))]),a("td",[t._v(t._s(e))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.editGlobalVariable(n)}}},[t._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.deleteGlobalVariable(n)}}},[t._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.popupAddGlobalVariable}},[t._v("add")])])])]),a("div",[a("div",{staticClass:"panelHeader",on:{click:function(e){return t.togglePanelVisibility("logs")}}},[a("span",{staticClass:"panelTitle"},[t._v("Logs")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.visiblePanels.logs,expression:"visiblePanels.logs"}],staticClass:"panelBody"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.clearLogs()}}},[t._v("clear logs")]),a("div",[t._v("Showing "+t._s(t.logs.length)+" log messages")]),a("table",{staticClass:"smallTable"},[a("tbody",t._l(t.logs,(function(e){return a("tr",{key:e},[a("td",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"spacing"})])])],1)]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modalSaveSampleScriptAs",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(8),a("div",{staticClass:"modal-body"},[a("div",[t._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newScriptName,expression:"newScriptName"}],domProps:{value:t.newScriptName},on:{input:function(e){e.target.composing||(t.newScriptName=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.saveSampleScriptAs()}}},[t._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalExport",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(9),a("div",{staticClass:"modal-body"},[a("div",[t._v("Export type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exportConfigForm.type,expression:"exportConfigForm.type"}],attrs:{type:"radio",id:"full_canvas",value:"FULL_CANVAS"},domProps:{checked:t._q(t.exportConfigForm.type,"FULL_CANVAS")},on:{change:function(e){return t.$set(t.exportConfigForm,"type","FULL_CANVAS")}}}),a("label",{attrs:{for:"full_canvas"}},[t._v("Full canvas ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exportConfigForm.type,expression:"exportConfigForm.type"}],attrs:{type:"radio",id:"crop",value:"CROP"},domProps:{checked:t._q(t.exportConfigForm.type,"CROP")},on:{change:function(e){return t.$set(t.exportConfigForm,"type","CROP")}}}),a("label",{attrs:{for:"crop"}},[t._v("Crop ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exportConfigForm.type,expression:"exportConfigForm.type"}],attrs:{type:"radio",id:"crop_at",value:"CROP_AT"},domProps:{checked:t._q(t.exportConfigForm.type,"CROP_AT")},on:{change:function(e){return t.$set(t.exportConfigForm,"type","CROP_AT")}}}),a("label",{attrs:{for:"crop_at"}},[t._v("Crop at... ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"CROP_AT"==t.exportConfigForm.type,expression:"exportConfigForm.type == 'CROP_AT'"}]},[a("div",[t._v("Crop start x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exportConfigForm.cropStartX,expression:"exportConfigForm.cropStartX"}],domProps:{value:t.exportConfigForm.cropStartX},on:{input:function(e){e.target.composing||t.$set(t.exportConfigForm,"cropStartX",e.target.value)}}})]),a("div",[t._v("Crop start y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exportConfigForm.cropStartY,expression:"exportConfigForm.cropStartY"}],domProps:{value:t.exportConfigForm.cropStartY},on:{input:function(e){e.target.composing||t.$set(t.exportConfigForm,"cropStartY",e.target.value)}}})]),a("div",[t._v("Crop end x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exportConfigForm.cropEndX,expression:"exportConfigForm.cropEndX"}],domProps:{value:t.exportConfigForm.cropEndX},on:{input:function(e){e.target.composing||t.$set(t.exportConfigForm,"cropEndX",e.target.value)}}})]),a("div",[t._v("Crop end y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exportConfigForm.cropEndY,expression:"exportConfigForm.cropEndY"}],domProps:{value:t.exportConfigForm.cropEndY},on:{input:function(e){e.target.composing||t.$set(t.exportConfigForm,"cropEndY",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.exportCanvas()}}},[t._v("Export")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{id:"sampleScripts-tab","data-toggle":"tab",href:"#tabSampleScripts",role:"tab"}},[t._v("Sample scripts")])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{id:"savedScripts-tab","data-toggle":"tab",href:"#tabSavedScripts",role:"tab"}},[t._v("My scripts")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("name")]),n("th"),n("th"),n("th")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_all_layers",role:"tab","aria-controls":"tab_all_layers","aria-selected":"false"}},[t._v("All layers")])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_current_layer",role:"tab","aria-controls":"tab_current_layer","aria-selected":"false"}},[t._v("Current layer")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-content",staticStyle:{"margin-top":"5px"},attrs:{id:"myTabContent"}},[n("div",{staticClass:"tab-pane show active",attrs:{id:"tab_all_layers",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasAllLayers",width:"600",height:"400"}})]),n("div",{staticClass:"tab-pane",attrs:{id:"tab_current_layer",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasCurrentLayer",width:"600",height:"400"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticStyle:{"margin-left":"10px"}},[n("b",[t._v("fillStyle: ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticStyle:{"margin-left":"10px"}},[n("b",[t._v("strokeStyle: ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("name")]),n("th",[t._v("style")]),n("th",[t._v("weight")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("name")]),n("th",[t._v("value")]),n("th"),n("th")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Save sample script as...")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Export")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("4de4"),n("a9e3"),n("a434"),n("b0c0"),n("6062"),n("caad"),n("2532"),n("a630"),[]),o=new Set,s={},l="",c="\nctx.beginPath();\nctx.moveTo(0, 0);\nctx.lineTo(100, 100);\nctx.stroke();\n";function u(t,e){i.push(e);for(var n=0;n<t.length;n++){var a=t[n];o.add(a),null==s[a]&&(s[a]=[]),s[a].push(e)}}function p(t,e){var n=e||"";n=n.toLowerCase();var a=null;a=null==t||""==t?i:s[t];for(var r=[],o=0;o<a.length;o++){var l=a[o];l.name.toLowerCase().includes(n)&&r.push(l)}return r}function d(){return Array.from(o)}u(["basic drawing"],{name:"Draw line",func:new Function("params",c),source:c}),c="\nctx.beginPath();\nctx.arc(100, 100, 10, 0, 2 * Math.PI);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw circle",func:new Function("params",c),source:c}),c="\nctx.beginPath();\nctx.arc(100, 100, 10, 0, 2 * Math.PI);\nctx.fill();\n",u(["basic drawing"],{name:"Fill circle",func:new Function("params",c),source:c}),c="\nctx.beginPath();\nctx.rect(20, 20, 150, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw rect",func:new Function("params",c),source:c}),c="\nctx.fillRect(20, 20, 150, 100);\n",u(["basic drawing"],{name:"Fill rect",func:new Function("params",c),source:c}),c='\nctx.font = "30px Arial";\nctx.fillText("Hello World", 10, 50);\n',u(["basic drawing","text"],{name:"Draw text",func:new Function("params",c),source:c}),c='\nctx.font = "30px Arial";\nctx.strokeText("Hello World", 10, 50);\n',u(["basic drawing","text"],{name:"Draw stroke text",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar grd = ctx.createLinearGradient(0, 0, 200, 0);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Linear Gradient",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar grd = ctx.createRadialGradient(75, 50, 5, 90, 60, 100);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Circular Gradient",func:new Function("params",c),source:c}),c="\nctx.rotate(20 * Math.PI / 180);\n",u(["context"],{name:"Rotate canvas",func:new Function("params",c),source:c}),c="\nlet a = params.horizontalScaling ?? 1;\nlet b = params.verticalSkewing ?? 0;\nlet c = params.horizontalSkewing ?? 0;\nlet d = params.verticalScaling ?? 1;\nlet e = params.horizontalTranslation ?? 0;\nlet f = params.verticalTranslation ?? 0;\n\nctx.setTransform(a, b, c, d, e, f);\n",u(["other","context"],{name:"Set transform",func:new Function("params",c),source:c}),c="\nctx.setTransform(1, 0, 0, 1, 0, 0);\n",u(["other","context"],{name:"Reset transform",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar gradient = ctx.createLinearGradient(0, 0, c.width, 0);\ngradient.addColorStop("0"," magenta");\ngradient.addColorStop("0.5", "blue");\ngradient.addColorStop("1.0", "red");\n// Fill with gradient\nctx.fillStyle = gradient;\n',u(["basic drawing","context"],{name:"Set gradient fillstyle",func:new Function("params",c),source:c}),c="\nctx.clearRect(0, 0, 600, 400); \n",u(["basic drawing"],{name:"Clear rect",func:new Function("params",c),source:c}),c="\nctx.globalAlpha = 0.2;\n",u(["alpha"],{name:"Set global alpha",func:new Function("params",c),source:c}),c='\nctx.shadowBlur = 20;\nctx.shadowColor = "black";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n',u(["filters"],{name:"Set shadow",func:new Function("params",c),source:c}),c="\nctx.clip();\n",u(["context"],{name:"Clip",func:new Function("params",c),source:c}),c='\n// Clip a rectangular area\nctx.rect(50, 20, 200, 120);\nctx.stroke();\nctx.clip();\n// Draw red rectangle after clip()\nctx.fillStyle = "red";\nctx.fillRect(0, 0, 150, 100);\n',u(["context"],{name:"Clip rect",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#FF0000";\n',u(["context","color"],{name:"Set fill style",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgb(255,0,0)';\n",u(["context","color"],{name:"Set fill style RGB",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n",u(["context","color"],{name:"Set fill style RGBA",func:new Function("params",c),source:c}),c='\nctx.strokeStyle = "#FF0000";\n',u(["context"],{name:"Set stroke style",func:new Function("params",c),source:c}),c="\nctx.lineWidth = 5;\n",u(["basic drawing"],{name:"Set line width",func:new Function("params",c),source:c}),c="\nparams.x = params.x || 300;\nparams.y = params.y || 200;\nparams.r = params.r || 20;\nparams.n = params.n || 5;\nparams.inset = params.inset || 2.5;\n\nctx.save();\nctx.beginPath();\nctx.translate(params.x, params.y);\nctx.moveTo(0,0-params.r);\nfor (var i = 0; i < params.n; i++) {\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - (params.r*params.inset));\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - params.r);\n}\nctx.closePath();\nctx.fill();\nctx.restore();\n",u(["shapes"],{name:"Draw star",func:new Function("params",c),source:c}),c="\nlet cx = params.cx || 300;\nlet cy = params.cy || 200;\nlet spikes = params.spikes || 5;\nlet innerRadius = params.innerRadius || 100;\nlet outerRadius = params.outerRadius || 40;\n\nlet rot=Math.PI/2*3;\nlet x=cx;\nlet y=cy;\nlet step=Math.PI/spikes;\n\nctx.beginPath();\nctx.moveTo(cx,cy-outerRadius)\nfor(i=0;i<spikes;i++){\n  x=cx+Math.cos(rot)*outerRadius;\n  y=cy+Math.sin(rot)*outerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n\n  x=cx+Math.cos(rot)*innerRadius;\n  y=cy+Math.sin(rot)*innerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n}\nctx.lineTo(cx,cy-outerRadius);\nctx.closePath();\nctx.lineWidth=3;\nctx.strokeStyle='#999900';\nctx.stroke();\nctx.fillStyle='#ffff00';\nctx.fill();\n",u(["shapes"],{name:"Draw star 2",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Draw star',{x: 300, y: 200, r: 48, n: 24, inset: 1.3});\n",u(["shapes"],{name:"Draw spike ball",func:new Function("params",c),source:c}),c="\nctx.restore();\n",c="\nctx.save();\n",u(["context"],{name:"Save context",func:new Function("params",c),source:c}),c="\nctx.restore();\n",u(["context"],{name:"Restore context",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.createImageData(width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] = $util.random256(); // R value\n  imageData.data[i + 1] = $util.random256(); // G value\n  imageData.data[i + 2] = $util.random256(); // B value\n  imageData.data[i + 3] = 255; // A value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["other"],{name:"Draw random pixels",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += amount; // R value\n  imageData.data[i + 1] += amount; // G value\n  imageData.data[i + 2] += amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Lighter",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] -= amount; // R value\n  imageData.data[i + 1] -= amount; // G value\n  imageData.data[i + 2] -= amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Darker",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\nlet x = 0;\nlet y = 0;\n\nctx.save();\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  if (imageData.data[i + 3] > 0) {\n    ctx.fillStyle = 'rgba(' + imageData.data[i] + ', ' + imageData.data[i + 1] + ', ' + imageData.data[i + 2] + ', ' + imageData.data[i + 3]/255 + ')';\n    ctx.beginPath();\n    ctx.arc(x + 0.5, y + 0.5, amount, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n  x++;\n  if (x>width-1) {\n    x = 0;\n    y++;\n  }\n}\n\nctx.restore();\n",u(["other","border"],{name:"Grow",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i + 3] = 255 - imageData.data[i + 3];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["alpha"],{name:"Invert image alpha",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = 255 - imageData.data[i];\n    imageData.data[i+1] = 255 - imageData.data[i+1];\n    imageData.data[i+2] = 255 - imageData.data[i+2];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color"],{name:"Invert image colors",func:new Function("params",c),source:c}),c="\nlet p = new Path2D('M160 110H40v20h120v30L200 120l-40-40z');\nctx.fill(p);\n",u(["SVG"],{name:"Draw Path2D",func:new Function("params",c),source:c}),l='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="300px" height="300px">\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4z"/>\n</svg>\n',c="\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\nlet xml = params.xml;\n\nlet defaultXml = `".concat(l,"`;\n\nxml = xml ?? defaultXml;\n\nvar svg64 = btoa(xml);\n\nvar b64Start = 'data:image/svg+xml;base64,';\n\nvar image64 = b64Start + svg64;\n\nvar img = new Image();\nimg.src = image64;\n\nctx.drawImage(img, x, y);\n"),u(["SVG"],{name:"Draw SVG",func:new Function("params",c),source:c}),l='\n<svg viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg" width="500px" height="400px">\n  <circle cx="300" cy="200" r="50" fill="#ff0000"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - circle",func:new Function("params",c),source:c}),l='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix\n          kernelMatrix="1 0 0\n                        0 0 0\n                        0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix",func:new Function("params",c),source:c}),l='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix order="5" bias="0.5" preserveAlpha="true"\n          kernelMatrix="1 0 0 0 0\n                        0 1 0 0 0\n                        0 0 0 0 0\n                        0 0 0 -1 0\n                        0 0 0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix 2",func:new Function("params",c),source:c}),l='\n<svg viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg" width="600px" height="400px">\n  <filter id="emboss1" x="0" y="0" width="100%" height="100%">\n    <feTurbulence baseFrequency="0.025" seed="0" />\n  </filter>\n  <rect x="0" y="0" width="600" height="400" style="filter:url(#emboss1);" />\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - turbulence",func:new Function("params",c),source:c}),l='\n<svg height="200" width="200" viewBox="0 0 220 220"\n    xmlns="http://www.w3.org/2000/svg">\n  <filter id = "filter">\n    <feSpecularLighting result="specOut"\n        specularExponent="20" lighting-color="#bbbbbb">\n      <fePointLight x="50" y="50" z="200"/>\n    </feSpecularLighting>\n    <feComposite in="SourceGraphic" in2="specOut"\n        operator="arithmetic" k1="0" k2="1" k3="1" k4="0"/>\n  </filter>\n  <circle cx="110" cy="110" r="100" style="filter:url(#filter)"/>\n</svg>\n',c="\nvar xml = `".concat(l,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - SpecularLighting",func:new Function("params",c),source:c}),c="\nctx.filter = 'blur(3px)';\n",u(["filters"],{name:"Blur",func:new Function("params",c),source:c}),c="\nctx.filter = 'grayscale(100%)';\n",u(["filters","context","color"],{name:"Grayscale",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Repaint with filter', {filter: 'grayscale(100%)'});\n",u(["filters","layer","color"],{name:"Grayscale layer",func:new Function("params",c),source:c}),c="\nlet filter = params.filter ?? 'grayscale(100%)';\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.filter = filter;\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["filters"],{name:"Repaint with filter",func:new Function("params",c),source:c}),c="\nctx.filter = 'grayscale(50%)';\n",u(["filters","context","color"],{name:"Grayscale 50%",func:new Function("params",c),source:c}),c="\nctx.filter = 'brightness(1.2)';\n",u(["filters","context","color"],{name:"Brightness",func:new Function("params",c),source:c}),c="\nctx.filter = 'contrast(150%)';\n",u(["filters","context","color"],{name:"Contrast",func:new Function("params",c),source:c}),c="\nctx.filter = 'invert(100%)';\n",u(["filters","context","color"],{name:"Invert",func:new Function("params",c),source:c}),c="\nctx.filter = 'hue-rotate(120deg)';\n",u(["context","filters","color"],{name:"Hue rotate",func:new Function("params",c),source:c}),c="\nctx.filter = 'drop-shadow(-9px 9px 3px #666666)';\n",u(["filters","context"],{name:"Drop shadow",func:new Function("params",c),source:c}),c="\nctx.filter = 'sepia(100%)';\n",u(["filters","context","color"],{name:"Sepia",func:new Function("params",c),source:c}),c="\nctx.filter = 'opacity(50%)';\n",u(["filters","context"],{name:"Opacity",func:new Function("params",c),source:c}),c="\nctx.filter = 'saturate(30%)';\n",u(["filters","context","color"],{name:"Saturate",func:new Function("params",c),source:c}),c="\nctx.filter = 'none';\n",u(["filters"],{name:"Clear filters",func:new Function("params",c),source:c}),c="\nctx.drawImage(app.canvasLayers[3].canvas, 0, 0);\n",u(["other","layer","app"],{name:"Paint layer to another",func:new Function("params",c),source:c}),c="\nlet red = params.r != null ? params.r : 255;\nlet green = params.g != null ? params.g : 0;\nlet blue = params.b != null ? params.b : 0;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = red;\n    imageData.data[i+1] = green;\n    imageData.data[i+2] = blue;\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color"],{name:"Set image color",func:new Function("params",c),source:c}),c="\nlet red = params.r != null ? params.r : 1;\nlet green = params.g != null ? params.g : 0.5;\nlet blue = params.b != null ? params.b : 0.5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = imageData.data[i] * red;\n    imageData.data[i+1] = imageData.data[i+1] * green;\n    imageData.data[i+2] = imageData.data[i+2] * blue;\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color","filters"],{name:"Modulate image color",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet tempCanvas = document.createElement('canvas');\ntempCanvas.width = width;\ntempCanvas.height = height;\n\nlet tempCtx = tempCanvas.getContext('2d');\ntempCtx.drawImage(ctx.canvas, 0, 0);\n\nctx.clearRect(0, 0, width, height);\nctx.drawImage(tempCtx.canvas, 0, 0);\n",u(["other"],{name:"Repaint",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 3;\nlet lightOffset = params.lightOffset || 100;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Grow',{amount: amount});\napp.executeSampleScript('Lighter', {amount: lightOffset});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border"],{name:"Add border",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 4;\nlet lightOffset = params.lightOffset || 100;\n\napp.executeSampleScript('Add border', {amount: amount, lightOffset: lightOffset});\napp.executeSampleScript('Add border', {amount: amount, lightOffset: -lightOffset});\n",u(["border"],{name:"Add double border",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 3;\nlet red = params.r != null ? params.r : 255;\nlet green = params.g != null ? params.g : 0;\nlet blue = params.b != null ? params.b : 0;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Set image color', {r: red, g: green, b: blue});\napp.executeSampleScript('Grow',{amount: amount});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border","color"],{name:"Add color border",func:new Function("params",c),source:c}),c='\nlet text = "Hello world!"\nlet width = ctx.measureText(text).width;\n',u(["text"],{name:"Measure text",func:new Function("params",c),source:c}),c="\nctx.setLineDash([4, 2]);\nctx.beginPath();\nctx.lineDashOffset = 0;\nctx.moveTo(100, 100);\nctx.lineTo(300, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw dashed line",func:new Function("params",c),source:c}),c="\napp.addLayerWithName('My layer name');\n",u(["app","layer"],{name:"Add layer",func:new Function("params",c),source:c}),c="\napp.duplicateLayer('sourceLayerName', 'newLayerName');\n",u(["app","layer"],{name:"Duplicate layer",func:new Function("params",c),source:c}),c="\napp.setCurrentLayer('layer01');\n",u(["app","layer"],{name:"Set current layer",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Grow',{amount: 10});\n",u(["app"],{name:"Execute sample script",func:new Function("params",c),source:c}),c="\napp.executeSavedScript('MyScriptName',{myParam: 10});\n",u(["app"],{name:"Execute saved script",func:new Function("params",c),source:c}),c="\napp.globalVariables.speedX = 100;\n",u(["app"],{name:"Set global variable",func:new Function("params",c),source:c}),c="\nvar speedX = app.globalVariables.speedX;\nalert(speedX);\n",u(["app"],{name:"Get global variable",func:new Function("params",c),source:c}),c="\napp.resetContext();\n",u(["app","context"],{name:"Reset context",func:new Function("params",c),source:c}),c="\napp.combineLayers('baseLayerName','maskLayerName');\n",u(["app","mask","layer"],{name:"Apply mask to layer",func:new Function("params",c),source:c}),c='\n// Options: "top", "hanging", "middle", "alphabetic" (default), "ideographic", "bottom"\nctx.textBaseline = "bottom";\n',u(["text"],{name:"Set text baseline",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw ellipse",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.fill();\n",u(["basic drawing"],{name:"Fill ellipse",func:new Function("params",c),source:c}),c="\nctx.scale(4, 4);\n",u(["context"],{name:"Set scale",func:new Function("params",c),source:c}),c="\nlet start = { x: 100, y: 100 };\nlet cp1 = { x: 100, y: 200 };\nlet cp2 = { x: 200, y: 100 };\nlet end = { x: 200, y: 200 };\n\nctx.beginPath();\nctx.moveTo(start.x, start.y);\nctx.bezierCurveTo(cp1.x, cp1.y, cp2.x, cp2.y, end.x, end.y);\nctx.stroke();\n",u(["basic drawing"],{name:"Bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet cpx = 200;\nlet cpy = 100;\nlet targetX = 200;\nlet targetY = 200;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.quadraticCurveTo(cpx, cpy, targetX, targetY);\nctx.stroke();\n",u(["basic drawing"],{name:"Quadratic bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet x1 = 200;\nlet y1 = 200;\nlet x2 = 100;\nlet y2 = 200;\nlet radius = 20;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.arcTo(x1, y1, x2, y2, radius);\nctx.lineTo(x2, y2);\nctx.stroke();\n",u(["basic drawing"],{name:"Arc to",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\nimg.onload = function() {\n  var pattern = ctx.createPattern(img, 'repeat');\n  ctx.fillStyle = pattern;\n  ctx.fillRect(0, 0, 300, 300);\n};\n",u(["basic drawing","image"],{name:"Create pattern",func:new Function("params",c),source:c}),c="\nconst patternCanvas = document.createElement('canvas');\nconst patternContext = patternCanvas.getContext('2d');\n\npatternCanvas.width = 50;\npatternCanvas.height = 50;\n\npatternContext.fillStyle = '#fec';\npatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\npatternContext.arc(0, 0, 50, 0, .5 * Math.PI);\npatternContext.stroke();\n\nconst pattern = ctx.createPattern(patternCanvas, 'repeat');\nctx.fillStyle = pattern;\nctx.fillRect(0, 0, canvas.width, canvas.height);\n",u(["basic drawing"],{name:"Create pattern from canvas",func:new Function("params",c),source:c}),c='\nctx.shadowBlur = 10;\nctx.shadowColor = "#000000";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n\nctx.fillStyle = "#FF0000";\nctx.font = "64px Arial";\nctx.fillText("Text", 200, 200);\n',u(["filters","text"],{name:"Draw shadow text",func:new Function("params",c),source:c}),c='\nlet text = "Neon";\nlet textColor = "#FFFFFF";\nlet glowColor = "#FFFF00";\nlet nearColor = "#FFFFFF"\nlet blur = 5;\n\nctx.fillStyle = textColor;\nctx.font = "64px Arial";\n\nctx.shadowOffsetX = 0;\nctx.shadowOffsetY = 0;\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *4;\nctx.fillText(text, 200, 200);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *3;\nctx.fillText(text, 200, 200);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur * 2;\nctx.fillText(text, 200, 200);\n\nctx.shadowColor = nearColor;\nctx.shadowBlur = blur;\nctx.fillText(text, 200, 200);\nctx.fillText(text, 200, 200);\n',u(["filters","glow","text"],{name:"Glow text",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#FFFFFF";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen white",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#000000";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen black",func:new Function("params",c),source:c}),c="\nctx.fillRect(0, 0, 600, 400);\n",u(["basic drawing"],{name:"Fill with current fillStyle",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.addEventListener('load', function() {\n  ctx.drawImage(img, 100, 100);\n}, false);\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\n",u(["basic drawing","image"],{name:"Draw image",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.src = app.images[0].url;\nctx.drawImage(img, 0, 0);\n",u(["basic drawing","image"],{name:"Draw uploaded image",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet width = 300;\nlet height = 300;\n\nlet img = new Image();\nimg.addEventListener('load', function() {\n  ctx.drawImage(img, x, y, width, height);\n}, false);\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\n",u(["basic drawing","image"],{name:"Draw image scaled",func:new Function("params",c),source:c}),c="\napp.log('message');\n",u(["other"],{name:"Log",func:new Function("params",c),source:c}),c="\nlet random = $util.random256();\napp.log('random256 = ' + random);\n",u(["other","util","math"],{name:"Random 256",func:new Function("params",c),source:c}),c="\nlet random = Math.random();\napp.log('random = ' + random);\n",u(["math"],{name:"Random number",func:new Function("params",c),source:c}),c="\nparams.numSteps = params.numSteps || 10;\nlet dxOffset = params.dxStep != null ? params.dxStep : 0;\nlet dyOffset = params.dyStep != null ? params.dyStep : -1;\n\nlet canvasClone = $util.cloneCanvas(app.getCurrentLayer().canvas);\n\ndx = 0;\ndy = 0;\nfor (let i=0; i<params.numSteps; i++) {\n  dx += dxOffset;\n  dy += dyOffset;\n  ctx.drawImage(canvasClone, dx, dy);\n}\n",u(["filters"],{name:"3D effect",func:new Function("params",c),source:c}),c="\nlet canvasIndex = params.canvasIndex ?? 1;\nlet numSteps = params.numSteps ?? 10;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\n",u(["filters"],{name:"3D effect 2",func:new Function("params",c),source:c}),c="\nlet canvasIndex = params.canvasIndex ?? 1;\nlet numSteps = params.numSteps ?? 6;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\napp.executeSampleScript('Add border', {amount: 2, lightOffset: -100});\n\napp.duplicateLayer(originalLayerName, '_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\napp.executeSampleScript('Add border', {amount: 1, lightOffset: -120});\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\napp.deleteLayerByName('_temp_layer_02');\n",u(["filters"],{name:"3D effect 3",func:new Function("params",c),source:c}),c='\nvar faceRadius = 100;\nvar eyeSpacing = 40;\nvar eyeInnerRadius = 12;\nvar eyeOuterRadius = 30;\nvar eyeBrowOffset = 20;\nvar eyeOffsetX = 20;\nvar eyeBallOffsetX = -10;\nvar mouthRadius = 30;\n\n//face\nctx.beginPath();\nctx.fillStyle = "#FF6633";\nctx.arc(200, 150, faceRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//mouth\nctx.beginPath();\nctx.fillStyle = "#660000";\nctx.arc(200+eyeOffsetX, 210, mouthRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//first eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX+eyeBallOffsetX, 120, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//second eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX+eyeBallOffsetX, 120, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\nctx.lineWidth = 8;\n\n//eyebrow 1\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 11/8*Math.PI, 13/8*Math.PI);\nctx.stroke();\n\n//eyebrow 2\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 11/8*Math.PI, 13/8*Math.PI);\nctx.stroke();\n',u(["other"],{name:"Draw face",func:new Function("params",c),source:c}),c="\nlet font = \"92px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\nlet gradientStartY = y - 125;\nlet gradientEndY = y + 75;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, \"#FFFFFF\");\ngrd.addColorStop(0.5, \"#FF0000\");\ngrd.addColorStop(1, \"#000000\");\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:5});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:8});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 01",func:new Function("params",c),source:c}),c="\nlet font = \"48px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\nlet borderColor = \"#3333AA\";\nlet color2 = {r: 32, g: 32, b: 128};\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = \"#FFFFFF\";\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillStyle = borderColor;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.duplicateLayer('_temp_layer_02', '_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\napp.executeSampleScript('3D effect', {canvasIndex: 3, dyStep: 1, numSteps: 5});\napp.executeSampleScript('Set image color', color2);\n\n//app.setCurrentLayer(originalLayerName);\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.duplicateLayer('_temp_layer_04', '_temp_layer_05');\napp.setCurrentLayer('_temp_layer_05');\napp.executeSampleScript('Set image color', {r: 255, g: 255, b: 255});\napp.executeSampleScript('Grow', {amount:3});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_05').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_05');\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 02",func:new Function("params",c),source:c}),c="\nlet font = \"72px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = \"#FF0000\";\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\napp.executeSampleScript('Add double border', {amount:4, lightOffset: 150});\n\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 03",func:new Function("params",c),source:c}),c="\nlet font = \"92px Arial\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = \"#FF0000\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:4});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:12});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 04",func:new Function("params",c),source:c}),c="\nlet font = \"92px Arial\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = \"#FF0000\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:4});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:12});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 05",func:new Function("params",c),source:c}),c="\nlet font = \"64px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\nlet gradientStartY = y - 50;\nlet gradientEndY = y + 25;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, \"#FF0000\");\ngrd.addColorStop(1, \"#FFFF00\");\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:5});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 06",func:new Function("params",c),source:c}),c="\nlet font = \"60px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = \"#FFC800\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.fillStyle = \"#C86400\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:2});\napp.executeSampleScript('3D effect', {canvasIndex:2, numSteps:4, dxStep:1, dyStep:0});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.executeSampleScript('Add color border',{amount:2, r:0, g:0, b:0});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 07",func:new Function("params",c),source:c}),c="\nlet font = \"60px Comfortaa\";\nlet text = \"My Logo\";\nlet x = 100;\nlet y = 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\nctx.fillStyle = \"#FF0000\";\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:2});\napp.executeSampleScript('3D effect 3');\n\napp.setCurrentLayer(originalLayerName);\nctx.shadowBlur = 5;\nctx.shadowColor = \"#666666\";\nctx.shadowOffsetX = 2;\nctx.shadowOffsetY = 2;\nctx.drawImage(app.getLayerByName('_temp_layer_001').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_001');\n",u(["logos"],{name:"Logo 08",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = "#FFFFFF";\nlet buttonColor = "#000066";\nlet font = "48px Arial";\n\nctx.strokeStyle = buttonColor;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = "#FFFFFF";\nlet font = "48px Arial";\n\nvar grd = ctx.createLinearGradient(0, 200, 600, 200);\ngrd.addColorStop(0, "#FF0000");\ngrd.addColorStop(1, "#FFAA00");\n\nctx.strokeStyle = grd;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 100;\nlet y = params.x ?? 100;\nlet w = params.x ?? 150;\nlet h = params.x ?? 50;\nlet r = params.x ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.stroke();\n",u(["basic drawing"],{name:"Draw round rect",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 100;\nlet y = params.y ?? 100;\nlet w = params.w ?? 150;\nlet h = params.h ?? 50;\nlet r = params.r ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.fill();\n",u(["basic drawing"],{name:"Fill round rect",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = 10;\nlet textColor = "#FFFFFF";\nlet buttonColor = "#3333CC";\nlet font = "18px Arial";\n\nctx.fillStyle = buttonColor;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button 2",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = 10;\nlet textColor = "#FFFFFF";\nlet font = "18px Arial";\n\nvar grd = ctx.createLinearGradient(0, 200, 600, 200);\ngrd.addColorStop(0, "#FF0000");\ngrd.addColorStop(1, "#FFAA00");\n\nctx.fillStyle = grd;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button 2",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Gradient round button 2', {text: '3D button'});\napp.executeSampleScript('3D effect 3');\n",u(["buttons"],{name:"3D gradient round button",func:new Function("params",c),source:c}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += Math.random()*amount - amount/2; // R value\n  imageData.data[i + 1] += Math.random()*amount - amount/2; // G value\n  imageData.data[i + 2] += Math.random()*amount - amount/2; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters"],{name:"Noise",func:new Function("params",c),source:c}),c='\nlet color = "#0066aa";\nlet borderColor = "#666666";\nlet borderSize = 1;\nlet lightSize = 2;\nlet x = 200;\nlet y = 200;\nlet w = 20;\nlet h = 20;\n\nlet colorRgb = $util.hexToRgb(color);\nlet lighterColorRgb = $util.rgbAdd(colorRgb, 30);\nlet lightColor = $util.rgbToHex(lighterColorRgb);\n\nctx.fillStyle=borderColor;\nctx.fillRect(x, y, w, h);\nctx.fillStyle=lightColor;\nctx.fillRect(x + borderSize, y + borderSize, w - 2 * borderSize, h - 2 * borderSize);\nctx.fillStyle=color;\nctx.fillRect(x + borderSize + lightSize, y + borderSize + lightSize, w - 2 * borderSize - 2 * lightSize, h - 2 * borderSize - 2 * lightSize);\n',u(["shapes"],{name:"Bordered square",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 200;\nlet startAngle = params.startAngle ?? 0;\nlet endAngle = params.endAngle ?? 2 * Math.PI / 24;\n\nctx.beginPath();\nctx.arc(x, y, size, startAngle, endAngle);\nctx.lineTo(x,y);\nctx.fill();\n",u(["other"],{name:"Fill ray",func:new Function("params",c),source:c}),c='\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 400;\nlet numRays = params.numRays ?? 48;\nlet color1 = "#ff6600";\nlet color2 = "#ffcc00";\n\nlet offset = 2 * Math.PI / numRays;\n\nlet startAngle = 0;\nlet endAngle = startAngle + offset;\n\nctx.save();\n\nctx.beginPath();\nctx.globalAlpha = 0;\nctx.arc(x, y, size, 0, 2 * Math.PI);\nctx.stroke();\nctx.globalAlpha = 1;\nctx.clip();\n\nctx.fillStyle = color1;\nctx.fillRect(0,0,600,400);\nctx.fillStyle = color2;\n\nfor (let i=0; i<numRays; i += 2) {\n  app.executeSampleScript(\'Fill ray\', {x:x, y:y, size:size, startAngle:startAngle, endAngle:endAngle});\n  startAngle += 2 * offset;\n  endAngle += 2 * offset;\n}\n\nctx.restore();\n',u(["other"],{name:"Sunburst effect",func:new Function("params",c),source:c}),c='\nlet text = "Hello World";\nctx.font = "64px Arial";\nlet x = 110;\nlet y = 200;\nlet colors = ["#ff0000","#00ff00","#0000ff"];\n\nfor (let i=0; i<text.length; i++) {\n  let letter = text.substring(i, i+1);\n  ctx.fillStyle = colors[i % colors.length];\n  ctx.fillText(letter, x, y);\n  x += ctx.measureText(letter).width;\n}\n',u(["text","color"],{name:"Letters with different colors",func:new Function("params",c),source:c}),c="\nctx.translate(100, 50);\n",u(["context"],{name:"Translate",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\nconst imageData = ctx.getImageData(0, 0, width, height);\n\nlet newImageData = $util.convolute(imageData, [1,0,0, 0,0,0, 0,0,-1], false);\n\nctx.putImageData(newImageData, 0, 0);\n",u(["filters"],{name:"Convolute",func:new Function("params",c),source:c}),c="\nlet weights = [1,0,0, 0,0,0, 0,0,-1];\nlet opaque = false;\n$util.convoluteLayer(ctx, weights, opaque);\n",u(["filters"],{name:"Convolute layer",func:new Function("params",c),source:c}),c='\nlet souceLayerName = params.souceLayerName ?? "Layer 01";\nlet targetLayerName = params.targetLayerName ?? "Layer 02";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\napp.setCurrentLayer(souceLayerName);\nlet imageData = ctx.getImageData(0, 0, width, height);\n\napp.setCurrentLayer(targetLayerName);\nctx.putImageData(imageData, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\n',u(["layer","image"],{name:"Clone layer image data",func:new Function("params",c),source:c});n("a15b"),n("d81d"),n("25f0"),n("ac1f"),n("466d"),n("5319");var m={convoluteLayer:function(t,e,n){var a=t.canvas.width,r=t.canvas.height,i=t.getImageData(0,0,a,r),o=this.convolute(i,e,n);t.putImageData(o,0,0)},convolute:function(t,e,n){for(var a=Math.round(Math.sqrt(e.length)),r=Math.floor(a/2),i=t.data,o=t.width,s=t.height,l=o,c=s,u=document.createElement("canvas").getContext("2d").createImageData(l,c),p=u.data,d=n?1:0,m=0;m<c;m++)for(var h=0;h<l;h++){for(var f=m,v=h,x=4*(m*l+h),g=0,y=0,w=0,b=0,C=0;C<a;C++)for(var _=0;_<a;_++){var S=f+C-r,L=v+_-r;if(S>=0&&S<s&&L>=0&&L<o){var F=4*(S*o+L),A=e[C*a+_];g+=i[F]*A,y+=i[F+1]*A,w+=i[F+2]*A,b+=i[F+3]*A}}p[x]=g,p[x+1]=y,p[x+2]=w,p[x+3]=b+d*(255-b)}return u},rgbToHex:function(t){return"#"+[t.r,t.g,t.b].map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("")},hexToRgb:function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,a){return"#"+e+e+n+n+a+a})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}));return{r:e[0],g:e[1],b:e[2]}},rgbAdd:function(t,e){return t.r+=e,t.g+=e,t.b+=e,t.r=this.rgbFit(t.r),t.g=this.rgbFit(t.g),t.b=this.rgbFit(t.b),t},rgbFit:function(t){return t=Math.round(t),Math.max(Math.min(t,255),0)},random256:function(){return Math.floor(256*Math.random())},cloneCanvas:function(t){var e=document.createElement("canvas");e.width=600,e.height=400;var n=e.getContext("2d");return n.drawImage(t,0,0),e},getImageDataPosition:function(t,e,n){var a=t.width,r=4*(n*a+e);return r},cropAt:function(t,e,n,a,r){var i=t.width,o=t.height,s=t.getContext("2d"),l=s.getImageData(0,0,i,o),c=a-e+1,u=r-n+1,p=document.createElement("canvas");p.width=c,p.height=u;var d=p.getContext("2d");return d.putImageData(l,-e,-n),p},crop:function(t){for(var e=t.width,n=t.height,a=t.getContext("2d"),r=a.getImageData(0,0,e,n),i=0,o=0,s=e-1,l=n-1,c=0;c<e;c++){var u=!0;i=c;for(var p=0;p<n;p++){var d=this.getImageDataPosition(t,c,p);if(r.data[d+3]>0){u=!1;break}}if(!u)break}for(var m=e-1;m>=0;m--){var h=!0;s=m;for(var f=0;f<n;f++){var v=this.getImageDataPosition(t,m,f);if(r.data[v+3]>0){h=!1;break}}if(!h)break}for(var x=0;x<n;x++){var g=!0;o=x;for(var y=0;y<e;y++){var w=this.getImageDataPosition(t,y,x);if(r.data[w+3]>0){g=!1;break}}if(!g)break}for(var b=n-1;b>=0;b--){var C=!0;l=b;for(var _=0;_<e;_++){var S=this.getImageDataPosition(t,_,b);if(r.data[S+3]>0){C=!1;break}}if(!C)break}return this.cropAt(t,i,o,s,l)}},h=m,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand navbar-light",staticStyle:{position:"absolute"}},[n("a",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",left:"10px",top:"13px"},attrs:{href:"#",role:"button",id:"navbarDropdownMenuLink"},on:{mousedown:function(e){return t.onMainMenuClick()}}},[n("IconMenu",{staticStyle:{"margin-top":"-3px"},attrs:{color:"#ffffff"}}),t._v(" "),n("b",[t._v("Menu")])],1),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[n("ul",{staticClass:"navbar-nav"},[n("li",{staticClass:"nav-item dropdown"},[n("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"main-menu-children","aria-labelledby":"navbarDropdownMenuLink"}},t._l(t.menuItems,(function(e){return n("li",{key:e.id,class:e.children.length>0?"dropdown-submenu":""},[0==e.children.length?n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return t.onMenuItemClick(e.id)},mouseover:function(n){return t.mouseOver("submenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?n("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"submenu-"+e.id,href:"#"},on:{click:function(n){return t.onMenuItemClick(e.id)},mouseover:function(n){return t.mouseOver("submenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?n("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"submenu-"+e.id+"-children"}},t._l(e.children,(function(e){return n("li",{key:e.id,staticClass:"dropdown-submenu"},[0==e.children.length?n("a",{staticClass:"dropdown-item",attrs:{id:"subsubmenu-"+e.id,href:"#"},on:{click:function(n){return t.onMenuItemClick(e.id)},mouseover:function(n){return t.mouseOverLevel2("subsubmenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?n("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"subsubmenu-"+e.id,href:"#"},on:{click:function(n){return t.onMenuItemClick(e.id)},mouseover:function(n){return t.mouseOverLevel2("subsubmenu-"+e.id)}}},[t._v(t._s(e.name))]):t._e(),e.children.length>0?n("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"subsubmenu-"+e.id+"-children"}},t._l(e.children,(function(e){return n("li",{key:e.id},[n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return t.onMenuItemClick(e.id)}}},[t._v(t._s(e.name))])])})),0):t._e()])})),0):t._e()])})),0)])])])])},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{fill:t.color,d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},g=[],y={name:"IconMenu",props:{color:{type:String,default:"#000000"}}},w=y,b=n("2877"),C=Object(b["a"])(w,x,g,!1,null,"ba0db6c4",null),_=C.exports,S={name:"MainMenu",components:{IconMenu:_},props:{},data:function(){return{menuOpened:!1,menuItems:[{id:"new-project",name:"New project...",children:[]},{id:"image",name:"Image",children:[{id:"clear-current-layer",name:"Clear current layer",children:[]},{id:"fill-white",name:"Fill with white",children:[]},{id:"fill-black",name:"Fill with black",children:[]},{id:"fill-with-current-fill-style",name:"Fill with current fillStyle",children:[]},{id:"invert-colors",name:"Invert colors",children:[]},{id:"invert-alpha",name:"Invert alpha",children:[]}]},{id:"layer",name:"Layer",children:[{id:"add-layer",name:"Add layer",children:[]},{id:"duplicate-layer",name:"Duplicate layer",children:[]},{id:"delete-layer",name:"Delete layer",children:[]}]},{id:"filters",name:"Filters",children:[{id:"color",name:"Color",children:[{id:"grayscale",name:"Grayscale",children:[]},{id:"sepia",name:"Sepia",children:[]}]}]},{id:"scripts",name:"Scripts",children:[{id:"new-script",name:"New script...",children:[]}]},{id:"export",name:"Export...",children:[]}],currentMenuItem:null}},mounted:function(){window.$(".dropdown-menu").click((function(t){t.stopPropagation()})),window.$("#navbarDropdownMenuLink").click((function(t){t.stopPropagation()}));var t=this;window.$(document).click((function(e){t.resetMenu()}))},methods:{onMainMenuClick:function(){this.menuOpened?this.resetMenu():this.openMainMenu()},hideMenuItem:function(t){var e=document.getElementById(t+"-children");null!=e&&e.classList.remove("show")},showMenuItem:function(t){var e=document.getElementById(t+"-children");null!=e&&e.classList.add("show")},selectMenuItem:function(t){var e=document.getElementById(t);null!=e&&e.classList.add("dropdown-item-selected")},unselectMenuItem:function(t){var e=document.getElementById(t);null!=e&&e.classList.remove("dropdown-item-selected")},unselectMenuItemsLevel1:function(){for(var t=0;t<this.menuItems.length;t++){var e=this.menuItems[t];this.unselectMenuItem("submenu-"+e.id)}this.unselectMenuItemsLevel2()},unselectMenuItemsLevel2:function(){for(var t=0;t<this.menuItems.length;t++)for(var e=this.menuItems[t],n=0;n<e.children.length;n++){var a=e.children[n];this.unselectMenuItem("subsubmenu-"+a.id)}},selectMenuItemLevel1:function(t){this.unselectMenuItemsLevel1(),this.selectMenuItem(t)},selectMenuItemLevel2:function(t){this.unselectMenuItemsLevel2(),this.selectMenuItem(t)},openMainMenu:function(){this.showMenuItem("main-menu"),this.menuOpened=!0},resetMenu:function(){this.hideMenuItem("main-menu"),this.resetMenuLevel2(),this.unselectMenuItemsLevel1(),this.menuOpened=!1},resetMenuLevel2:function(){for(var t=0;t<this.menuItems.length;t++){var e=this.menuItems[t];this.hideMenuItem("submenu-"+e.id)}this.resetMenuLevel3()},resetMenuLevel3:function(){for(var t=0;t<this.menuItems.length;t++)for(var e=this.menuItems[t],n=0;n<e.children.length;n++){var a=e.children[n];this.hideMenuItem("subsubmenu-"+a.id)}},mouseOver:function(t){this.resetMenuLevel2(),this.showMenuItem(t),this.selectMenuItemLevel1(t)},mouseOverLevel2:function(t){this.resetMenuLevel3(),this.showMenuItem(t),this.selectMenuItemLevel2(t)},fillScreenWhite:function(){this.resetMenu(),this.$parent.fillScreenWhite()},fillScreenBlack:function(){this.resetMenu(),this.$parent.fillScreenBlack()},clearCurrentLayer:function(){this.resetMenu(),this.$parent.clearCurrentLayer()},onMenuItemClick:function(t){if("new-project"==t)window.location.reload();else if("fill-white"==t)this.$parent.fillScreenWhite();else if("fill-black"==t)this.$parent.fillScreenBlack();else if("fill-with-current-fill-style"==t)this.$parent.executeSampleScript("Fill with current fillStyle",{});else if("clear-current-layer"==t)this.$parent.clearCurrentLayer();else if("export"==t)this.$parent.showExportModal();else if("add-layer"==t)this.$parent.$refs.layersPanel.showAddLayerForm();else if("duplicate-layer"==t)this.$parent.$refs.layersPanel.showDuplicateLayerForm();else if("delete-layer"==t)this.$parent.deleteCurrentLayer();else if("new-script"==t)this.$parent.createNewScript();else if("grayscale"==t)this.$parent.executeSampleScript("Grayscale layer",{});else if("sepia"==t)this.$parent.executeSampleScript("Repaint with filter",{filter:"sepia(100%)"});else if("invert-colors"==t)this.$parent.executeSampleScript("Invert image colors",{});else{if("invert-alpha"!=t)return;this.$parent.executeSampleScript("Invert image alpha",{})}this.resetMenu()}}},L=S,F=(n("8d82"),Object(b["a"])(L,f,v,!1,null,"677876d1",null)),A=F.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("context")}}},[n("span",{staticClass:"panelTitle"},[t._v("Context")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.context,expression:"$parent.visiblePanels.context"}],staticClass:"panelBody"},[n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.resetContext()}}},[t._v("Reset context")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.saveContext()}}},[t._v("Save context")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.restoreContext()}}},[t._v("Restore context")])]),n("table",{staticClass:"smallTable contextPropertiesTable"},[n("tbody",[n("tr",[n("td",[t._v("fillStyle")]),n("td",[n("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.$parent.ctx.fillStyle}),n("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[t._v(t._s(t.$parent.ctx.fillStyle))])]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("fillStyle")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.fillStyle,expression:"$parent.ctx.fillStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("fillStyle")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("strokeStyle")]),n("td",[n("span",{staticClass:"colorSquare",style:"backgroundColor:"+t.$parent.ctx.strokeStyle}),n("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[t._v(t._s(t.$parent.ctx.strokeStyle))])]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("strokeStyle")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=t.$parent.ctx.strokeStyle,expression:"$parent.ctx.strokeStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("strokeStyle")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("font")]),n("td",[t._v(t._s(t.$parent.ctx.font))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("font")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"10px sans-serif"!=t.$parent.ctx.font,expression:"$parent.ctx.font != '10px sans-serif'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("font")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("textAlign")]),n("td",[t._v(t._s(t.$parent.ctx.textAlign))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textAlign")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"start"!=t.$parent.ctx.textAlign,expression:"$parent.ctx.textAlign != 'start'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textAlign")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("globalAlpha")]),n("td",[t._v(t._s(t.$parent.ctx.globalAlpha))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalAlpha")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.globalAlpha,expression:"$parent.ctx.globalAlpha != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalAlpha")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("globalCompositeOperation")]),n("td",[t._v(t._s(t.$parent.ctx.globalCompositeOperation))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("globalCompositeOperation")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"source-over"!=t.$parent.ctx.globalCompositeOperation,expression:"$parent.ctx.globalCompositeOperation != 'source-over'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("globalCompositeOperation")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("lineWidth")]),n("td",[t._v(t._s(t.$parent.ctx.lineWidth))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineWidth")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.$parent.ctx.lineWidth,expression:"$parent.ctx.lineWidth != '1'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineWidth")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("lineCap")]),n("td",[t._v(t._s(t.$parent.ctx.lineCap))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineCap")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"butt"!=t.$parent.ctx.lineCap,expression:"$parent.ctx.lineCap != 'butt'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineCap")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("lineJoin")]),n("td",[t._v(t._s(t.$parent.ctx.lineJoin))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineJoin")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"miter"!=t.$parent.ctx.lineJoin,expression:"$parent.ctx.lineJoin != 'miter'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineJoin")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("miterLimit")]),n("td",[t._v(t._s(t.$parent.ctx.miterLimit))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("miterLimit")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:10!=t.$parent.ctx.miterLimit,expression:"$parent.ctx.miterLimit != 10"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("miterLimit")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("transform")]),n("td",[t._v(t._s(t.$parent.ctx.transform))]),n("td",[n("IconEdit"),n("span",{directives:[{name:"show",rawName:"v-show",value:"matrix(1, 0, 0, 1, 0, 0)"!=t.$parent.ctx.transform,expression:"$parent.ctx.transform != 'matrix(1, 0, 0, 1, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetTransform()}}},[n("IconReset")],1)],1)]),n("tr",[n("td",[t._v("filter")]),n("td",[t._v(t._s(t.$parent.ctx.filter))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("filter")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"none"!=t.$parent.ctx.filter,expression:"$parent.ctx.filter != 'none'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("filter")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowBlur")]),n("td",[t._v(t._s(t.$parent.ctx.shadowBlur))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowBlur")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowBlur,expression:"$parent.ctx.shadowBlur != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowBlur")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowColor")]),n("td",[t._v(t._s(t.$parent.ctx.shadowColor))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowColor")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"rgba(0, 0, 0, 0)"!=t.$parent.ctx.shadowColor,expression:"$parent.ctx.shadowColor != 'rgba(0, 0, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowColor")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowOffsetX")]),n("td",[t._v(t._s(t.$parent.ctx.shadowOffsetX))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetX")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetX,expression:"$parent.ctx.shadowOffsetX != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetX")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("shadowOffsetY")]),n("td",[t._v(t._s(t.$parent.ctx.shadowOffsetY))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("shadowOffsetY")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=t.$parent.ctx.shadowOffsetY,expression:"$parent.ctx.shadowOffsetY != '0'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("shadowOffsetY")}}},[n("IconReset")],1)])]),t.$parent.ctx.lineDash?n("tr",[n("td",[t._v("lineDash")]),n("td",[t._v(t._s(t.$parent.ctx.lineDash))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDash")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDash.length,expression:"$parent.ctx.lineDash.length != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDash")}}},[n("IconReset")],1)])]):t._e(),n("tr",[n("td",[t._v("lineDashOffset")]),n("td",[t._v(t._s(t.$parent.ctx.lineDashOffset))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("lineDashOffset")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.$parent.ctx.lineDashOffset,expression:"$parent.ctx.lineDashOffset != 0"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("lineDashOffset")}}},[n("IconReset")],1)])]),n("tr",[n("td",[t._v("textBaseline")]),n("td",[t._v(t._s(t.$parent.ctx.textBaseline))]),n("td",[n("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(e){return t.editContextAttribute("textBaseline")}}},[n("IconEdit")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"alphabetic"!=t.$parent.ctx.textBaseline,expression:"$parent.ctx.textBaseline != 'alphabetic'"}],staticClass:"spanIcon",on:{click:function(e){return t.$parent.resetContextAttribute("textBaseline")}}},[n("IconReset")],1)])])])]),n("div",{staticClass:"spacing"})]),n("div",{staticClass:"modal fade",attrs:{id:"modalEditContextProperty",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"fillStyle"==t.currentAttribute,expression:"currentAttribute=='fillStyle'"}]},[t._v("fillStyle: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.fillStyle,expression:"newCtx.fillStyle"}],domProps:{value:t.newCtx.fillStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"fillStyle",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"strokeStyle"==t.currentAttribute,expression:"currentAttribute=='strokeStyle'"}]},[t._v("strokeStyle: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.strokeStyle,expression:"newCtx.strokeStyle"}],domProps:{value:t.newCtx.strokeStyle},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"strokeStyle",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"font"==t.currentAttribute,expression:"currentAttribute=='font'"}]},[t._v("font: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.font,expression:"newCtx.font"}],domProps:{value:t.newCtx.font},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"font",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"globalAlpha"==t.currentAttribute,expression:"currentAttribute=='globalAlpha'"}]},[t._v("globalAlpha: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalAlpha,expression:"newCtx.globalAlpha"}],domProps:{value:t.newCtx.globalAlpha},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"globalAlpha",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineWidth"==t.currentAttribute,expression:"currentAttribute=='lineWidth'"}]},[t._v("lineWidth: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineWidth,expression:"newCtx.lineWidth"}],domProps:{value:t.newCtx.lineWidth},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineWidth",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineCap"==t.currentAttribute,expression:"currentAttribute=='lineCap'"}]},[t._v(" lineCap: "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineCap,expression:"newCtx.lineCap"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"lineCap",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"butt"}},[t._v("butt")]),n("option",{attrs:{value:"round"}},[t._v("round")]),n("option",{attrs:{value:"square"}},[t._v("square")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineJoin"==t.currentAttribute,expression:"currentAttribute=='lineJoin'"}]},[t._v(" lineJoin: "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineJoin,expression:"newCtx.lineJoin"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"lineJoin",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"miter"}},[t._v("miter")]),n("option",{attrs:{value:"bevel"}},[t._v("bevel")]),n("option",{attrs:{value:"round"}},[t._v("round")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"filter"==t.currentAttribute,expression:"currentAttribute=='filter'"}]},[t._v("filter: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.filter,expression:"newCtx.filter"}],domProps:{value:t.newCtx.filter},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"filter",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowBlur"==t.currentAttribute,expression:"currentAttribute=='shadowBlur'"}]},[t._v("shadowBlur: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowBlur,expression:"newCtx.shadowBlur"}],domProps:{value:t.newCtx.shadowBlur},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowBlur",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowColor"==t.currentAttribute,expression:"currentAttribute=='shadowColor'"}]},[t._v("shadowColor: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowColor,expression:"newCtx.shadowColor"}],domProps:{value:t.newCtx.shadowColor},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowColor",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetX"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetX'"}]},[t._v("shadowOffsetX: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetX,expression:"newCtx.shadowOffsetX"}],domProps:{value:t.newCtx.shadowOffsetX},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetX",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetY"==t.currentAttribute,expression:"currentAttribute=='shadowOffsetY'"}]},[t._v("shadowOffsetY: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.shadowOffsetY,expression:"newCtx.shadowOffsetY"}],domProps:{value:t.newCtx.shadowOffsetY},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"shadowOffsetY",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineDash"==t.currentAttribute,expression:"currentAttribute=='lineDash'"}]},[t._v("lineDash: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashStr,expression:"newCtx.lineDashStr"}],domProps:{value:t.newCtx.lineDashStr},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashStr",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"lineDashOffset"==t.currentAttribute,expression:"currentAttribute=='lineDashOffset'"}]},[t._v("lineDashOffset: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.lineDashOffset,expression:"newCtx.lineDashOffset"}],domProps:{value:t.newCtx.lineDashOffset},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"lineDashOffset",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"textAlign"==t.currentAttribute,expression:"currentAttribute=='textAlign'"}]},[t._v(" textAlign: "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textAlign,expression:"newCtx.textAlign"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"textAlign",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"start"}},[t._v("start")]),n("option",{attrs:{value:"end"}},[t._v("end")]),n("option",{attrs:{value:"left"}},[t._v("left")]),n("option",{attrs:{value:"right"}},[t._v("right")]),n("option",{attrs:{value:"center"}},[t._v("center")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"miterLimit"==t.currentAttribute,expression:"currentAttribute=='miterLimit'"}]},[t._v("miterLimit: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.miterLimit,expression:"newCtx.miterLimit"}],domProps:{value:t.newCtx.miterLimit},on:{input:function(e){e.target.composing||t.$set(t.newCtx,"miterLimit",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"textBaseline"==t.currentAttribute,expression:"currentAttribute=='textBaseline'"}]},[t._v(" textBaseline: "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.textBaseline,expression:"newCtx.textBaseline"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"textBaseline",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"alphabetic"}},[t._v("alphabetic")]),n("option",{attrs:{value:"top"}},[t._v("top")]),n("option",{attrs:{value:"hanging"}},[t._v("hanging")]),n("option",{attrs:{value:"middle"}},[t._v("middle")]),n("option",{attrs:{value:"ideographic"}},[t._v("ideographic")]),n("option",{attrs:{value:"bottom"}},[t._v("bottom")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"globalCompositeOperation"==t.currentAttribute,expression:"currentAttribute=='globalCompositeOperation'"}]},[t._v(" globalCompositeOperation: "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newCtx.globalCompositeOperation,expression:"newCtx.globalCompositeOperation"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newCtx,"globalCompositeOperation",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"source-over"}},[t._v("source-over")]),n("option",{attrs:{value:"source-in"}},[t._v("source-in")]),n("option",{attrs:{value:"source-out"}},[t._v("source-out")]),n("option",{attrs:{value:"source-atop"}},[t._v("source-atop")]),n("option",{attrs:{value:"destination-over"}},[t._v("destination-over")]),n("option",{attrs:{value:"destination-in"}},[t._v("destination-in")]),n("option",{attrs:{value:"destination-out"}},[t._v("destination-out")]),n("option",{attrs:{value:"destination-atop"}},[t._v("destination-atop")]),n("option",{attrs:{value:"lighter"}},[t._v("lighter")]),n("option",{attrs:{value:"copy"}},[t._v("copy")]),n("option",{attrs:{value:"xor"}},[t._v("xor")]),n("option",{attrs:{value:"multiply"}},[t._v("multiply")]),n("option",{attrs:{value:"screen"}},[t._v("screen")]),n("option",{attrs:{value:"overlay"}},[t._v("overlay")]),n("option",{attrs:{value:"darken"}},[t._v("darken")]),n("option",{attrs:{value:"lighten"}},[t._v("lighten")]),n("option",{attrs:{value:"color-dodge"}},[t._v("color-dodge")]),n("option",{attrs:{value:"color-burn"}},[t._v("color-burn")]),n("option",{attrs:{value:"hard-light"}},[t._v("hard-light")]),n("option",{attrs:{value:"soft-light"}},[t._v("soft-light")]),n("option",{attrs:{value:"difference"}},[t._v("difference")]),n("option",{attrs:{value:"exclusion"}},[t._v("exclusion")]),n("option",{attrs:{value:"hue"}},[t._v("hue")]),n("option",{attrs:{value:"saturation"}},[t._v("saturation")]),n("option",{attrs:{value:"color"}},[t._v("color")]),n("option",{attrs:{value:"luminosity"}},[t._v("luminosity")])])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateContextAttribute()}}},[t._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit context attribute")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],k=(n("1276"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{fill:t.color,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])}),N=[],D={name:"IconEdit",props:{color:{type:String,default:"#000000"}}},P=D,$=Object(b["a"])(P,k,N,!1,null,"7486f52d",null),B=$.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",fill:"#0000aa"}})])},M=[],O={name:"IconReset",props:{}},T=O,U=Object(b["a"])(T,R,M,!1,null,"7df9adc1",null),G=U.exports,X={name:"ContextPanel",components:{IconEdit:B,IconReset:G},props:{},data:function(){return{currentAttribute:null,newCtx:{fillStyle:null,lineCap:"butt",lineJoin:"miter",textAlign:"start",textBaseline:"alphabetic",globalCompositeOperation:"source-over"}}},methods:{editContextAttribute:function(t){this.currentAttribute=t,this.loadContextAttributeValues()},loadContextAttributeValues:function(){this.newCtx.fillStyle=window.ctx.fillStyle,this.newCtx.strokeStyle=window.ctx.strokeStyle,this.newCtx.font=window.ctx.font,this.newCtx.globalAlpha=window.ctx.globalAlpha,this.newCtx.lineWidth=window.ctx.lineWidth,this.newCtx.lineCap=window.ctx.lineCap,this.newCtx.lineJoin=window.ctx.lineJoin,this.newCtx.filter=window.ctx.filter,this.newCtx.shadowBlur=window.ctx.shadowBlur,this.newCtx.shadowColor=window.ctx.shadowColor,this.newCtx.shadowOffsetX=window.ctx.shadowOffsetX,this.newCtx.shadowOffsetY=window.ctx.shadowOffsetY,this.newCtx.lineDashOffset=window.ctx.lineDashOffset,this.newCtx.textAlign=window.ctx.textAlign,this.newCtx.miterLimit=window.ctx.miterLimit,this.newCtx.textBaseline=window.ctx.textBaseline,this.newCtx.globalCompositeOperation=window.ctx.globalCompositeOperation,this.newCtx.lineDashStr="["+window.ctx.getLineDash().toString()+"]"},updateContextAttribute:function(){"fillStyle"==this.currentAttribute?window.ctx.fillStyle=this.newCtx.fillStyle:"strokeStyle"==this.currentAttribute?window.ctx.strokeStyle=this.newCtx.strokeStyle:"font"==this.currentAttribute?window.ctx.font=this.newCtx.font:"globalAlpha"==this.currentAttribute?window.ctx.globalAlpha=this.newCtx.globalAlpha:"lineWidth"==this.currentAttribute?window.ctx.lineWidth=this.newCtx.lineWidth:"lineCap"==this.currentAttribute?window.ctx.lineCap=this.newCtx.lineCap:"lineJoin"==this.currentAttribute?window.ctx.lineJoin=this.newCtx.lineJoin:"filter"==this.currentAttribute?window.ctx.filter=this.newCtx.filter:"shadowBlur"==this.currentAttribute?window.ctx.shadowBlur=this.newCtx.shadowBlur:"shadowColor"==this.currentAttribute?window.ctx.shadowColor=this.newCtx.shadowColor:"shadowOffsetX"==this.currentAttribute?window.ctx.shadowOffsetX=this.newCtx.shadowOffsetX:"shadowOffsetY"==this.currentAttribute?window.ctx.shadowOffsetY=this.newCtx.shadowOffsetY:"lineDashOffset"==this.currentAttribute?window.ctx.lineDashOffset=this.newCtx.lineDashOffset:"textAlign"==this.currentAttribute?window.ctx.textAlign=this.newCtx.textAlign:"miterLimit"==this.currentAttribute?window.ctx.miterLimit=this.newCtx.miterLimit:"textBaseline"==this.currentAttribute?window.ctx.textBaseline=this.newCtx.textBaseline:"globalCompositeOperation"==this.currentAttribute?window.ctx.globalCompositeOperation=this.newCtx.globalCompositeOperation:"lineDash"==this.currentAttribute&&window.ctx.setLineDash(this.newCtx.lineDashStr.replaceAll("[","").replaceAll("]","").split(",")),this.$parent.updateCurrentContextDetails()}}},W=X,Y=Object(b["a"])(W,I,E,!1,null,"76c8088e",null),z=Y.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("layers")}}},[n("span",{staticClass:"panelTitle"},[t._v("Layers")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.layers,expression:"$parent.visiblePanels.layers"}],staticClass:"panelBody"},[n("table",{staticClass:"smallTable"},[t._m(0),n("tbody",t._l(t.$parent.canvasLayers,(function(e){return n("tr",{key:e.name,class:{selectedLayer:null!=t.$parent.currentLayer&&e.name==t.$parent.currentLayer.name},on:{click:function(n){return t.$parent.setCurrentLayer(e.name)}}},[n("td",[n("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.visible,expression:"layer.visible"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_layer_visible_"+e.name},domProps:{checked:Array.isArray(e.visible)?t._i(e.visible,null)>-1:e.visible},on:{change:[function(n){var a=e.visible,r=n.target,i=!!r.checked;if(Array.isArray(a)){var o=null,s=t._i(a,o);r.checked?s<0&&t.$set(e,"visible",a.concat([o])):s>-1&&t.$set(e,"visible",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(e,"visible",i)},function(e){return t.$parent.updateCanvasAllLayers()}]}}),n("label",{staticClass:"custom-control-label",attrs:{for:"_layer_visible_"+e.name}})])]),n("td",[n("a",[t._v(t._s(e.name))])]),n("td",[t._v(t._s(e.alpha))]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.$parent.setCurrentLayer(e.name)}}},[t._v("select")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditLayer"},on:{click:function(n){return t.editLayer(e)}}},[t._v("edit")])]),n("td",[n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(n){return t.$parent.deleteLayer(e)}}},[t._v("delete")])])])})),0)]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddLayer"},on:{click:function(e){return t.showAddLayerForm()}}},[t._v("Add layer")]),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalDuplicateLayer"},on:{click:function(e){return t.showDuplicateLayerForm()}}},[t._v("Duplicate")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveLayerUp()}}},[n("IconUp")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$parent.moveLayerDown()}}},[n("IconDown")],1)])])]),n("div",{staticClass:"modal fade",attrs:{id:"modalEditLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(1),n("div",{staticClass:"modal-body"},[n("div",[t._v("name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editedLayer.name,expression:"editedLayer.name"}],domProps:{value:t.editedLayer.name},on:{input:function(e){e.target.composing||t.$set(t.editedLayer,"name",e.target.value)}}})]),n("div",[t._v("alpha: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editedLayer.alpha,expression:"editedLayer.alpha"}],domProps:{value:t.editedLayer.alpha},on:{input:function(e){e.target.composing||t.$set(t.editedLayer,"alpha",e.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateLayer()}}},[t._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),n("div",{staticClass:"modal fade",attrs:{id:"modalAddLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(2),n("div",{staticClass:"modal-body"},[n("div",[t._v("name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newLayerForm.name,expression:"newLayerForm.name"}],domProps:{value:t.newLayerForm.name},on:{input:function(e){e.target.composing||t.$set(t.newLayerForm,"name",e.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.addLayer()}}},[t._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),n("div",{staticClass:"modal fade",attrs:{id:"modalDuplicateLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(3),n("div",{staticClass:"modal-body"},[n("div",[t._v("New layer name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.duplicateLayerForm.newLayerName,expression:"duplicateLayerForm.newLayerName"}],domProps:{value:t.duplicateLayerForm.newLayerName},on:{input:function(e){e.target.composing||t.$set(t.duplicateLayerForm,"newLayerName",e.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.duplicateCurrentLayer()}}},[t._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("visible")]),n("th",[t._v("name")]),n("th",[t._v("alpha")]),n("th"),n("th"),n("th")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit layer")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add layer")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Duplicate layer")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}})])},q=[],J={name:"IconUp",props:{}},K=J,Q=Object(b["a"])(K,H,q,!1,null,"fc87067a",null),Z=Q.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}})])},et=[],nt={name:"IconDown",props:{}},at=nt,rt=Object(b["a"])(at,tt,et,!1,null,"14a1ec91",null),it=rt.exports,ot={name:"LayersPanel",components:{IconUp:Z,IconDown:it},props:{},data:function(){return{originalLayer:null,editedLayer:{name:null,alpha:null},newLayerForm:{name:null},duplicateLayerForm:{newLayerName:null}}},methods:{showAddLayerForm:function(){this.newLayerForm.name="NewLayer",window.$("#modalAddLayer").modal("show")},addLayer:function(){this.$parent.addLayerWithName(this.newLayerForm.name),this.$parent.setCurrentLayer(this.newLayerForm.name)},showDuplicateLayerForm:function(){this.duplicateLayerForm.newLayerName="LayerCopy",window.$("#modalDuplicateLayer").modal("show")},duplicateCurrentLayer:function(){this.$parent.duplicateLayer(this.$parent.currentLayer,this.duplicateLayerForm.newLayerName)},editLayer:function(t){this.originalLayer=t,this.editedLayer.name=this.originalLayer.name,this.editedLayer.alpha=this.originalLayer.alpha},updateLayer:function(){this.originalLayer.name=this.editedLayer.name,this.originalLayer.alpha=parseFloat(this.editedLayer.alpha),this.$parent.updateCurrentLayerCanvas(),this.$parent.updateCanvasAllLayers()}}},st=ot,lt=Object(b["a"])(st,V,j,!1,null,"fd21fbbc",null),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"panelHeader",on:{click:function(e){return t.$parent.togglePanelVisibility("events")}}},[n("span",{staticClass:"panelTitle"},[t._v("Events")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.visiblePanels.events,expression:"$parent.visiblePanels.events"}],staticClass:"panelBody"},[n("table",{staticClass:"smallTable"},[t._m(0),n("tbody",t._l(t.$parent.customEvents,(function(e){return n("tr",{key:e.name},[n("td",[n("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"customEvent.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_custom_event_enabled_"+e.name},domProps:{checked:Array.isArray(e.enabled)?t._i(e.enabled,null)>-1:e.enabled},on:{change:function(n){var a=e.enabled,r=n.target,i=!!r.checked;if(Array.isArray(a)){var o=null,s=t._i(a,o);r.checked?s<0&&t.$set(e,"enabled",a.concat([o])):s>-1&&t.$set(e,"enabled",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(e,"enabled",i)}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"_custom_event_enabled_"+e.name}})])]),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.type))]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(n){return t.executeCustomEvent(e)}}},[t._v("execute")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditCustomEvent"},on:{click:function(n){return t.showEditCustomEventForm(e)}}},[t._v("edit")])]),n("td",[n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(n){return t.deleteCustomEvent(e)}}},[t._v("delete")])])])})),0)]),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddCustomEvent"},on:{click:function(e){return t.showAddCustomEventForm()}}},[t._v("Add event")])])]),n("div",{staticClass:"modal fade",attrs:{id:"modalAddCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(1),n("div",{staticClass:"modal-body"},[n("div",[t._v("Name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.name,expression:"newEventForm.name"}],domProps:{value:t.newEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.newEventForm,"name",e.target.value)}}})]),n("div",[t._v(" Type: "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.type,expression:"newEventForm.type"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newEventForm,"type",e.target.multiple?n:n[0])}}},t._l(t.customEventTypes,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)]),n("div",[t._v("Script:")]),n("div",{staticClass:"divSourceCodeWithHelp"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newEventForm.sourceCode,expression:"newEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:t.newEventForm.sourceCode},on:{input:function(e){e.target.composing||t.$set(t.newEventForm,"sourceCode",e.target.value)}}}),t._m(2)])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.addCustomEvent()}}},[t._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]),n("div",{staticClass:"modal fade",attrs:{id:"modalEditCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(3),n("div",{staticClass:"modal-body"},[n("div",[t._v("Name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.name,expression:"editEventForm.name"}],domProps:{value:t.editEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"name",e.target.value)}}})]),n("div",[t._v(" Type: "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.type,expression:"editEventForm.type"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editEventForm,"type",e.target.multiple?n:n[0])}}},t._l(t.customEventTypes,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)]),n("div",[t._v("Script:")]),n("div",{staticClass:"divSourceCodeWithHelp"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.sourceCode,expression:"editEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:t.editEventForm.sourceCode},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"sourceCode",e.target.value)}}}),t._m(4)]),n("div",{staticClass:"custom-control custom-switch",staticStyle:{"margin-top":"10px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.enabled,expression:"editEventForm.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_edit_custom_event_enabled_"+t.editEventForm.name},domProps:{checked:Array.isArray(t.editEventForm.enabled)?t._i(t.editEventForm.enabled,null)>-1:t.editEventForm.enabled},on:{change:function(e){var n=t.editEventForm.enabled,a=e.target,r=!!a.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);a.checked?o<0&&t.$set(t.editEventForm,"enabled",n.concat([i])):o>-1&&t.$set(t.editEventForm,"enabled",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.editEventForm,"enabled",r)}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"_edit_custom_event_enabled_"+t.editEventForm.name}},[t._v("Enabled")])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.updateCustomEvent()}}},[t._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])},pt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("enabled")]),n("th",[t._v("name")]),n("th",[t._v("type")]),n("th",[t._v("execute")]),n("th",[t._v("edit")]),n("th",[t._v("delete")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Add event")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("b",[t._v("To get current mouse position:")])]),n("div",[t._v("app.mousePosition.x")]),n("div",[t._v("app.mousePosition.y")]),n("div",[n("b",[t._v("To get previous mouse position:")])]),n("div",[t._v("app.previousMousePosition.x")]),n("div",[t._v("app.previousMousePosition.y")]),n("div",[n("b",[t._v("To get last mouse down position:")])]),n("div",[t._v("app.mouseDownPosition.x")]),n("div",[t._v("app.mouseDownPosition.y")]),n("div",[n("b",[t._v("To detect if mouse button is down:")])]),n("div",[t._v("app.isMouseDown")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Edit event")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("b",[t._v("To get current mouse position:")])]),n("div",[t._v("app.mousePosition.x")]),n("div",[t._v("app.mousePosition.y")]),n("div",[n("b",[t._v("To get previous mouse position:")])]),n("div",[t._v("app.previousMousePosition.x")]),n("div",[t._v("app.previousMousePosition.y")]),n("div",[n("b",[t._v("To get last mouse down position:")])]),n("div",[t._v("app.mouseDownPosition.x")]),n("div",[t._v("app.mouseDownPosition.y")]),n("div",[n("b",[t._v("To detect if mouse button is down:")])]),n("div",[t._v("app.isMouseDown")])])}],dt={name:"EventsPanel",components:{},props:{},data:function(){return{customEventTypes:["mouseDown","mouseUp","mouseMove","animationFrame"],originalEvent:null,editEventForm:{name:null,type:null,enabled:null,sourceCode:null},newEventForm:{name:null,type:null,enabled:null,sourceCode:null}}},methods:{showAddCustomEventForm:function(){this.newEventForm.name="Event 01",this.newEventForm.type=this.customEventTypes[0],this.newEventForm.sourceCode="",this.newEventForm.enabled=!0},addCustomEvent:function(){var t={name:this.newEventForm.name,type:this.newEventForm.type,enabled:this.newEventForm.enabled,func:new Function("params",this.newEventForm.sourceCode),source:this.newEventForm.sourceCode};this.$parent.customEvents.push(t)},showEditCustomEventForm:function(t){this.originalEvent=t,this.editEventForm.name=t.name,this.editEventForm.type=t.type,this.editEventForm.enabled=t.enabled,this.editEventForm.sourceCode=t.source},updateCustomEvent:function(){this.originalEvent.name=this.editEventForm.name,this.originalEvent.type=this.editEventForm.type,this.originalEvent.source=this.editEventForm.sourceCode,this.originalEvent.enabled=this.editEventForm.enabled,this.originalEvent.func=new Function("params",this.editEventForm.sourceCode)},executeCustomEvent:function(t){t.func(),this.$parent.updateCanvasAllLayers(),this.$parent.updateCurrentLayerCanvas()},deleteCustomEvent:function(t){this.$parent.deleteCustomEvent(t)}}},mt=dt,ht=(n("7f64"),Object(b["a"])(mt,ut,pt,!1,null,"509b1541",null)),ft=ht.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[n("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),n("path",{attrs:{fill:t.color,d:"M7 16c.55 0 1 .45 1 1 0 1.1-.9 2-2 2-.17 0-.33-.02-.5-.05.31-.55.5-1.21.5-1.95 0-.55.45-1 1-1M18.67 3c-.26 0-.51.1-.71.29L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41l-1.34-1.34c-.2-.2-.45-.29-.7-.29zM7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3z"}})])},xt=[],gt={name:"IconBrush",props:{color:{type:String,default:"#000000"}}},yt=gt,wt=Object(b["a"])(yt,vt,xt,!1,null,"ed10066c",null),bt=wt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#00000000"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"8",stroke:"white","stroke-width":"3",fill:"#00000000"}})])},_t=[],St={name:"IconCircle",props:{color:{type:String,default:"#000000"}}},Lt=St,Ft=Object(b["a"])(Lt,Ct,_t,!1,null,"245b1e52",null),At=Ft.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[n("rect",{attrs:{x:"3",y:"3",width:"12",height:"12","stroke-width":"2",stroke:"white",fill:"#00000000"}})])},Et=[],kt={name:"IconRectangle",props:{color:{type:String,default:"#000000"}}},Nt=kt,Dt=Object(b["a"])(Nt,It,Et,!1,null,"668816fc",null),Pt=Dt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"black",width:"18px",height:"18px"}},[n("line",{attrs:{x1:"3",y1:"3",x2:"15",y2:"15",stroke:"white","stroke-width":"2"}})])},Bt=[],Rt={name:"IconLine",props:{color:{type:String,default:"#000000"}}},Mt=Rt,Ot=Object(b["a"])(Mt,$t,Bt,!1,null,"7cbee4ac",null),Tt=Ot.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[n("ellipse",{attrs:{cx:"9",cy:"9",rx:"7",ry:"5",stroke:"white","stroke-width":"2",fill:"#00000000"}})])},Gt=[],Xt={name:"IconEllipse",props:{color:{type:String,default:"#000000"}}},Wt=Xt,Yt=Object(b["a"])(Wt,Ut,Gt,!1,null,"5fb03d42",null),zt=Yt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1px",height:"18px",fill:"#00000000"}})},jt=[],Ht={name:"IconNone",props:{color:{type:String,default:"#000000"}}},qt=Ht,Jt=Object(b["a"])(qt,Vt,jt,!1,null,"ab28acae",null),Kt=Jt.exports,Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"12px",height:"12px"}},[n("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),n("path",{attrs:{fill:t.color,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}})])},Zt=[],te={name:"IconExecute",props:{color:{type:String,default:"#000000"}}},ee=te,ne=Object(b["a"])(ee,Qt,Zt,!1,null,"e96ec450",null),ae=ne.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[n("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),n("path",{attrs:{fill:t.color,d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}})])},ie=[],oe={name:"IconDonate",props:{color:{type:String,default:"#000000"}}},se=oe,le=Object(b["a"])(se,re,ie,!1,null,"23df20ea",null),ce=le.exports,ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{fill:t.color,d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])},pe=[],de={name:"IconBack",props:{color:{type:String,default:"#000000"}}},me=de,he=Object(b["a"])(me,ue,pe,!1,null,"37a9ab3e",null),fe=he.exports,ve={name:"Main",components:{MainMenu:A,IconEdit:B,IconBrush:bt,IconCircle:At,IconRectangle:Pt,IconLine:Tt,IconEllipse:zt,IconNone:Kt,IconExecute:ae,IconDonate:ce,IconBack:fe,ContextPanel:z,LayersPanel:ct,EventsPanel:ft},methods:{loadFont:function(){this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var t=this.fontPanelForm.fontURL,e="url(".concat(t,")"),n=new FontFace(this.fontPanelForm.fontName,e),a=this;n.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t};a.fonts.push(e)}))},onFontUpload:function(t){var e=t.target.files[0],n=URL.createObjectURL(e),a="url(".concat(n,")");this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var r=new FontFace(this.fontPanelForm.fontName,a),i=this;r.load().then((function(t){document.fonts.add(t);var e={name:t.family,font:t};i.fonts.push(e)}))},setCurrentTool:function(t){this.currentTool=t,"pencil"==t?(window.ctx.lineWidth=3,window.ctx.filter="none"):"brush"==t&&(window.ctx.lineWidth=20,window.ctx.filter="blur(3px)"),this.updateCurrentContextDetails()},onCanvasMouseUp:function(t){this.isMouseDown=!1;var e=!1;"line"==this.currentTool?(this.drawLine(),e=!0):"rectangle"==this.currentTool?(this.drawRect(),e=!0):"circle"==this.currentTool?(this.drawCircle(),e=!0):"ellipse"==this.currentTool&&(this.drawEllipse(),e=!0);for(var n=0;n<this.customEvents.length;n++){var a=this.customEvents[n];"mouseUp"==a.type&&a.enabled&&(a.func(),e=!0)}e&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseDown:function(t){this.isMouseDown=!0,this.updateMouseDownPosition(t);var e=!1;"pencil"!=this.currentTool&&"brush"!=this.currentTool||(this.paintBrush(),e=!0);for(var n=0;n<this.customEvents.length;n++){var a=this.customEvents[n];"mouseDown"==a.type&&a.enabled&&(a.func(),e=!0)}e&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseMove:function(t){this.updateMousePosition(t),this.isMouseDown&&("pencil"!=this.currentTool&&"brush"!=this.currentTool||this.paintBrush());for(var e=0;e<this.customEvents.length;e++){var n=this.customEvents[e];"mouseMove"==n.type&&n.enabled&&n.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()},drawLine:function(){var t=window.ctx;t.beginPath(),t.moveTo(this.mouseDownPosition.x,this.mouseDownPosition.y),t.lineTo(this.mousePosition.x,this.mousePosition.y),t.stroke()},drawRect:function(){var t=window.ctx;t.beginPath(),t.rect(this.mouseDownPosition.x,this.mouseDownPosition.y,this.mousePosition.x-this.mouseDownPosition.x,this.mousePosition.y-this.mouseDownPosition.y),t.stroke()},drawCircle:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,n=Math.abs(this.mousePosition.x-this.mouseDownPosition.x),a=Math.abs(this.mousePosition.y-this.mouseDownPosition.y),r=Math.min(n,a)/2,i=window.ctx;i.beginPath(),i.arc(t,e,r,0,2*Math.PI),i.stroke()},drawEllipse:function(){var t=(this.mousePosition.x+this.mouseDownPosition.x)/2,e=(this.mousePosition.y+this.mouseDownPosition.y)/2,n=Math.abs(this.mousePosition.x-this.mouseDownPosition.x)/2,a=Math.abs(this.mousePosition.y-this.mouseDownPosition.y)/2,r=0,i=0,o=2*Math.PI,s=!1,l=window.ctx;l.beginPath(),l.ellipse(t,e,n,a,r,i,o,s),l.stroke()},paintBrush:function(){ctx.save(),ctx.beginPath(),ctx.lineCap="round",ctx.moveTo(this.previousMousePosition.x,this.previousMousePosition.y),ctx.lineTo(this.mousePosition.x,this.mousePosition.y),ctx.stroke(),ctx.restore()},updateMousePosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer")),this.previousMousePosition.x=this.mousePosition.x,this.previousMousePosition.y=this.mousePosition.y,this.mousePosition.x=t.clientX-e.offsetLeft,this.mousePosition.y=t.clientY-e.offsetTop},updateMouseDownPosition:function(t){var e=null;"canvasAllLayers"==t.target.id?e=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==t.target.id&&(e=document.getElementById("canvasCurrentLayer")),this.mouseDownPosition.x=t.clientX-e.offsetLeft,this.mouseDownPosition.y=t.clientY-e.offsetTop},editGlobalVariable:function(t){var e=prompt("New value",""),n=prompt("New type","number");"number"==n&&(e=Number(e)),this.globalVariables[t]=e,this.$forceUpdate()},deleteGlobalVariable:function(t){delete this.globalVariables[t],this.$forceUpdate()},popupAddGlobalVariable:function(){var t=prompt("Variable name",""),e=prompt("Type","number"),n=prompt("Value","");"number"==e&&(n=Number(n)),this.addGlobalVariable(t,n),this.$forceUpdate()},addGlobalVariable:function(t,e){this.globalVariables[t]=e},combineLayers:function(t,e){for(var n=this.getLayerByName(t),a=n.canvas.getContext("2d"),r=a.getImageData(0,0,600,400),i=this.getLayerByName(e),o=i.canvas.getContext("2d"),s=o.getImageData(0,0,600,400),l=0;l<r.data.length;l+=4)r.data[l+3]=r.data[l+3]*(s.data[l+3]/255);a.putImageData(r,0,0)},updateCanvasAllLayers:function(){var t=document.getElementById("canvasAllLayers").getContext("2d");t.save(),t.clearRect(0,0,600,400),this.drawTiledBackground(t),this.drawAllLayers(t),t.restore()},updateCurrentLayerCanvas:function(){if(null!=this.currentLayer){var t=document.getElementById("canvasCurrentLayer").getContext("2d");this.drawTiledBackground(t),t.save(),t.globalAlpha=this.currentLayer.alpha,t.drawImage(this.currentLayer.canvas,0,0),t.restore()}},clearCurrentLayer:function(){ctx.clearRect(0,0,600,400),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},clearFilters:function(){ctx.filter="none",this.updateCurrentContextDetails()},saveContext:function(){ctx.save()},restoreContext:function(){ctx.restore(),this.updateCurrentContextDetails()},clip:function(){ctx.clip()},resetTransform:function(){ctx.setTransform(1,0,0,1,0,0),this.updateCurrentContextDetails()},resetContextAttribute:function(t){var e=window.ctx;"fillStyle"==t?e.fillStyle="#000000":"strokeStyle"==t?e.strokeStyle="#000000":"font"==t?e.font="10px sans-serif":"globalAlpha"==t?e.globalAlpha="1":"lineWidth"==t?e.lineWidth="1":"lineCap"==t?e.lineCap="butt":"lineJoin"==t?e.lineJoin="miter":"filter"==t?e.filter="none":"shadowBlur"==t?e.shadowBlur="0":"shadowColor"==t?e.shadowColor="rgba(0, 0, 0, 0)":"shadowOffsetX"==t?e.shadowOffsetX="0":"shadowOffsetY"==t?e.shadowOffsetY="0":"lineDashOffset"==t?e.lineDashOffset=0:"textAlign"==t?e.textAlign="start":"miterLimit"==t?e.miterLimit=10:"textBaseline"==t?e.textBaseline="alphabetic":"globalCompositeOperation"==t?e.globalCompositeOperation="source-over":"lineDash"==t&&e.setLineDash([]),this.updateCurrentContextDetails()},buildBackgroundCanvas:function(){var t=document.createElement("canvas");t.width=600,t.height=400;var e=t.getContext("2d");e.clearRect(0,0,600,400);for(var n=!0,a=!0,r=10,i=0;i<600;i+=r){a=n;for(var o=0;o<600;o+=r)e.fillStyle=a?"#cccccc":"#eeeeee",e.fillRect(i,o,r,r),a=!a;n=!n}return t},addLayerWithName:function(t){var e=document.createElement("canvas");e.width=600,e.height=400,e.getContext("2d").clearRect(0,0,600,400);var n={name:t,alpha:1,canvas:e,visible:!0};this.canvasLayers.push(n)},duplicateCurrentLayer:function(){this.duplicateLayer(this.currentLayer)},duplicateLayer:function(t,e){null==e&&(e=prompt("New layer name","")),"string"==typeof t&&(t=this.getLayerByName(t));var n=document.createElement("canvas");n.width=600,n.height=400;var a=n.getContext("2d");a.drawImage(t.canvas,0,0);var r={name:e,alpha:t.alpha,canvas:n,visible:t.visible};this.canvasLayers.push(r)},deleteCurrentLayer:function(){this.deleteLayer(this.currentLayer)},deleteLayerByName:function(t){this.deleteLayer(this.getLayerByName(t))},deleteLayer:function(t){var e=this.getLayerIndex(t);this.canvasLayers.splice(e,1),t==this.currentLayer&&this.canvasLayers.length>0&&this.setCurrentLayer(this.canvasLayers[0].name),this.updateCanvasAllLayers()},deleteCustomEvent:function(t){var e=this.getCustomEventIndex(t);this.customEvents.splice(e,1)},renderLayerToContext:function(t,e){e.save(),e.globalAlpha=t.alpha,e.drawImage(t.canvas,0,0),e.restore()},setCurrentLayer:function(t){var e=this.getLayerByName(t);null!=e&&(this.currentLayer=e,window.ctx=e.canvas.getContext("2d"),this.updateCurrentContextDetails()),this.updateCurrentLayerCanvas()},getLayerByName:function(t){for(var e=0;e<this.canvasLayers.length;e++){var n=this.canvasLayers[e];if(n.name==t)return n}return null},getCurrentLayerIndex:function(){for(var t=0;t<this.canvasLayers.length;t++){var e=this.canvasLayers[t];if(e==this.currentLayer)return t}return null},getLayerIndex:function(t){for(var e=0;e<this.canvasLayers.length;e++){var n=this.canvasLayers[e];if(n==t)return e}return null},getCustomEventIndex:function(t){for(var e=0;e<this.customEvents.length;e++){var n=this.customEvents[e];if(n.name==t.name)return e}return null},getCurrentLayer:function(){return this.currentLayer},getCurrentCanvas:function(){return this.getCurrentLayer().canvas},getCurrentContext:function(){return this.getCurrentCanvas().getContext("2d")},updateCurrentContextDetails:function(){var t=null;null!=this.currentLayer&&(t=this.currentLayer.canvas,this.ctx.fillStyle=t.getContext("2d").fillStyle,this.ctx.strokeStyle=t.getContext("2d").strokeStyle,this.ctx.lineWidth=t.getContext("2d").lineWidth,this.ctx.lineCap=t.getContext("2d").lineCap,this.ctx.lineJoin=t.getContext("2d").lineJoin,this.ctx.miterLimit=t.getContext("2d").miterLimit,this.ctx.font=t.getContext("2d").font,this.ctx.textAlign=t.getContext("2d").textAlign,this.ctx.globalAlpha=t.getContext("2d").globalAlpha,this.ctx.globalCompositeOperation=t.getContext("2d").globalCompositeOperation,this.ctx.transform=t.getContext("2d").getTransform(),this.ctx.lineDash=t.getContext("2d").getLineDash(),this.ctx.filter=t.getContext("2d").filter,this.ctx.shadowBlur=t.getContext("2d").shadowBlur,this.ctx.shadowColor=t.getContext("2d").shadowColor,this.ctx.shadowOffsetX=t.getContext("2d").shadowOffsetX,this.ctx.shadowOffsetY=t.getContext("2d").shadowOffsetY,this.ctx.lineDashOffset=t.getContext("2d").lineDashOffset,this.ctx.textBaseline=t.getContext("2d").textBaseline)},executeSavedScript:function(t,e){for(var n=0;n<this.savedScripts.length;n++)if(this.savedScripts[n].name==t){null==e&&(e={});var a=this.savedScripts[n].func(e);return this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),a}},executeEditedSampleScript:function(){var t=this.editedSampleScript,e=new Function("params",t),n={};e(n),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScript:function(t,e){for(var n=0;n<this.allSampleScripts.length;n++)this.allSampleScripts[n].name==t&&(null==e&&(e={}),this.allSampleScripts[n].func(e));this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},deleteSavedScript:function(t){for(var e=0;e<this.savedScripts.length;e++)this.savedScripts[e].name==t&&this.savedScripts.splice(e,1)},loadSavedScript:function(t){for(var e=0;e<this.savedScripts.length;e++)if(this.savedScripts[e].name==t)return document.getElementById("sourceCode").value=this.savedScripts[e].source,void(this.currentScriptName=t)},loadSampleScript:function(t){this.currentScriptName=null;for(var e=0;e<this.sampleScripts.length;e++)this.sampleScripts[e].name==t&&(document.getElementById("sourceCode").value=this.sampleScripts[e].source)},selectSampleScript:function(t){for(var e=0;e<this.sampleScripts.length;e++)this.sampleScripts[e].name==t&&(this.selectedSampleScript=this.sampleScripts[e],this.editedSampleScript=this.selectedSampleScript.source)},unselectSampleScript:function(){this.selectedSampleScript=null},copySampleSourceCode:function(){var t=document.createRange();t.selectNode(document.getElementById("selectedSampleScriptSourceCode")),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()},executeScript:function(){var t=document.getElementById("sourceCode").value;this.dinamicFunction=new Function("params",t);var e={};this.dinamicFunction(e),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},createNewScript:function(){var t=prompt("Script name",""),e="",n={name:t,func:new Function("params",e),source:e};this.savedScripts.push(n)},saveSampleScriptAs:function(){var t=this.newScriptName,e=this.editedSampleScript,n={name:t,func:new Function("params",e),source:e};this.savedScripts.push(n),window.$("#modalSaveSampleScriptAs").modal("hide")},newScript:function(){this.currentScriptName=null,document.getElementById("sourceCode").value=""},saveScriptAs:function(){this.currentScriptName=prompt("Script name",""),this.saveScript()},saveScript:function(){null!=this.currentScriptName&&""!=this.currentScriptName||(this.currentScriptName=prompt("Script name",""));for(var t=document.getElementById("sourceCode").value,e={name:this.currentScriptName,func:new Function("params",t),source:t},n=0;n<this.savedScripts.length;n++)if(this.savedScripts[n].name==this.currentScriptName)return void(this.savedScripts[n]=e);this.savedScripts.push(e)},moveLayerUp:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t-1),this.updateCanvasAllLayers()},moveLayerDown:function(){var t=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,t,t+1),this.updateCanvasAllLayers()},arrayMove:function(t,e,n){var a=t[e];t.splice(e,1),t.splice(n,0,a)},saveScriptsToLocalStorage:function(){localStorage.savedScripts=JSON.stringify(this.savedScripts)},loadScriptsFromLocalStorage:function(){this.savedScripts=JSON.parse(localStorage.savedScripts);for(var t=0;t<this.savedScripts.length;t++){var e=this.savedScripts[t];e.func=new Function("params",e.source)}},filterSampleScripts:function(){this.sampleScripts=p(this.sampleScriptsFilter.type,this.sampleScriptsFilter.text),this.numFilteredSampleScripts=this.sampleScripts.length},clearSearch:function(){this.sampleScriptsFilter.type="",this.sampleScriptsFilter.text="",this.filterSampleScripts(),this.numFilteredSampleScripts=this.sampleScripts.length},resetContext:function(){ctx.fillStyle="#000000",ctx.strokeStyle="#000000",ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.font="10px sans-serif",ctx.textAlign="start",ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.filter="none",ctx.shadowBlur=0,ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineDashOffset=0,ctx.textBaseline="alphabetic",ctx.setTransform(1,0,0,1,0,0),ctx.setLineDash([]),this.updateCurrentContextDetails()},fillScreenWhite:function(){this.executeSampleScript("Fill screen white")},fillScreenBlack:function(){this.executeSampleScript("Fill screen black")},onImageUpload:function(t){var e=t.target.files[0],n={filename:e.name,url:URL.createObjectURL(e)};this.images.push(n)},repaintCurrentLayer:function(){this.executeSampleScript("Repaint")},togglePanelVisibility:function(t){this.visiblePanels[t]=!this.visiblePanels[t]},log:function(t){this.logs.push(t)},clearLogs:function(){this.logs=[]},drawImageToCurrentLayer:function(t){var e=new Image;e.src=t,ctx.drawImage(e,0,0),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},exportCanvas:function(){"FULL_CANVAS"==this.exportConfigForm.type?this.exportCanvasAllLayers():"CROP"==this.exportConfigForm.type?this.exportCanvasAllLayersCropped():"CROP_AT"==this.exportConfigForm.type&&this.exportCanvasAllLayersCroppedAt()},exportCanvasAllLayers:function(){var t=document.createElement("canvas");t.width=600,t.height=400;var e=t.getContext("2d");this.drawAllLayers(e);var n=t.toDataURL("image/png");window.open(n)},exportCanvasAllLayersCropped:function(){var t=document.createElement("canvas");t.width=600,t.height=400;var e=t.getContext("2d");this.drawAllLayers(e);var n=h.crop(t),a=n.toDataURL("image/png");window.open(a)},exportCanvasAllLayersCroppedAt:function(){var t=document.createElement("canvas");t.width=600,t.height=400;var e=t.getContext("2d");this.drawAllLayers(e);var n=h.cropAt(t,this.exportConfigForm.cropStartX,this.exportConfigForm.cropStartY,this.exportConfigForm.cropEndX,this.exportConfigForm.cropEndY),a=n.toDataURL("image/png");window.open(a)},drawAllLayers:function(t){for(var e=this.canvasLayers.length-1;e>=0;e--){var n=this.canvasLayers[e];n.visible&&(t.save(),t.globalAlpha=n.alpha,t.drawImage(n.canvas,0,0),t.restore())}},drawTiledBackground:function(t){t.save(),t.globalAlpha=1,t.drawImage(this.backgroundCanvas,0,0),t.restore()},loop:function(){for(var t=0;t<this.customEvents.length;t++){var e=this.customEvents[t];"animationFrame"==e.type&&e.enabled&&e.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas(),window.requestAnimationFrame(this.loop)},showExportModal:function(){window.$("#modalExport").modal("show")},showModalSaveSampleScriptAs:function(){this.newScriptName="",window.$("#modalSaveSampleScriptAs").modal("show")}},data:function(){return{currentScriptName:null,newScriptName:"",dinamicFunction:new Function("params",""),savedScripts:[],sampleScripts:[],allSampleScripts:[],numSampleScripts:null,numFilteredSampleScripts:null,selectedSampleScript:null,editedSampleScript:"",canvasLayers:[],backgroundCanvas:null,globalVariables:{},viewType:"MAIN_CANVAS",currentLayer:null,ctx:{fillStyle:null,strokeStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,font:null,textAlign:null,globalAlpha:null,globalCompositeOperation:null,transform:null},sampleScriptsFilter:{type:"",text:""},sampleScriptTypes:[],images:[],fonts:[],visiblePanels:{layers:!0,context:!1,images:!1,globalVariables:!1,fonts:!1,logs:!1,events:!1},logs:[],mousePosition:{x:0,y:0},previousMousePosition:{x:0,y:0},mouseDownPosition:{x:0,y:0},isMouseDown:!1,currentTool:"pencil",customEvents:[],fontPanelForm:{fontName:"",fontURL:""},exportConfigForm:{type:"FULL_CANVAS",cropStartX:0,cropStartY:0,cropEndX:600,cropEndY:500}}},mounted:function(){window.app=this,window.$util=h,this.allSampleScripts=p(),this.sampleScripts=p(),this.sampleScriptTypes=d(),this.numSampleScripts=this.allSampleScripts.length,this.numFilteredSampleScripts=this.allSampleScripts.length,this.backgroundCanvas=this.buildBackgroundCanvas();var t="layer01";this.addLayerWithName(t),this.setCurrentLayer(t),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),document.getElementById("canvasAllLayers").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasAllLayers").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasAllLayers").addEventListener("mousedown",this.onCanvasMouseDown),document.getElementById("canvasCurrentLayer").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasCurrentLayer").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasCurrentLayer").addEventListener("mousedown",this.onCanvasMouseDown),window.requestAnimationFrame(this.loop)}},xe=ve,ge=(n("22de"),Object(b["a"])(xe,a,r,!1,null,null,null));e["default"]=ge.exports},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("d039"),i=n("b622"),o=n("9112"),s=i("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,u){var m=i(t),h=!r((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),f=h&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return e=!0,null},n[m](""),!e}));if(!h||!f||"replace"===t&&(!l||!c||p)||"split"===t&&!d){var v=/./[m],x=n(m,""[t],(function(t,e,n,a,r){return e.exec===RegExp.prototype.exec?h&&!r?{done:!0,value:v.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),g=x[0],y=x[1];a(String.prototype,t,g),a(RegExp.prototype,m,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}u&&o(RegExp.prototype[m],"sham",!0)}},d81d:function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").map,i=n("1dde"),o=i("map");a({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},f183:function(t,e,n){var a=n("d012"),r=n("861d"),i=n("5135"),o=n("9bf2").f,s=n("90e3"),l=n("bb2f"),c=s("meta"),u=0,p=Object.isExtensible||function(){return!0},d=function(t){o(t,c,{value:{objectID:"O"+ ++u,weakData:{}}})},m=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,c)){if(!p(t))return"F";if(!e)return"E";d(t)}return t[c].objectID},h=function(t,e){if(!i(t,c)){if(!p(t))return!0;if(!e)return!1;d(t)}return t[c].weakData},f=function(t){return l&&v.REQUIRED&&p(t)&&!i(t,c)&&d(t),t},v=t.exports={REQUIRED:!1,fastKey:m,getWeakData:h,onFreeze:f};a[c]=!0}}]);
//# sourceMappingURL=main.b6a7ad25.js.map