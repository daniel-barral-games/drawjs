(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"0cb2":function(e,t,a){var n=a("7b0b"),r=Math.floor,i="".replace,l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,o,c,u){var p=a+e.length,m=o.length,d=s;return void 0!==c&&(c=n(c),d=l),i.call(u,d,(function(n,i){var l;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(p);case"<":l=c[i.slice(1,-1)];break;default:var s=+i;if(0===s)return n;if(s>m){var u=r(s/10);return 0===u?n:u<=m?void 0===o[u-1]?i.charAt(1):o[u-1]+i.charAt(1):n}l=o[s-1]}return void 0===l?"":l}))}},"0d3b":function(e,t,a){var n=a("d039"),r=a("b622"),i=a("c430"),l=r("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,a="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),a+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[l]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},1276:function(e,t,a){"use strict";var n=a("d784"),r=a("44e7"),i=a("825a"),l=a("1d80"),s=a("4840"),o=a("8aa5"),c=a("50c4"),u=a("14c3"),p=a("9263"),m=a("9f7f"),d=m.UNSUPPORTED_Y,h=[].push,f=Math.min,v=4294967295;n("split",2,(function(e,t,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var n=String(l(this)),i=void 0===a?v:a>>>0;if(0===i)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,i);var s,o,c,u=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=new RegExp(e.source,m+"g");while(s=p.call(f,n)){if(o=f.lastIndex,o>d&&(u.push(n.slice(d,s.index)),s.length>1&&s.index<n.length&&h.apply(u,s.slice(1)),c=s[0].length,d=o,u.length>=i))break;f.lastIndex===s.index&&f.lastIndex++}return d===n.length?!c&&f.test("")||u.push(""):u.push(n.slice(d)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var r=l(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,r,a):n.call(String(r),t,a)},function(e,r){var l=a(n,e,this,r,n!==t);if(l.done)return l.value;var p=i(e),m=String(this),h=s(p,RegExp),g=p.unicode,x=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(d?"g":"y"),y=new h(d?"^(?:"+p.source+")":p,x),b=void 0===r?v:r>>>0;if(0===b)return[];if(0===m.length)return null===u(y,m)?[m]:[];var w=0,C=0,S=[];while(C<m.length){y.lastIndex=d?0:C;var _,L=u(y,d?m.slice(C):m);if(null===L||(_=f(c(y.lastIndex+(d?C:0)),m.length))===w)C=o(m,C,g);else{if(S.push(m.slice(w,C)),S.length===b)return S;for(var F=1;F<=L.length-1;F++)if(S.push(L[F]),S.length===b)return S;C=w=_}}return S.push(m.slice(w)),S}]}),d)},"14c3":function(e,t,a){var n=a("c6b6"),r=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"1dde":function(e,t,a){var n=a("d039"),r=a("b622"),i=a("2d00"),l=r("species");e.exports=function(e){return i>=51||!n((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"22de":function(e,t,a){"use strict";a("8319")},2532:function(e,t,a){"use strict";var n=a("23e7"),r=a("5a34"),i=a("1d80"),l=a("ab13");n({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,a){"use strict";var n=a("6eeb"),r=a("825a"),i=a("d039"),l=a("ad6d"),s="toString",o=RegExp.prototype,c=o[s],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=c.name!=s;(u||p)&&n(RegExp.prototype,s,(function(){var e=r(this),t=String(e.source),a=e.flags,n=String(void 0===a&&e instanceof RegExp&&!("flags"in o)?l.call(e):a);return"/"+t+"/"+n}),{unsafe:!0})},"2b3d":function(e,t,a){"use strict";a("3ca3");var n,r=a("23e7"),i=a("83ab"),l=a("0d3b"),s=a("da84"),o=a("37e8"),c=a("6eeb"),u=a("19aa"),p=a("5135"),m=a("60da"),d=a("4df4"),h=a("6547").codeAt,f=a("5fb2"),v=a("d44e"),g=a("9861"),x=a("69f3"),y=s.URL,b=g.URLSearchParams,w=g.getState,C=x.set,S=x.getterFor("URL"),_=Math.floor,L=Math.pow,F="Invalid authority",P="Invalid scheme",A="Invalid host",I="Invalid port",$=/[A-Za-z]/,E=/[\d+-.A-Za-z]/,N=/\d/,k=/^(0x|0X)/,D=/^[0-7]+$/,V=/^\d+$/,B=/^[\dA-Fa-f]+$/,R=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,M=/[\u0000\t\u000A\u000D #/:?@[\\]]/,T=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,O=/[\t\u000A\u000D]/g,W=function(e,t){var a,n,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return A;if(a=Y(t.slice(1,-1)),!a)return A;e.host=a}else if(Q(e)){if(t=f(t),R.test(t))return A;if(a=X(t),null===a)return A;e.host=a}else{if(M.test(t))return A;for(a="",n=d(t),r=0;r<n.length;r++)a+=J(n[r],z);e.host=a}},X=function(e){var t,a,n,r,i,l,s,o=e.split(".");if(o.length&&""==o[o.length-1]&&o.pop(),t=o.length,t>4)return e;for(a=[],n=0;n<t;n++){if(r=o[n],""==r)return e;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=k.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)l=0;else{if(!(10==i?V:8==i?D:B).test(r))return e;l=parseInt(r,i)}a.push(l)}for(n=0;n<t;n++)if(l=a[n],n==t-1){if(l>=L(256,5-t))return null}else if(l>255)return null;for(s=a.pop(),n=0;n<a.length;n++)s+=a[n]*L(256,3-n);return s},Y=function(e){var t,a,n,r,i,l,s,o=[0,0,0,0,0,0,0,0],c=0,u=null,p=0,m=function(){return e.charAt(p)};if(":"==m()){if(":"!=e.charAt(1))return;p+=2,c++,u=c}while(m()){if(8==c)return;if(":"!=m()){t=a=0;while(a<4&&B.test(m()))t=16*t+parseInt(m(),16),p++,a++;if("."==m()){if(0==a)return;if(p-=a,c>6)return;n=0;while(m()){if(r=null,n>0){if(!("."==m()&&n<4))return;p++}if(!N.test(m()))return;while(N.test(m())){if(i=parseInt(m(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;p++}o[c]=256*o[c]+r,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==m()){if(p++,!m())return}else if(m())return;o[c++]=t}else{if(null!==u)return;p++,c++,u=c}}if(null!==u){l=c-u,c=7;while(0!=c&&l>0)s=o[c],o[c--]=o[u+l-1],o[u+--l]=s}else if(8!=c)return;return o},U=function(e){for(var t=null,a=1,n=null,r=0,i=0;i<8;i++)0!==e[i]?(r>a&&(t=n,a=r),n=null,r=0):(null===n&&(n=i),++r);return r>a&&(t=n,a=r),t},G=function(e){var t,a,n,r;if("number"==typeof e){for(t=[],a=0;a<4;a++)t.unshift(e%256),e=_(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=U(e),a=0;a<8;a++)r&&0===e[a]||(r&&(r=!1),n===a?(t+=a?":":"::",r=!0):(t+=e[a].toString(16),a<7&&(t+=":")));return"["+t+"]"}return e},z={},H=m({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),j=m({},H,{"#":1,"?":1,"{":1,"}":1}),q=m({},j,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(e,t){var a=h(e,0);return a>32&&a<127&&!p(t,e)?e:encodeURIComponent(e)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return p(K,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var a;return 2==e.length&&$.test(e.charAt(0))&&(":"==(a=e.charAt(1))||!t&&"|"==a)},ae=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,a=t.length;!a||"file"==e.scheme&&1==a&&te(t[0],!0)||t.pop()},re=function(e){return"."===e||"%2e"===e.toLowerCase()},ie=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},le={},se={},oe={},ce={},ue={},pe={},me={},de={},he={},fe={},ve={},ge={},xe={},ye={},be={},we={},Ce={},Se={},_e={},Le={},Fe={},Pe=function(e,t,a,r){var i,l,s,o,c=a||le,u=0,m="",h=!1,f=!1,v=!1;a||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(T,"")),t=t.replace(O,""),i=d(t);while(u<=i.length){switch(l=i[u],c){case le:if(!l||!$.test(l)){if(a)return P;c=oe;continue}m+=l.toLowerCase(),c=se;break;case se:if(l&&(E.test(l)||"+"==l||"-"==l||"."==l))m+=l.toLowerCase();else{if(":"!=l){if(a)return P;m="",c=oe,u=0;continue}if(a&&(Q(e)!=p(K,m)||"file"==m&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,a)return void(Q(e)&&K[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?c=ye:Q(e)&&r&&r.scheme==e.scheme?c=ce:Q(e)?c=de:"/"==i[u+1]?(c=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=_e)}break;case oe:if(!r||r.cannotBeABaseURL&&"#"!=l)return P;if(r.cannotBeABaseURL&&"#"==l){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=Fe;break}c="file"==r.scheme?ye:pe;continue;case ce:if("/"!=l||"/"!=i[u+1]){c=pe;continue}c=he,u++;break;case ue:if("/"==l){c=fe;break}c=Se;continue;case pe:if(e.scheme=r.scheme,l==n)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==l||"\\"==l&&Q(e))c=me;else if("?"==l)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Le;else{if("#"!=l){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=Se;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Fe}break;case me:if(!Q(e)||"/"!=l&&"\\"!=l){if("/"!=l){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=Se;continue}c=fe}else c=he;break;case de:if(c=he,"/"!=l||"/"!=m.charAt(u+1))continue;u++;break;case he:if("/"!=l&&"\\"!=l){c=fe;continue}break;case fe:if("@"==l){h&&(m="%40"+m),h=!0,s=d(m);for(var g=0;g<s.length;g++){var x=s[g];if(":"!=x||v){var y=J(x,q);v?e.password+=y:e.username+=y}else v=!0}m=""}else if(l==n||"/"==l||"?"==l||"#"==l||"\\"==l&&Q(e)){if(h&&""==m)return F;u-=d(m).length+1,m="",c=ve}else m+=l;break;case ve:case ge:if(a&&"file"==e.scheme){c=we;continue}if(":"!=l||f){if(l==n||"/"==l||"?"==l||"#"==l||"\\"==l&&Q(e)){if(Q(e)&&""==m)return A;if(a&&""==m&&(Z(e)||null!==e.port))return;if(o=W(e,m),o)return o;if(m="",c=Ce,a)return;continue}"["==l?f=!0:"]"==l&&(f=!1),m+=l}else{if(""==m)return A;if(o=W(e,m),o)return o;if(m="",c=xe,a==ge)return}break;case xe:if(!N.test(l)){if(l==n||"/"==l||"?"==l||"#"==l||"\\"==l&&Q(e)||a){if(""!=m){var b=parseInt(m,10);if(b>65535)return I;e.port=Q(e)&&b===K[e.scheme]?null:b,m=""}if(a)return;c=Ce;continue}return I}m+=l;break;case ye:if(e.scheme="file","/"==l||"\\"==l)c=be;else{if(!r||"file"!=r.scheme){c=Se;continue}if(l==n)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==l)e.host=r.host,e.path=r.path.slice(),e.query="",c=Le;else{if("#"!=l){ae(i.slice(u).join(""))||(e.host=r.host,e.path=r.path.slice(),ne(e)),c=Se;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Fe}}break;case be:if("/"==l||"\\"==l){c=we;break}r&&"file"==r.scheme&&!ae(i.slice(u).join(""))&&(te(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=Se;continue;case we:if(l==n||"/"==l||"\\"==l||"?"==l||"#"==l){if(!a&&te(m))c=Se;else if(""==m){if(e.host="",a)return;c=Ce}else{if(o=W(e,m),o)return o;if("localhost"==e.host&&(e.host=""),a)return;m="",c=Ce}continue}m+=l;break;case Ce:if(Q(e)){if(c=Se,"/"!=l&&"\\"!=l)continue}else if(a||"?"!=l)if(a||"#"!=l){if(l!=n&&(c=Se,"/"!=l))continue}else e.fragment="",c=Fe;else e.query="",c=Le;break;case Se:if(l==n||"/"==l||"\\"==l&&Q(e)||!a&&("?"==l||"#"==l)){if(ie(m)?(ne(e),"/"==l||"\\"==l&&Q(e)||e.path.push("")):re(m)?"/"==l||"\\"==l&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(l==n||"?"==l||"#"==l))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==l?(e.query="",c=Le):"#"==l&&(e.fragment="",c=Fe)}else m+=J(l,j);break;case _e:"?"==l?(e.query="",c=Le):"#"==l?(e.fragment="",c=Fe):l!=n&&(e.path[0]+=J(l,z));break;case Le:a||"#"!=l?l!=n&&("'"==l&&Q(e)?e.query+="%27":e.query+="#"==l?"%23":J(l,z)):(e.fragment="",c=Fe);break;case Fe:l!=n&&(e.fragment+=J(l,H));break}u++}},Ae=function(e){var t,a,n=u(this,Ae,"URL"),r=arguments.length>1?arguments[1]:void 0,l=String(e),s=C(n,{type:"URL"});if(void 0!==r)if(r instanceof Ae)t=S(r);else if(a=Pe(t={},String(r)),a)throw TypeError(a);if(a=Pe(s,l,null,t),a)throw TypeError(a);var o=s.searchParams=new b,c=w(o);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(o)||null},i||(n.href=$e.call(n),n.origin=Ee.call(n),n.protocol=Ne.call(n),n.username=ke.call(n),n.password=De.call(n),n.host=Ve.call(n),n.hostname=Be.call(n),n.port=Re.call(n),n.pathname=Me.call(n),n.search=Te.call(n),n.searchParams=Oe.call(n),n.hash=We.call(n))},Ie=Ae.prototype,$e=function(){var e=S(this),t=e.scheme,a=e.username,n=e.password,r=e.host,i=e.port,l=e.path,s=e.query,o=e.fragment,c=t+":";return null!==r?(c+="//",Z(e)&&(c+=a+(n?":"+n:"")+"@"),c+=G(r),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?l[0]:l.length?"/"+l.join("/"):"",null!==s&&(c+="?"+s),null!==o&&(c+="#"+o),c},Ee=function(){var e=S(this),t=e.scheme,a=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&Q(e)?t+"://"+G(e.host)+(null!==a?":"+a:""):"null"},Ne=function(){return S(this).scheme+":"},ke=function(){return S(this).username},De=function(){return S(this).password},Ve=function(){var e=S(this),t=e.host,a=e.port;return null===t?"":null===a?G(t):G(t)+":"+a},Be=function(){var e=S(this).host;return null===e?"":G(e)},Re=function(){var e=S(this).port;return null===e?"":String(e)},Me=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Te=function(){var e=S(this).query;return e?"?"+e:""},Oe=function(){return S(this).searchParams},We=function(){var e=S(this).fragment;return e?"#"+e:""},Xe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&o(Ie,{href:Xe($e,(function(e){var t=S(this),a=String(e),n=Pe(t,a);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:Xe(Ee),protocol:Xe(Ne,(function(e){var t=S(this);Pe(t,String(e)+":",le)})),username:Xe(ke,(function(e){var t=S(this),a=d(String(e));if(!ee(t)){t.username="";for(var n=0;n<a.length;n++)t.username+=J(a[n],q)}})),password:Xe(De,(function(e){var t=S(this),a=d(String(e));if(!ee(t)){t.password="";for(var n=0;n<a.length;n++)t.password+=J(a[n],q)}})),host:Xe(Ve,(function(e){var t=S(this);t.cannotBeABaseURL||Pe(t,String(e),ve)})),hostname:Xe(Be,(function(e){var t=S(this);t.cannotBeABaseURL||Pe(t,String(e),ge)})),port:Xe(Re,(function(e){var t=S(this);ee(t)||(e=String(e),""==e?t.port=null:Pe(t,e,xe))})),pathname:Xe(Me,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Pe(t,e+"",Ce))})),search:Xe(Te,(function(e){var t=S(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Pe(t,e,Le)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Xe(Oe),hash:Xe(We,(function(e){var t=S(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Pe(t,e,Fe)):t.fragment=null}))}),c(Ie,"toJSON",(function(){return $e.call(this)}),{enumerable:!0}),c(Ie,"toString",(function(){return $e.call(this)}),{enumerable:!0}),y){var Ye=y.createObjectURL,Ue=y.revokeObjectURL;Ye&&c(Ae,"createObjectURL",(function(e){return Ye.apply(y,arguments)})),Ue&&c(Ae,"revokeObjectURL",(function(e){return Ue.apply(y,arguments)}))}v(Ae,"URL"),r({global:!0,forced:!l,sham:!i},{URL:Ae})},"2ca0":function(e,t,a){"use strict";var n=a("23e7"),r=a("06cf").f,i=a("50c4"),l=a("5a34"),s=a("1d80"),o=a("ab13"),c=a("c430"),u="".startsWith,p=Math.min,m=o("startsWith"),d=!c&&!m&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!d&&!m},{startsWith:function(e){var t=String(s(this));l(e);var a=i(p(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return u?u.call(t,n,a):t.slice(a,a+n.length)===n}})},"2d4e":function(e,t,a){},"375d":function(e,t,a){"use strict";a("9b60")},4202:function(e,t,a){"use strict";a("42f4")},"42f4":function(e,t,a){},"44e7":function(e,t,a){var n=a("861d"),r=a("c6b6"),i=a("b622"),l=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==r(e))}},"466d":function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),l=a("1d80"),s=a("8aa5"),o=a("14c3");n("match",1,(function(e,t,a){return[function(t){var a=l(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var l=r(e),c=String(this);if(!l.global)return o(l,c);var u=l.unicode;l.lastIndex=0;var p,m=[],d=0;while(null!==(p=o(l,c))){var h=String(p[0]);m[d]=h,""===h&&(l.lastIndex=s(c,i(l.lastIndex),u)),d++}return 0===d?null:m}]}))},"4de4":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").filter,i=a("1dde"),l=i("filter");n({target:"Array",proto:!0,forced:!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,a){"use strict";var n=a("0366"),r=a("7b0b"),i=a("9bdd"),l=a("e95a"),s=a("50c4"),o=a("8418"),c=a("35a1");e.exports=function(e){var t,a,u,p,m,d,h=r(e),f="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,x=void 0!==g,y=c(h),b=0;if(x&&(g=n(g,v>2?arguments[2]:void 0,2)),void 0==y||f==Array&&l(y))for(t=s(h.length),a=new f(t);t>b;b++)d=x?g(h[b],b):h[b],o(a,b,d);else for(p=y.call(h),m=p.next,a=new f;!(u=m.call(p)).done;b++)d=x?i(p,g,[u.value,b],!0):u.value,o(a,b,d);return a.length=b,a}},5319:function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),l=a("a691"),s=a("1d80"),o=a("8aa5"),c=a("0cb2"),u=a("14c3"),p=Math.max,m=Math.min,d=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,a,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=n.REPLACE_KEEPS_$0,v=h?"$":"$0";return[function(a,n){var r=s(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,r,n):t.call(String(r),a,n)},function(e,n){if(!h&&f||"string"===typeof n&&-1===n.indexOf(v)){var s=a(t,e,this,n);if(s.done)return s.value}var g=r(e),x=String(this),y="function"===typeof n;y||(n=String(n));var b=g.global;if(b){var w=g.unicode;g.lastIndex=0}var C=[];while(1){var S=u(g,x);if(null===S)break;if(C.push(S),!b)break;var _=String(S[0]);""===_&&(g.lastIndex=o(x,i(g.lastIndex),w))}for(var L="",F=0,P=0;P<C.length;P++){S=C[P];for(var A=String(S[0]),I=p(m(l(S.index),x.length),0),$=[],E=1;E<S.length;E++)$.push(d(S[E]));var N=S.groups;if(y){var k=[A].concat($,I,x);void 0!==N&&k.push(N);var D=String(n.apply(void 0,k))}else D=c(A,x,I,$,N,n);I>=F&&(L+=x.slice(F,I)+D,F=I+A.length)}return L+x.slice(F)}]}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",l=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),o=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(l,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5fb2":function(e,t,a){"use strict";var n=2147483647,r=36,i=1,l=26,s=38,o=700,c=72,u=128,p="-",m=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",f=r-i,v=Math.floor,g=String.fromCharCode,x=function(e){var t=[],a=0,n=e.length;while(a<n){var r=e.charCodeAt(a++);if(r>=55296&&r<=56319&&a<n){var i=e.charCodeAt(a++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),a--)}else t.push(r)}return t},y=function(e){return e+22+75*(e<26)},b=function(e,t,a){var n=0;for(e=a?v(e/o):e>>1,e+=v(e/t);e>f*l>>1;n+=r)e=v(e/f);return v(n+(f+1)*e/(e+s))},w=function(e){var t=[];e=x(e);var a,s,o=e.length,m=u,d=0,f=c;for(a=0;a<e.length;a++)s=e[a],s<128&&t.push(g(s));var w=t.length,C=w;w&&t.push(p);while(C<o){var S=n;for(a=0;a<e.length;a++)s=e[a],s>=m&&s<S&&(S=s);var _=C+1;if(S-m>v((n-d)/_))throw RangeError(h);for(d+=(S-m)*_,m=S,a=0;a<e.length;a++){if(s=e[a],s<m&&++d>n)throw RangeError(h);if(s==m){for(var L=d,F=r;;F+=r){var P=F<=f?i:F>=f+l?l:F-f;if(L<P)break;var A=L-P,I=r-P;t.push(g(y(P+A%I))),L=v(A/I)}t.push(g(y(L))),f=b(d,_,C==w),d=0,++C}}++d,++m}return t.join("")};e.exports=function(e){var t,a,n=[],r=e.toLowerCase().replace(d,".").split(".");for(t=0;t<r.length;t++)a=r[t],n.push(m.test(a)?"xn--"+w(a):a);return n.join(".")}},6062:function(e,t,a){"use strict";var n=a("6d61"),r=a("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(e,t,a){"use strict";var n=a("9bf2").f,r=a("7c73"),i=a("e2cc"),l=a("0366"),s=a("19aa"),o=a("2266"),c=a("7dd0"),u=a("2626"),p=a("83ab"),m=a("f183").fastKey,d=a("69f3"),h=d.set,f=d.getterFor;e.exports={getConstructor:function(e,t,a,c){var u=e((function(e,n){s(e,u,t),h(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),void 0!=n&&o(n,e[c],{that:e,AS_ENTRIES:a})})),d=f(t),v=function(e,t,a){var n,r,i=d(e),l=g(e,t);return l?l.value=a:(i.last=l={index:r=m(t,!0),key:t,value:a,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=l),n&&(n.next=l),p?i.size++:e.size++,"F"!==r&&(i.index[r]=l)),e},g=function(e,t){var a,n=d(e),r=m(t);if("F"!==r)return n.index[r];for(a=n.first;a;a=a.next)if(a.key==t)return a};return i(u.prototype,{clear:function(){var e=this,t=d(e),a=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete a[n.index],n=n.next;t.first=t.last=void 0,p?t.size=0:e.size=0},delete:function(e){var t=this,a=d(t),n=g(t,e);if(n){var r=n.next,i=n.previous;delete a.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),a.first==n&&(a.first=r),a.last==n&&(a.last=i),p?a.size--:t.size--}return!!n},forEach:function(e){var t,a=d(this),n=l(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),i(u.prototype,a?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&n(u.prototype,"size",{get:function(){return d(this).size}}),u},setStrong:function(e,t,a){var n=t+" Iterator",r=f(t),i=f(n);c(e,t,(function(e,t){h(this,{type:n,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),u(t)}}},"65f0":function(e,t,a){var n=a("861d"),r=a("e8b5"),i=a("b622"),l=i("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[l],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"6cfa":function(e,t,a){e.exports=a.p+"img/drawjs-logo.18b6678c.png"},"6d61":function(e,t,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("94ca"),l=a("6eeb"),s=a("f183"),o=a("2266"),c=a("19aa"),u=a("861d"),p=a("d039"),m=a("1c7e"),d=a("d44e"),h=a("7156");e.exports=function(e,t,a){var f=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),g=f?"set":"add",x=r[e],y=x&&x.prototype,b=x,w={},C=function(e){var t=y[e];l(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})},S=i(e,"function"!=typeof x||!(v||y.forEach&&!p((function(){(new x).entries().next()}))));if(S)b=a.getConstructor(t,e,f,g),s.REQUIRED=!0;else if(i(e,!0)){var _=new b,L=_[g](v?{}:-0,1)!=_,F=p((function(){_.has(1)})),P=m((function(e){new x(e)})),A=!v&&p((function(){var e=new x,t=5;while(t--)e[g](t,t);return!e.has(-0)}));P||(b=t((function(t,a){c(t,b,e);var n=h(new x,t,b);return void 0!=a&&o(a,n[g],{that:n,AS_ENTRIES:f}),n})),b.prototype=y,y.constructor=b),(F||A)&&(C("delete"),C("has"),f&&C("get")),(A||L)&&C(g),v&&y.clear&&delete y.clear}return w[e]=b,n({global:!0,forced:b!=x},w),d(b,e),v||a.setStrong(b,e,f),b}},7156:function(e,t,a){var n=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var i,l;return r&&"function"==typeof(i=t.constructor)&&i!==a&&n(l=i.prototype)&&l!==a.prototype&&r(e,l),e}},"7f64":function(e,t,a){"use strict";a("2d4e")},8319:function(e,t,a){},8418:function(e,t,a){"use strict";var n=a("c04e"),r=a("9bf2"),i=a("5c6c");e.exports=function(e,t,a){var l=n(t);l in e?r.f(e,l,i(0,a)):e[l]=a}},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},9263:function(e,t,a){"use strict";var n=a("ad6d"),r=a("9f7f"),i=a("5692"),l=RegExp.prototype.exec,s=i("native-string-replace",String.prototype.replace),o=l,c=function(){var e=/a/,t=/b*/g;return l.call(e,"a"),l.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],m=c||p||u;m&&(o=function(e){var t,a,r,i,o=this,m=u&&o.sticky,d=n.call(o),h=o.source,f=0,v=e;return m&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),v=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,f++),a=new RegExp("^(?:"+h+")",d)),p&&(a=new RegExp("^"+h+"$(?!\\s)",d)),c&&(t=o.lastIndex),r=l.call(m?a:o,v),m?r?(r.input=r.input.slice(f),r[0]=r[0].slice(f),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:c&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),p&&r&&r.length>1&&s.call(r[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=o},9861:function(e,t,a){"use strict";a("e260");var n=a("23e7"),r=a("d066"),i=a("0d3b"),l=a("6eeb"),s=a("e2cc"),o=a("d44e"),c=a("9ed3"),u=a("69f3"),p=a("19aa"),m=a("5135"),d=a("0366"),h=a("f5df"),f=a("825a"),v=a("861d"),g=a("7c73"),x=a("5c6c"),y=a("9a1f"),b=a("35a1"),w=a("b622"),C=r("fetch"),S=r("Headers"),_=w("iterator"),L="URLSearchParams",F=L+"Iterator",P=u.set,A=u.getterFor(L),I=u.getterFor(F),$=/\+/g,E=Array(4),N=function(e){return E[e-1]||(E[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},k=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace($," "),a=4;try{return decodeURIComponent(t)}catch(n){while(a)t=t.replace(N(a--),k);return t}},V=/[!'()~]|%20/g,B={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(e){return B[e]},M=function(e){return encodeURIComponent(e).replace(V,R)},T=function(e,t){if(t){var a,n,r=t.split("&"),i=0;while(i<r.length)a=r[i++],a.length&&(n=a.split("="),e.push({key:D(n.shift()),value:D(n.join("="))}))}},O=function(e){this.entries.length=0,T(this.entries,e)},W=function(e,t){if(e<t)throw TypeError("Not enough arguments")},X=c((function(e,t){P(this,{type:F,iterator:y(A(e).entries),kind:t})}),"Iterator",(function(){var e=I(this),t=e.kind,a=e.iterator.next(),n=a.value;return a.done||(a.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),a})),Y=function(){p(this,Y,L);var e,t,a,n,r,i,l,s,o,c=arguments.length>0?arguments[0]:void 0,u=this,d=[];if(P(u,{type:L,entries:d,updateURL:function(){},updateSearchParams:O}),void 0!==c)if(v(c))if(e=b(c),"function"===typeof e){t=e.call(c),a=t.next;while(!(n=a.call(t)).done){if(r=y(f(n.value)),i=r.next,(l=i.call(r)).done||(s=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");d.push({key:l.value+"",value:s.value+""})}}else for(o in c)m(c,o)&&d.push({key:o,value:c[o]+""});else T(d,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},U=Y.prototype;s(U,{append:function(e,t){W(arguments.length,2);var a=A(this);a.entries.push({key:e+"",value:t+""}),a.updateURL()},delete:function(e){W(arguments.length,1);var t=A(this),a=t.entries,n=e+"",r=0;while(r<a.length)a[r].key===n?a.splice(r,1):r++;t.updateURL()},get:function(e){W(arguments.length,1);for(var t=A(this).entries,a=e+"",n=0;n<t.length;n++)if(t[n].key===a)return t[n].value;return null},getAll:function(e){W(arguments.length,1);for(var t=A(this).entries,a=e+"",n=[],r=0;r<t.length;r++)t[r].key===a&&n.push(t[r].value);return n},has:function(e){W(arguments.length,1);var t=A(this).entries,a=e+"",n=0;while(n<t.length)if(t[n++].key===a)return!0;return!1},set:function(e,t){W(arguments.length,1);for(var a,n=A(this),r=n.entries,i=!1,l=e+"",s=t+"",o=0;o<r.length;o++)a=r[o],a.key===l&&(i?r.splice(o--,1):(i=!0,a.value=s));i||r.push({key:l,value:s}),n.updateURL()},sort:function(){var e,t,a,n=A(this),r=n.entries,i=r.slice();for(r.length=0,a=0;a<i.length;a++){for(e=i[a],t=0;t<a;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===a&&r.push(e)}n.updateURL()},forEach:function(e){var t,a=A(this).entries,n=d(e,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<a.length)t=a[r++],n(t.value,t.key,this)},keys:function(){return new X(this,"keys")},values:function(){return new X(this,"values")},entries:function(){return new X(this,"entries")}},{enumerable:!0}),l(U,_,U.entries),l(U,"toString",(function(){var e,t=A(this).entries,a=[],n=0;while(n<t.length)e=t[n++],a.push(M(e.key)+"="+M(e.value));return a.join("&")}),{enumerable:!0}),o(Y,L),n({global:!0,forced:!i},{URLSearchParams:Y}),i||"function"!=typeof C||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,a,n,r=[e];return arguments.length>1&&(t=arguments[1],v(t)&&(a=t.body,h(a)===L&&(n=t.headers?new S(t.headers):new S,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:x(0,String(a)),headers:x(0,n)}))),r.push(t)),C.apply(this,r)}}),e.exports={URLSearchParams:Y,getState:A}},"9a1f":function(e,t,a){var n=a("825a"),r=a("35a1");e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},"9b60":function(e,t,a){},"9bdd":function(e,t,a){var n=a("825a"),r=a("2a62");e.exports=function(e,t,a,i){try{return i?t(n(a)[0],a[1]):t(a)}catch(l){throw r(e),l}}},"9f7f":function(e,t,a){"use strict";var n=a("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,a){"use strict";var n=a("23e7"),r=a("44ad"),i=a("fc6a"),l=a("a640"),s=[].join,o=r!=Object,c=l("join",",");n({target:"Array",proto:!0,forced:o||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},a434:function(e,t,a){"use strict";var n=a("23e7"),r=a("23cb"),i=a("a691"),l=a("50c4"),s=a("7b0b"),o=a("65f0"),c=a("8418"),u=a("1dde"),p=u("splice"),m=Math.max,d=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var a,n,u,p,v,g,x=s(this),y=l(x.length),b=r(e,y),w=arguments.length;if(0===w?a=n=0:1===w?(a=0,n=y-b):(a=w-2,n=d(m(i(t),0),y-b)),y+a-n>h)throw TypeError(f);for(u=o(x,n),p=0;p<n;p++)v=b+p,v in x&&c(u,p,x[v]);if(u.length=n,a<n){for(p=b;p<y-n;p++)v=p+n,g=p+a,v in x?x[g]=x[v]:delete x[g];for(p=y;p>y-n+a;p--)delete x[p-1]}else if(a>n)for(p=y-n;p>b;p--)v=p+n-1,g=p+a-1,v in x?x[g]=x[v]:delete x[g];for(p=0;p<a;p++)x[p+b]=arguments[p+2];return x.length=y-n+a,u}})},a630:function(e,t,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),l=!i((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:l},{from:r})},a640:function(e,t,a){"use strict";var n=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&n((function(){a.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),l=a("6eeb"),s=a("5135"),o=a("c6b6"),c=a("7156"),u=a("c04e"),p=a("d039"),m=a("7c73"),d=a("241c").f,h=a("06cf").f,f=a("9bf2").f,v=a("58a8").trim,g="Number",x=r[g],y=x.prototype,b=o(m(y))==g,w=function(e){var t,a,n,r,i,l,s,o,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),l=i.length,s=0;s<l;s++)if(o=i.charCodeAt(s),o<48||o>r)return NaN;return parseInt(i,n)}return+c};if(i(g,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var C,S=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof S&&(b?p((function(){y.valueOf.call(a)})):o(a)!=g)?c(new x(w(t)),a,S):w(t)},_=n?d(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;_.length>L;L++)s(x,C=_[L])&&!s(S,C)&&f(S,C,h(x,C));S.prototype=y,y.constructor=S,l(r,g,S)}},ab13:function(e,t,a){var n=a("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},ac1f:function(e,t,a){"use strict";var n=a("23e7"),r=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,a){var n=a("83ab"),r=a("9bf2").f,i=Function.prototype,l=i.toString,s=/^\s*function ([^ (]*)/,o="name";n&&!(o in i)&&r(i,o,{configurable:!0,get:function(){try{return l.call(this).match(s)[1]}catch(e){return""}}})},b727:function(e,t,a){var n=a("0366"),r=a("44ad"),i=a("7b0b"),l=a("50c4"),s=a("65f0"),o=[].push,c=function(e){var t=1==e,a=2==e,c=3==e,u=4==e,p=6==e,m=7==e,d=5==e||p;return function(h,f,v,g){for(var x,y,b=i(h),w=r(b),C=n(f,v,3),S=l(w.length),_=0,L=g||s,F=t?L(h,S):a||m?L(h,0):void 0;S>_;_++)if((d||_ in w)&&(x=w[_],y=C(x,_,b),e))if(t)F[_]=y;else if(y)switch(e){case 3:return!0;case 5:return x;case 6:return _;case 2:o.call(F,x)}else switch(e){case 4:return!1;case 7:o.call(F,x)}return p?-1:c||u?u:F}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},bb2f:function(e,t,a){var n=a("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},caad:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").includes,i=a("44d2");n({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cd56:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header"},[n("MainMenu"),n("img",{attrs:{src:a("6cfa")}}),n("a",{staticClass:"btn btn-danger",staticStyle:{position:"absolute",right:"10px",top:"13px"},attrs:{href:"https://danielbarral.itch.io/drawjs/donate",role:"button",target:"top"}},[n("IconDonate",{attrs:{color:"#ffffff"}}),e._v(" Donate")],1)],1),n("div",{staticClass:"appDiv",attrs:{id:"app"}},[n("div",{staticClass:"mainLayout"},[n("div",{staticClass:"columnBox colDiv"},[n("div",{staticClass:"scriptsDiv"},[e._m(0),n("div",{staticClass:"tabContentScroll"},[n("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[n("div",{staticClass:"tab-pane show active",attrs:{id:"tabSampleScripts",role:"tabpanel","aria-labelledby":"sampleScripts-tab"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:null==e.selectedSampleScript,expression:"selectedSampleScript == null"}]},[n("span",[e._v("Type:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.sampleScriptsFilter.type,expression:"sampleScriptsFilter.type"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.sampleScriptsFilter,"type",t.target.multiple?a:a[0])},function(t){return e.filterSampleScripts()}]}},[n("option",{attrs:{value:""}},[e._v("(Show all)")]),e._l(e.sampleScriptTypes,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),n("span",[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.sampleScriptsFilter.text,expression:"sampleScriptsFilter.text"}],attrs:{placeholder:"script name"},domProps:{value:e.sampleScriptsFilter.text},on:{input:[function(t){t.target.composing||e.$set(e.sampleScriptsFilter,"text",t.target.value)},function(t){return e.filterSampleScripts()}]}}),n("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.sampleScriptsFilter.type||""!=e.sampleScriptsFilter.text,expression:"sampleScriptsFilter.type != '' || sampleScriptsFilter.text != ''"}]},[e._v("Showing "+e._s(e.numFilteredSampleScripts)+" of "+e._s(e.numSampleScripts)+" "),n("a",{attrs:{href:"#"},on:{click:function(t){return e.clearSearch()}}},[e._v("Clear search")])]),n("table",{staticStyle:{"margin-top":"5px"}},e._l(e.sampleScripts,(function(t){return n("tr",{key:t.name},[n("td",[e._v(e._s(t.name))]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(a){return e.executeSampleScript(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==t.params},on:{click:function(a){return e.selectSampleScriptWithParams(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ... ")],1)]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.loadSampleScript(t.name)}}},[e._v("Open")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.selectSampleScript(t.name)}}},[e._v("View")])])])})),0)]),null!=e.selectedSampleScript?n("div",[n("h3",[n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(t){return e.unselectSampleScript()}}},[n("IconBack",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Back")],1),e._v(" "+e._s(e.selectedSampleScript.name))]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-success btn-sm",on:{click:function(t){return e.executeEditedSampleScript()}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Execute")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.copySampleSourceCode()}}},[e._v("Copy")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.showModalSaveSampleScriptAs()}}},[e._v("Save as...")])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editedSampleScript,expression:"editedSampleScript"}],staticStyle:{width:"100%",height:"180px"},attrs:{spellcheck:"false"},domProps:{value:e.editedSampleScript},on:{input:function(t){t.target.composing||(e.editedSampleScript=t.target.value)}}})]):e._e()]),n("div",{staticClass:"tab-pane",staticStyle:{"margin-left":"3px"},attrs:{id:"tabSavedScripts",role:"tabpanel","aria-labelledby":"savedScripts-tab"}},[n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.createNewScript()}}},[e._v("New script...")])]),n("br"),e.savedScripts.length>0?n("table",{staticClass:"smallTable"},[e._m(1),n("tbody",e._l(e.savedScripts,(function(t){return n("tr",{key:t.name},[n("td",[n("b",[e._v(e._s(t.name))])]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return e.executeSavedScript(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}})],1)]),n("td",[n("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},attrs:{disabled:null==t.params},on:{click:function(a){return e.selectSavedScriptWithParams(t.name)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ...")],1)]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.configScript(t.name)}}},[e._v("Params")])]),n("td",[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.loadSavedScript(t.name)}}},[e._v("Open")])]),n("td",[n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.deleteSavedScript(t.name)}}},[e._v("delete")])])])})),0)]):e._e(),0==e.savedScripts.length?n("div",[e._v("You haven't created any script yet.")]):e._e(),n("br"),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.saveScriptsToLocalStorage()}}},[e._v("Save to local storage")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.loadScriptsFromLocalStorage()}}},[e._v("Load from local storage")])])])])])]),n("div",[n("div",{staticClass:"panelHeader"},[n("span",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}]},[n("b",[e._v("Sample script:")]),e._v(" "+e._s(e.currentScriptName))]),n("span",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}]},[n("b",[e._v("My script:")]),e._v(" "+e._s(e.currentScriptName))]),n("span",{directives:[{name:"show",rawName:"v-show",value:null==e.currentScriptType,expression:"currentScriptType == null"}]},[n("b",[e._v("Untitled script")])])]),n("textarea",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode",spellcheck:"false"}}),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-success btn-sm",on:{click:e.executeScript}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Execute")],1),n("button",{directives:[{name:"show",rawName:"v-show",value:"SAVED_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAVED_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(t){return e.selectSavedScriptWithParams(e.currentScriptName)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ...")],1),n("button",{directives:[{name:"show",rawName:"v-show",value:"SAMPLE_SCRIPT"==e.currentScriptType,expression:"currentScriptType == 'SAMPLE_SCRIPT'"}],staticClass:"btn btn-success btn-sm",staticStyle:{"white-space":"nowrap"},on:{click:function(t){return e.selectSampleScriptWithParams(e.currentScriptName)}}},[n("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" ...")],1),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=e.currentScriptType},on:{click:function(t){return e.configScript(e.currentScriptName)}}},[e._v("Params")]),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"SAVED_SCRIPT"!=e.currentScriptType},on:{click:e.saveScript}},[e._v("Save")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.saveScriptAs}},[e._v("Save as...")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.newScript}},[e._v("New")])])])]),n("div",{staticClass:"columnBox mainColDiv"},[e._m(2),n("div",{staticClass:"tab-content tabCanvas",staticStyle:{"margin-top":"5px"},attrs:{id:"tabCanvas"}},[n("div",{staticClass:"tab-pane show active",attrs:{id:"tab_all_layers",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasAllLayers",width:e.canvasWidth,height:e.canvasHeight}})]),n("div",{staticClass:"tab-pane",attrs:{id:"tab_current_layer",role:"tabpanel","aria-labelledby":"contact-tab"}},[n("canvas",{staticStyle:{border:"1px solid #000000"},attrs:{id:"canvasCurrentLayer",width:e.canvasWidth,height:e.canvasHeight}})])]),n("div",{staticClass:"buttonGroup"},[n("span",[n("b",[e._v("Current tool: ")]),e._v(e._s(e.currentTool))]),e._m(3),n("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.ctx.fillStyle}),n("span",{staticClass:"spanFillStyleStrokeStyle"},[e._v(e._s(e.ctx.fillStyle))]),e._m(4),n("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.ctx.strokeStyle}),n("span",{staticClass:"spanFillStyleStrokeStyle"},[e._v(e._s(e.ctx.strokeStyle))]),n("span",{staticStyle:{"margin-left":"10px"}},[n("b",[e._v("Position: ")]),e._v(e._s(e.mousePosition.x)+","+e._s(e.mousePosition.y))])]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("pencil")}}},[n("IconEdit",{attrs:{color:"#ffffff"}}),e._v(" Pencil")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("brush")}}},[n("IconBrush",{attrs:{color:"#ffffff"}}),e._v(" Brush")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("eraser")}}},[n("IconEraser",{attrs:{color:"#ffffff"}}),e._v(" Eraser")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("bucketFill")}}},[n("IconBucketFill",{attrs:{color:"#ffffff"}}),e._v(" Bucket fill")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("line")}}},[n("IconLine",{attrs:{color:"#ffffff"}}),e._v(" Line")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("rectangle")}}},[n("IconRectangle",{attrs:{color:"#ffffff"}}),e._v(" Rectangle")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("circle")}}},[n("IconCircle",{attrs:{color:"#ffffff"}}),e._v(" Circle")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("ellipse")}}},[n("IconEllipse",{attrs:{color:"#ffffff"}}),e._v(" Ellipse")],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.setCurrentTool("none")}}},[n("IconNone",{attrs:{color:"#ffffff"}}),e._v(" None")],1)]),n("div",{staticClass:"buttonGroup"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.clearCurrentLayer()}}},[e._v("Clear current layer")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.fillScreenWhite()}}},[e._v("Fill with white")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.fillScreenBlack()}}},[e._v("Fill with black")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.repaintCurrentLayer()}}},[e._v("Repaint current layer")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.clip()}}},[e._v("Clip")])])]),n("div",{staticClass:"columnBoxRight"},[n("ConfigureScriptPanel",{ref:"configureScriptPanel"}),n("ScriptWithParamsPanel"),n("LayersPanel",{ref:"layersPanel"}),n("ContextPanel"),n("EventsPanel"),n("ImagesPanel"),n("FontsPanel"),n("GlobalVariablesPanel"),n("LogsPanel")],1)]),e._v(" "),n("div",{staticClass:"modal fade",attrs:{id:"modalSaveSampleScriptAs",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[e._m(5),n("div",{staticClass:"modal-body"},[n("div",[e._v("Name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newScriptName,expression:"newScriptName"}],domProps:{value:e.newScriptName},on:{input:function(t){t.target.composing||(e.newScriptName=t.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.saveSampleScriptAs()}}},[e._v("Save")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),n("ModalExport"),n("ModalPasteImageFromClipboard"),n("ModalHelp")],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"sampleScripts-tab","data-toggle":"tab",href:"#tabSampleScripts",role:"tab"}},[e._v("Sample scripts")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"savedScripts-tab","data-toggle":"tab",href:"#tabSavedScripts",role:"tab"}},[e._v("My scripts")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th"),a("th"),a("th"),a("th"),a("th")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_all_layers",role:"tab","aria-controls":"tab_all_layers","aria-selected":"false"}},[e._v("All layers")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"contact-tab","data-toggle":"tab",href:"#tab_current_layer",role:"tab","aria-controls":"tab_current_layer","aria-selected":"false"}},[e._v("Current layer")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[e._v("fillStyle: ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticStyle:{"margin-left":"10px"}},[a("b",[e._v("strokeStyle: ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Save sample script as...")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],i=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("4de4"),a("2ca0"),a("ac1f"),a("1276"),a("a9e3"),a("a434"),a("b0c0"),a("6062"),a("caad"),a("2532"),a("a630"),[]),l=new Set,s={},o="",c="";function u(e,t){t.type="SAMPLE_SCRIPT",i.push(t);for(var a=0;a<e.length;a++){var n=e[a];l.add(n),null==s[n]&&(s[n]=[]),s[n].push(t)}}function p(e,t){var a=t||"";a=a.toLowerCase();var n=null;n=null==e||""==e?i:s[e];for(var r=[],l=0;l<n.length;l++){var o=n[l];o.name.toLowerCase().includes(a)&&r.push(o)}return r}function m(){return Array.from(l)}c="\nlet startX = params.startX ?? 100;\nlet startY = params.startY ?? 100;\nlet endX = params.endX ?? 200;\nlet endY = params.endY ?? 200;\n\nctx.beginPath();\nctx.moveTo(startX, startY);\nctx.lineTo(endX, endY);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw line",func:new Function("params",c),source:c,params:[{name:"startX",type:"number",defaultValue:100},{name:"startY",type:"number",defaultValue:100},{name:"endX",type:"number",defaultValue:200},{name:"endY",type:"number",defaultValue:200}]}),c="\nctx.beginPath();\nctx.moveTo(0, 0);\nctx.lineTo(100, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw line (simple)",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet radius = params.radius ?? 100;\n\nctx.beginPath();\nctx.arc(x, y, radius, 0, 2 * Math.PI);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw circle",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"radius",type:"number",defaultValue:100}]}),c="\nctx.beginPath();\nctx.arc(100, 100, 10, 0, 2 * Math.PI);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw circle (simple)",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet radius = params.radius ?? 100;\n\nctx.beginPath();\nctx.arc(x, y, radius, 0, 2 * Math.PI);\nctx.fill();\n",u(["basic drawing"],{name:"Fill circle",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"radius",type:"number",defaultValue:100}]}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet width = params.width ?? 100;\nlet height = params.height ?? 100;\n\nctx.beginPath();\nctx.rect(x, y, width, height);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw rect",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:100},{name:"height",type:"number",defaultValue:100}]}),c="\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\nlet width = params.width ?? 100;\nlet height = params.height ?? 100;\n\nctx.fillRect(x, y, width, height);\n",u(["basic drawing"],{name:"Fill rect",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:100},{name:"height",type:"number",defaultValue:100}]}),c='\nlet text = params.text ?? "Hello World";\nlet font = params.font ?? "30px Arial";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\n\nctx.font = font;\nctx.fillText(text, x, y);\n',u(["basic drawing","text"],{name:"Draw text",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Hello World"},{name:"font",defaultValue:"30px Arial"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c='\nctx.font = "30px Arial";\nctx.fillText("Hello World", 100, 150);\n',u(["basic drawing","text"],{name:"Draw text (simple)",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? "Hello World";\nlet font = params.font ?? "30px Arial";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\n\nctx.font = font;\nctx.strokeText(text, x, y);\n',u(["basic drawing","text"],{name:"Draw stroke text",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Hello World"},{name:"font",defaultValue:"30px Arial"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c='\n// Create gradient\nvar grd = ctx.createLinearGradient(0, 0, 200, 0);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Linear Gradient",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar grd = ctx.createRadialGradient(75, 50, 5, 90, 60, 100);\ngrd.addColorStop(0, "red");\ngrd.addColorStop(1, "white");\n\n// Fill with gradient\nctx.fillStyle = grd;\nctx.fillRect(10, 10, 150, 80);\n',u(["basic drawing"],{name:"Draw Circular Gradient",func:new Function("params",c),source:c}),c="\nctx.rotate(20 * Math.PI / 180);\n",u(["context"],{name:"Rotate canvas",func:new Function("params",c),source:c}),c="\nlet angle = params.angle ?? 10;\nlet centerX = params.centerX ?? 300;\nlet centerY = params.centerY ?? 200;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.translate(centerX, centerY);\nctx.rotate(angle * Math.PI / 180);\nctx.translate(-centerX, -centerY);\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["context","layer"],{name:"Rotate layer",func:new Function("params",c),source:c,params:[{name:"angle",type:"number",defaultValue:10},{name:"centerX",type:"number",defaultValue:300},{name:"centerY",type:"number",defaultValue:200}]}),c="\nlet a = params.horizontalScaling ?? 1;\nlet b = params.verticalSkewing ?? 0;\nlet c = params.horizontalSkewing ?? 0;\nlet d = params.verticalScaling ?? 1;\nlet e = params.horizontalTranslation ?? 0;\nlet f = params.verticalTranslation ?? 0;\n\nctx.setTransform(a, b, c, d, e, f);\n",u(["other","context"],{name:"Set transform",func:new Function("params",c),source:c}),c="\nctx.setTransform(1, 0, 0, 1, 0, 0);\n",u(["other","context"],{name:"Reset transform",func:new Function("params",c),source:c}),c='\n// Create gradient\nvar gradient = ctx.createLinearGradient(0, 0, c.width, 0);\ngradient.addColorStop("0"," magenta");\ngradient.addColorStop("0.5", "blue");\ngradient.addColorStop("1.0", "red");\n// Fill with gradient\nctx.fillStyle = gradient;\n',u(["basic drawing","context"],{name:"Set gradient fillstyle",func:new Function("params",c),source:c}),c="\nctx.clearRect(0, 0, 600, 400); \n",u(["basic drawing"],{name:"Clear rect",func:new Function("params",c),source:c}),c="\nctx.globalAlpha = 0.2;\n",u(["alpha"],{name:"Set global alpha",func:new Function("params",c),source:c}),c='\nctx.shadowBlur = 20;\nctx.shadowColor = "black";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n',u(["filters"],{name:"Set shadow",func:new Function("params",c),source:c}),c="\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.shadowBlur = params.shadowBlur ?? 10;\nctx.shadowColor = params.shadowColor ?? \"#000000\";\nctx.shadowOffsetX = params.shadowOffsetX ?? 10;\nctx.shadowOffsetY = params.shadowOffsetY ?? 10;\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["filters"],{name:"Add shadow",func:new Function("params",c),source:c,params:[{name:"shadowBlur",type:"number",defaultValue:10},{name:"shadowColor",type:"string",defaultValue:"#000000"},{name:"shadowOffsetX",type:"number",defaultValue:10},{name:"shadowOffsetY",type:"number",defaultValue:10}]}),c="\nctx.clip();\n",u(["context"],{name:"Clip",func:new Function("params",c),source:c}),c='\n// Clip a rectangular area\nctx.rect(50, 20, 200, 120);\nctx.stroke();\nctx.clip();\n// Draw red rectangle after clip()\nctx.fillStyle = "red";\nctx.fillRect(0, 0, 150, 100);\n',u(["context"],{name:"Clip rect",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#FF0000";\n',u(["context","color"],{name:"Set fill style",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgb(255,0,0)';\n",u(["context","color"],{name:"Set fill style RGB",func:new Function("params",c),source:c}),c="\nctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n",u(["context","color"],{name:"Set fill style RGBA",func:new Function("params",c),source:c}),c='\nctx.strokeStyle = "#FF0000";\n',u(["context"],{name:"Set stroke style",func:new Function("params",c),source:c}),c="\nctx.lineWidth = 5;\n",u(["basic drawing"],{name:"Set line width",func:new Function("params",c),source:c}),c="\nparams.x = params.x || 300;\nparams.y = params.y || 200;\nparams.r = params.r || 20;\nparams.n = params.n || 5;\nparams.inset = params.inset || 2.5;\n\nctx.save();\nctx.beginPath();\nctx.translate(params.x, params.y);\nctx.moveTo(0,0-params.r);\nfor (var i = 0; i < params.n; i++) {\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - (params.r*params.inset));\n\tctx.rotate(Math.PI / params.n);\n\tctx.lineTo(0, 0 - params.r);\n}\nctx.closePath();\nctx.fill();\nctx.restore();\n",u(["shapes"],{name:"Draw star",func:new Function("params",c),source:c}),c="\nlet cx = params.cx || 300;\nlet cy = params.cy || 200;\nlet spikes = params.spikes || 5;\nlet innerRadius = params.innerRadius || 100;\nlet outerRadius = params.outerRadius || 40;\n\nlet rot=Math.PI/2*3;\nlet x=cx;\nlet y=cy;\nlet step=Math.PI/spikes;\n\nctx.beginPath();\nctx.moveTo(cx,cy-outerRadius)\nfor(i=0;i<spikes;i++){\n  x=cx+Math.cos(rot)*outerRadius;\n  y=cy+Math.sin(rot)*outerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n\n  x=cx+Math.cos(rot)*innerRadius;\n  y=cy+Math.sin(rot)*innerRadius;\n  ctx.lineTo(x,y)\n  rot+=step\n}\nctx.lineTo(cx,cy-outerRadius);\nctx.closePath();\nctx.lineWidth=3;\nctx.strokeStyle='#999900';\nctx.stroke();\nctx.fillStyle='#ffff00';\nctx.fill();\n",u(["shapes"],{name:"Draw star 2",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Draw star',{x: 300, y: 200, r: 48, n: 24, inset: 1.3});\n",u(["shapes"],{name:"Draw spike ball",func:new Function("params",c),source:c}),c="\nctx.restore();\n",c="\nctx.save();\n",u(["context"],{name:"Save context",func:new Function("params",c),source:c}),c="\nctx.restore();\n",u(["context"],{name:"Restore context",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.createImageData(width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] = $util.random256(); // R value\n  imageData.data[i + 1] = $util.random256(); // G value\n  imageData.data[i + 2] = $util.random256(); // B value\n  imageData.data[i + 3] = 255; // A value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["other"],{name:"Draw random pixels",func:new Function("params",c),source:c}),c="\nlet amount = params.amount ?? 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += amount; // R value\n  imageData.data[i + 1] += amount; // G value\n  imageData.data[i + 2] += amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Lighter",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:50}]}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] -= amount; // R value\n  imageData.data[i + 1] -= amount; // G value\n  imageData.data[i + 2] -= amount; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters","color"],{name:"Darker",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:50}]}),c="\nlet amount = params.amount ?? 5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\nlet x = 0;\nlet y = 0;\n\nctx.save();\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  if (imageData.data[i + 3] > 0) {\n    ctx.fillStyle = 'rgba(' + imageData.data[i] + ', ' + imageData.data[i + 1] + ', ' + imageData.data[i + 2] + ', ' + imageData.data[i + 3]/255 + ')';\n    ctx.beginPath();\n    ctx.arc(x + 0.5, y + 0.5, amount, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n  x++;\n  if (x>width-1) {\n    x = 0;\n    y++;\n  }\n}\n\nctx.restore();\n",u(["other","border"],{name:"Grow",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:5}]}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i + 3] = 255 - imageData.data[i + 3];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["alpha"],{name:"Invert image alpha",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = 255 - imageData.data[i];\n    imageData.data[i+1] = 255 - imageData.data[i+1];\n    imageData.data[i+2] = 255 - imageData.data[i+2];\n}\n\nctx.putImageData(imageData, 0, 0)\n",u(["color"],{name:"Invert image colors",func:new Function("params",c),source:c}),c="\nlet p = new Path2D('M160 110H40v20h120v30L200 120l-40-40z');\nctx.fill(p);\n",u(["SVG"],{name:"Draw Path2D",func:new Function("params",c),source:c}),o='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="300px" height="300px">\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4z"/>\n</svg>\n',c="\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\nlet xml = params.xml;\n\nlet defaultXml = `".concat(o,"`;\n\nxml = xml ?? defaultXml;\n\nvar svg64 = btoa(xml);\n\nvar b64Start = 'data:image/svg+xml;base64,';\n\nvar image64 = b64Start + svg64;\n\nvar img = new Image();\nimg.src = image64;\n\nctx.drawImage(img, x, y);\n"),u(["SVG"],{name:"Draw SVG",func:new Function("params",c),source:c}),o='\n<svg viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg" width="500px" height="400px">\n  <circle cx="300" cy="200" r="50" fill="#ff0000"/>\n</svg>\n',c="\nvar xml = `".concat(o,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - circle",func:new Function("params",c),source:c}),o='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix\n          kernelMatrix="1 0 0\n                        0 0 0\n                        0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(o,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix",func:new Function("params",c),source:c}),o='\n<svg width="600" height="500" viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter id="emboss">\n      <feConvolveMatrix order="5" bias="0.5" preserveAlpha="true"\n          kernelMatrix="1 0 0 0 0\n                        0 1 0 0 0\n                        0 0 0 0 0\n                        0 0 0 -1 0\n                        0 0 0 0 -1"/>\n    </filter>\n  </defs>\n  <circle cx="300" cy="200" r="50" fill="#ff0000" style="filter:url(#emboss);"/>\n</svg>\n',c="\nvar xml = `".concat(o,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - feConvolveMatrix 2",func:new Function("params",c),source:c}),o='\n<svg viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg" width="600px" height="400px">\n  <filter id="emboss1" x="0" y="0" width="100%" height="100%">\n    <feTurbulence baseFrequency="0.025" seed="0" />\n  </filter>\n  <rect x="0" y="0" width="600" height="400" style="filter:url(#emboss1);" />\n</svg>\n',c="\nvar xml = `".concat(o,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - turbulence",func:new Function("params",c),source:c}),o='\n<svg height="200" width="200" viewBox="0 0 220 220"\n    xmlns="http://www.w3.org/2000/svg">\n  <filter id = "filter">\n    <feSpecularLighting result="specOut"\n        specularExponent="20" lighting-color="#bbbbbb">\n      <fePointLight x="50" y="50" z="200"/>\n    </feSpecularLighting>\n    <feComposite in="SourceGraphic" in2="specOut"\n        operator="arithmetic" k1="0" k2="1" k3="1" k4="0"/>\n  </filter>\n  <circle cx="110" cy="110" r="100" style="filter:url(#filter)"/>\n</svg>\n',c="\nvar xml = `".concat(o,"`;\n\napp.executeSampleScript('Draw SVG', {xml:xml, x:0, y:0});\n"),u(["SVG"],{name:"Draw SVG - SpecularLighting",func:new Function("params",c),source:c}),c="\nctx.filter = 'blur(3px)';\n",u(["filters"],{name:"Blur",func:new Function("params",c),source:c}),c="\nlet amount = params.amount ?? 3;\nlet filterString = 'blur(' + amount + 'px)';\napp.executeSampleScript('Repaint with filter',{filter: filterString});\n",u(["filters"],{name:"Blur layer",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:3}]}),c="\nctx.filter = 'grayscale(100%)';\n",u(["filters","context","color"],{name:"Grayscale",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Repaint with filter', {filter: 'grayscale(100%)'});\n",u(["filters","layer","color"],{name:"Grayscale layer",func:new Function("params",c),source:c}),c="\nlet filter = params.filter ?? 'grayscale(100%)';\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.filter = filter;\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["filters"],{name:"Repaint with filter",func:new Function("params",c),source:c}),c="\nctx.filter = 'grayscale(50%)';\n",u(["filters","context","color"],{name:"Grayscale 50%",func:new Function("params",c),source:c}),c="\nctx.filter = 'brightness(1.2)';\n",u(["filters","context","color"],{name:"Brightness",func:new Function("params",c),source:c}),c="\nctx.filter = 'contrast(150%)';\n",u(["filters","context","color"],{name:"Contrast",func:new Function("params",c),source:c}),c="\nctx.filter = 'invert(100%)';\n",u(["filters","context","color"],{name:"Invert",func:new Function("params",c),source:c}),c="\nctx.filter = 'hue-rotate(120deg)';\n",u(["context","filters","color"],{name:"Hue rotate",func:new Function("params",c),source:c}),c="\nctx.filter = 'drop-shadow(-9px 9px 3px #666666)';\n",u(["filters","context"],{name:"Drop shadow",func:new Function("params",c),source:c}),c="\nctx.filter = 'sepia(100%)';\n",u(["filters","context","color"],{name:"Sepia",func:new Function("params",c),source:c}),c="\nctx.filter = 'opacity(50%)';\n",u(["filters","context"],{name:"Opacity",func:new Function("params",c),source:c}),c="\nctx.filter = 'saturate(30%)';\n",u(["filters","context","color"],{name:"Saturate",func:new Function("params",c),source:c}),c="\nctx.filter = 'none';\n",u(["filters"],{name:"Clear filters",func:new Function("params",c),source:c}),c="\nctx.drawImage(app.canvasLayers[3].canvas, 0, 0);\n",u(["other","layer","app"],{name:"Paint layer to another",func:new Function("params",c),source:c}),c="\nlet red = params.r ?? 255;\nlet green = params.g ?? 0;\nlet blue = params.b ?? 0;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = red;\n    imageData.data[i+1] = green;\n    imageData.data[i+2] = blue;\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["color"],{name:"Set image color",func:new Function("params",c),source:c,params:[{name:"r",type:"number",defaultValue:255},{name:"g",type:"number",defaultValue:0},{name:"b",type:"number",defaultValue:0}]}),c="\nlet red = params.r ?? 1;\nlet green = params.g ?? 0.5;\nlet blue = params.b ?? 0.5;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet imageData = ctx.getImageData(0, 0, width, height);\n\nfor (let i = 0; i < imageData.data.length; i += 4) {\n    imageData.data[i] = imageData.data[i] * red;\n    imageData.data[i+1] = imageData.data[i+1] * green;\n    imageData.data[i+2] = imageData.data[i+2] * blue;\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["color","filters"],{name:"Modulate image color",func:new Function("params",c),source:c,params:[{name:"r",type:"number",defaultValue:1},{name:"g",type:"number",defaultValue:.5},{name:"b",type:"number",defaultValue:.5}]}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nlet tempCanvas = document.createElement('canvas');\ntempCanvas.width = width;\ntempCanvas.height = height;\n\nlet tempCtx = tempCanvas.getContext('2d');\ntempCtx.drawImage(ctx.canvas, 0, 0);\n\nctx.clearRect(0, 0, width, height);\nctx.drawImage(tempCtx.canvas, 0, 0);\n",u(["other"],{name:"Repaint",func:new Function("params",c),source:c}),c="\nlet amount = params.amount ?? 3;\nlet lightOffset = params.lightOffset ?? 100;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Grow',{amount: amount});\napp.executeSampleScript('Lighter', {amount: lightOffset});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border"],{name:"Add border",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:3},{name:"lightOffset",type:"number",defaultValue:100}]}),c="\nlet amount = params.amount || 4;\nlet lightOffset = params.lightOffset || 100;\n\napp.executeSampleScript('Add border', {amount: amount, lightOffset: lightOffset});\napp.executeSampleScript('Add border', {amount: amount, lightOffset: -lightOffset});\n",u(["border"],{name:"Add double border",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:4},{name:"lightOffset",type:"number",defaultValue:100}]}),c="\nlet amount = params.amount ?? 3;\nlet red = params.r ?? 255;\nlet green = params.g ?? 0;\nlet blue = params.b ?? 0;\n\nlet originalLayerName = app.getCurrentLayer().name;\nlet originalCanvas = ctx.canvas;\nlet newLayerName = originalLayerName + '_2';\n\napp.duplicateLayer(originalLayerName, newLayerName);\napp.setCurrentLayer(newLayerName);\n\napp.executeSampleScript('Set image color', {r: red, g: green, b: blue});\napp.executeSampleScript('Grow',{amount: amount});\nctx.drawImage(originalCanvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName(newLayerName).canvas, 0, 0);\n\napp.deleteLayerByName(newLayerName);\n",u(["border","color"],{name:"Add color border",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:3},{name:"r",type:"number",defaultValue:255},{name:"g",type:"number",defaultValue:0},{name:"b",type:"number",defaultValue:0}]}),c='\nlet text = "Hello world!"\nlet width = ctx.measureText(text).width;\n',u(["text"],{name:"Measure text",func:new Function("params",c),source:c}),c="\nctx.setLineDash([4, 2]);\nctx.beginPath();\nctx.lineDashOffset = 0;\nctx.moveTo(100, 100);\nctx.lineTo(300, 100);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw dashed line",func:new Function("params",c),source:c}),c="\napp.addLayerWithName('My layer name');\n",u(["app","layer"],{name:"Add layer",func:new Function("params",c),source:c}),c="\napp.duplicateLayer('sourceLayerName', 'newLayerName');\n",u(["app","layer"],{name:"Duplicate layer",func:new Function("params",c),source:c}),c="\napp.setCurrentLayer('layer01');\n",u(["app","layer"],{name:"Set current layer",func:new Function("params",c),source:c}),c="\napp.executeSampleScript('Grow',{amount: 10});\n",u(["app"],{name:"Execute sample script",func:new Function("params",c),source:c}),c="\napp.executeSavedScript('MyScriptName',{myParam: 10});\n",u(["app"],{name:"Execute saved script",func:new Function("params",c),source:c}),c="\napp.globalVariables.speedX = 100;\n",u(["app"],{name:"Set global variable",func:new Function("params",c),source:c}),c="\nvar speedX = app.globalVariables.speedX;\nalert(speedX);\n",u(["app"],{name:"Get global variable",func:new Function("params",c),source:c}),c="\napp.resetContext();\n",u(["app","context"],{name:"Reset context",func:new Function("params",c),source:c}),c="\napp.combineLayers('baseLayerName','maskLayerName');\n",u(["app","mask","layer"],{name:"Apply mask to layer",func:new Function("params",c),source:c}),c='\n// Options: "top", "hanging", "middle", "alphabetic" (default), "ideographic", "bottom"\nctx.textBaseline = "bottom";\n',u(["text"],{name:"Set text baseline",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.stroke();\n",u(["basic drawing"],{name:"Draw ellipse",func:new Function("params",c),source:c}),c="\nlet x = 100;\nlet y = 100;\nlet radiusX = 50;\nlet radiusY = 75;\nlet rotation = Math.PI / 4;\nlet startAngle = 0;\nlet endAngle = 2 * Math.PI;\nlet anticlockwise = false;\n\nctx.beginPath()\nctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\nctx.fill();\n",u(["basic drawing"],{name:"Fill ellipse",func:new Function("params",c),source:c}),c="\nctx.scale(4, 4);\n",u(["context"],{name:"Set scale",func:new Function("params",c),source:c}),c="\nlet start = { x: 100, y: 100 };\nlet cp1 = { x: 100, y: 200 };\nlet cp2 = { x: 200, y: 100 };\nlet end = { x: 200, y: 200 };\n\nctx.beginPath();\nctx.moveTo(start.x, start.y);\nctx.bezierCurveTo(cp1.x, cp1.y, cp2.x, cp2.y, end.x, end.y);\nctx.stroke();\n",u(["basic drawing"],{name:"Bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet cpx = 200;\nlet cpy = 100;\nlet targetX = 200;\nlet targetY = 200;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.quadraticCurveTo(cpx, cpy, targetX, targetY);\nctx.stroke();\n",u(["basic drawing"],{name:"Quadratic bezier curve",func:new Function("params",c),source:c}),c="\nlet sourceX = 100;\nlet sourceY = 100;\nlet x1 = 200;\nlet y1 = 200;\nlet x2 = 100;\nlet y2 = 200;\nlet radius = 20;\n\nctx.beginPath();\nctx.moveTo(sourceX, sourceY);\nctx.arcTo(x1, y1, x2, y2, radius);\nctx.lineTo(x2, y2);\nctx.stroke();\n",u(["basic drawing"],{name:"Arc to",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\nimg.onload = function() {\n  var pattern = ctx.createPattern(img, 'repeat');\n  ctx.fillStyle = pattern;\n  ctx.fillRect(0, 0, 300, 300);\n};\n",u(["basic drawing","image"],{name:"Create pattern",func:new Function("params",c),source:c}),c="\nconst patternCanvas = document.createElement('canvas');\nconst patternContext = patternCanvas.getContext('2d');\n\npatternCanvas.width = 50;\npatternCanvas.height = 50;\n\npatternContext.fillStyle = '#fec';\npatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\npatternContext.arc(0, 0, 50, 0, .5 * Math.PI);\npatternContext.stroke();\n\nconst pattern = ctx.createPattern(patternCanvas, 'repeat');\nctx.fillStyle = pattern;\nctx.fillRect(0, 0, canvas.width, canvas.height);\n",u(["basic drawing"],{name:"Create pattern from canvas",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? "Text";\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\n\nctx.shadowBlur = params.shadowBlur ?? 5;\nctx.shadowColor = params.shadowColor ?? "#000000";\nctx.shadowOffsetX = params.shadowOffsetX ?? 5;\nctx.shadowOffsetY = params.shadowOffsetY ?? 5;\nctx.fillStyle = params.fillStyle ?? "#FF0000";\nctx.font = params.font ?? "64px Arial";\n\nctx.fillText(text, x, y);\n',u(["filters","text"],{name:"Draw shadow text",func:new Function("params",c),source:c,params:[{name:"text",type:"string",defaultValue:"Text"},{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200},{name:"font",type:"string",defaultValue:"64px Arial"},{name:"fillStyle",type:"string",defaultValue:"#FF0000"},{name:"shadowBlur",type:"number",defaultValue:5},{name:"shadowColor",type:"string",defaultValue:"#000000"},{name:"shadowOffsetX",type:"number",defaultValue:5},{name:"shadowOffsetY",type:"number",defaultValue:5}]}),c='\nlet text = params.text ?? "Hello World";\nlet font = params.font ?? "64px Arial";\nlet x = params.x ?? 100;\nlet y = params.y ?? 200;\nlet height = params.height ?? 6;\n\nctx.fillStyle = params.fillStyle ?? "#FF0000";\n\napp.executeSampleScript(\'Draw text\', {text, font, x, y});\napp.executeSampleScript(\'3D effect 3\', {numSteps: height});\n',u(["filters","text"],{name:"Draw 3D text",func:new Function("params",c),source:c,params:[{name:"text",type:"string",defaultValue:"Hello World"},{name:"font",type:"string",defaultValue:"64px Arial"},{name:"fillStyle",type:"string",defaultValue:"#FF0000"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:6}]}),c='\nlet text = params.text ?? "Neon";\nlet textColor = params.textColor ?? "#FFFFFF";\nlet glowColor = params.glowColor ??  "#FFFF00";\nlet nearColor = params.textColor ?? "#FFFFFF"\nlet blur = params.blur ?? 5;\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\n\nctx.font = params.font ?? "64px Arial";\n\nctx.fillStyle = textColor;\n\nctx.shadowOffsetX = 0;\nctx.shadowOffsetY = 0;\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *4;\nctx.fillText(text, x, y);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur *3;\nctx.fillText(text, x, y);\n\nctx.shadowColor = glowColor;\nctx.shadowBlur = blur * 2;\nctx.fillText(text, x, y);\n\nctx.shadowColor = nearColor;\nctx.shadowBlur = blur;\nctx.fillText(text, x, y);\nctx.fillText(text, x, y);\n',u(["filters","glow","text"],{name:"Glow text",func:new Function("params",c),source:c,params:[{name:"text",type:"string",defaultValue:"Text"},{name:"textColor",type:"string",defaultValue:"#FFFFFF"},{name:"glowColor",type:"string",defaultValue:"#FFFF00"},{name:"blur",type:"number",defaultValue:5},{name:"font",type:"string",defaultValue:"64px Arial"},{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200}]}),c='\nctx.fillStyle = "#FFFFFF";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen white",func:new Function("params",c),source:c}),c='\nctx.fillStyle = "#000000";\nctx.fillRect(0, 0, 600, 400);\n',u(["basic drawing"],{name:"Fill screen black",func:new Function("params",c),source:c}),c="\nctx.fillRect(0, 0, 600, 400);\n",u(["basic drawing"],{name:"Fill with current fillStyle",func:new Function("params",c),source:c}),c="\nvar img = new Image();\nimg.addEventListener('load', function() {\n  ctx.drawImage(img, 100, 100);\n}, false);\nimg.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';\n",u(["basic drawing","image"],{name:"Draw image from URL",func:new Function("params",c),source:c}),c='\nlet imageName = params.imageName ?? "";\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\n\nlet image = app.getImageByName(imageName);\n\nif (image != null) {\n  var img = new Image();\n  img.src = image.url;\n  ctx.drawImage(img, x, y);\n}\n',u(["basic drawing","image"],{name:"Draw image",func:new Function("params",c),source:c,params:[{name:"imageName",type:"string",defaultValue:""},{name:"x",type:"number",defaultValue:0},{name:"y",type:"number",defaultValue:0}]}),c='\nlet imageName = params.imageName ?? "";\nlet x = params.x ?? 0;\nlet y = params.y ?? 0;\nlet width = params.width ?? 100;\nlet height = params.height ?? 100;\n\nlet image = app.getImageByName(imageName);\n\nif (image != null) {\n  var img = new Image();\n  img.src = image.url;\n  ctx.drawImage(img, x, y, width, height);\n}\n',u(["basic drawing","image"],{name:"Draw image scaled",func:new Function("params",c),source:c,params:[{name:"imageName",type:"string",defaultValue:""},{name:"x",type:"number",defaultValue:0},{name:"y",type:"number",defaultValue:0},{name:"width",type:"number",defaultValue:100},{name:"height",type:"number",defaultValue:100}]}),c="\napp.log('message');\n",u(["other"],{name:"Log",func:new Function("params",c),source:c}),c="\nlet random = $util.random256();\napp.log('random256 = ' + random);\n",u(["other","util","math"],{name:"Random 256",func:new Function("params",c),source:c}),c="\nlet random = Math.random();\napp.log('random = ' + random);\n",u(["math"],{name:"Random number",func:new Function("params",c),source:c}),c="\nparams.numSteps = params.numSteps || 10;\nlet dxOffset = params.dxStep != null ? params.dxStep : 0;\nlet dyOffset = params.dyStep != null ? params.dyStep : -1;\n\nlet canvasClone = $util.cloneCanvas(app.getCurrentLayer().canvas);\n\ndx = 0;\ndy = 0;\nfor (let i=0; i<params.numSteps; i++) {\n  dx += dxOffset;\n  dy += dyOffset;\n  ctx.drawImage(canvasClone, dx, dy);\n}\n",u(["filters"],{name:"3D effect",func:new Function("params",c),source:c}),c="\nlet canvasIndex = params.canvasIndex ?? 1;\nlet numSteps = params.numSteps ?? 10;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\n",u(["filters"],{name:"3D effect 2",func:new Function("params",c),source:c}),c="\nlet canvasIndex = params.canvasIndex ?? 1;\nlet numSteps = params.numSteps ?? 6;\nlet dxStep = params.dxStep ?? 0;\nlet dyStep = params.dyStep ?? 1;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.duplicateLayer(originalLayerName, '_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\napp.executeSampleScript('Darker', {amount: 100});\napp.executeSampleScript('3D effect', {numSteps: numSteps, dxStep: dxStep, dyStep: dyStep});\napp.executeSampleScript('Add border', {amount: 2, lightOffset: -100});\n\napp.duplicateLayer(originalLayerName, '_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\napp.executeSampleScript('Add border', {amount: 1, lightOffset: -120});\n\napp.setCurrentLayer(originalLayerName);\nctx.clearRect(0,0,600,400);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\napp.deleteLayerByName('_temp_layer_02');\n",u(["filters"],{name:"3D effect 3",func:new Function("params",c),source:c}),c='\nvar faceRadius = 100;\nvar eyeSpacing = 40;\nvar eyeInnerRadius = 12;\nvar eyeOuterRadius = 30;\nvar eyeBrowOffset = 20;\nvar eyeOffsetX = 20;\nvar eyeBallOffsetX = -10;\nvar mouthRadius = 30;\n\n//face\nctx.beginPath();\nctx.fillStyle = "#FF6633";\nctx.arc(200, 150, faceRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//mouth\nctx.beginPath();\nctx.fillStyle = "#660000";\nctx.arc(200+eyeOffsetX, 210, mouthRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//first eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX+eyeBallOffsetX, 120, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\n//second eye\nctx.beginPath();\nctx.fillStyle = "#FFFFFF";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius, 0, 2 * Math.PI);\nctx.fill();\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX+eyeBallOffsetX, 120, eyeInnerRadius, 0, 2 * Math.PI);\nctx.fill();\n\nctx.lineWidth = 8;\n\n//eyebrow 1\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200-eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 11/8*Math.PI, 13/8*Math.PI);\nctx.stroke();\n\n//eyebrow 2\nctx.beginPath();\nctx.fillStyle = "#000000";\nctx.arc(200+eyeSpacing+eyeOffsetX, 120, eyeOuterRadius + eyeBrowOffset, 11/8*Math.PI, 13/8*Math.PI);\nctx.stroke();\n',u(["other"],{name:"Draw face",func:new Function("params",c),source:c}),c="\nlet font = params.font ?? \"92px Comfortaa\";\nlet text = params.text ?? \"My Logo\";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\nlet gradientStartY = params.gradientStartY ?? 25;\nlet gradientEndY = params.gradientEndY ?? 225;\nlet gradientColor1 = params.gradientColor1 ?? \"#FFFFFF\";\nlet gradientColor2 = params.gradientColor2 ?? \"#FF0000\";\nlet gradientColor3 = params.gradientColor3 ?? \"#000000\";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, gradientColor1);\ngrd.addColorStop(0.5, gradientColor2);\ngrd.addColorStop(1, gradientColor3);\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:5});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:8});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 01",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"92px Comfortaa"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150},{name:"gradientStartY",type:"number",defaultValue:25},{name:"gradientEndY",type:"number",defaultValue:225},{name:"gradientColor1",type:"string",defaultValue:"#FFFFFF"},{name:"gradientColor2",type:"string",defaultValue:"#FF0000"},{name:"gradientColor3",type:"string",defaultValue:"#000000"}]}),c="\nlet font = params.font ?? \"48px Comfortaa\";\nlet text = params.text ?? \"My Logo\";\nlet borderColor = params.borderColor ?? \"#3333AA\";\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\nlet shadowColor = params.shadowColor ?? \"#222288\";\nlet color2 = $util.hexToRgb(shadowColor);\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = \"#FFFFFF\";\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:2});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillStyle = borderColor;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:7});\n\napp.duplicateLayer('_temp_layer_02', '_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\napp.executeSampleScript('3D effect', {canvasIndex: 3, dyStep: 1, numSteps: 5});\napp.executeSampleScript('Set image color', color2);\n\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.duplicateLayer('_temp_layer_04', '_temp_layer_05');\napp.setCurrentLayer('_temp_layer_05');\napp.executeSampleScript('Set image color', {r: 255, g: 255, b: 255});\napp.executeSampleScript('Grow', {amount:3});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_05').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_05');\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 02",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"48px Comfortaa"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150},{name:"borderColor",type:"string",defaultValue:"#3333AA"},{name:"shadowColor",type:"string",defaultValue:"#222288"}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"72px Comfortaa\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 2;\nlet borderSize = params.borderSize ?? 4;\nlet lightOffset = params.lightOffset ?? 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.font = font;\nctx.fillStyle = fillStyle;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\napp.executeSampleScript('Add double border', {amount:borderSize, lightOffset: lightOffset});\n\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\n\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 03",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"72px Comfortaa"},{name:"fillStyle",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:2},{name:"borderSize",type:"number",defaultValue:4},{name:"lightOffset",type:"number",defaultValue:150},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"92px Arial\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 4;\nlet border1 = params.border1 ?? 3;\nlet border2 = params.border2 ?? 5;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1 + border2});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 04",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"92px Arial"},{name:"fillStyle",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:4},{name:"border1",type:"number",defaultValue:3},{name:"border2",type:"number",defaultValue:5},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"92px Arial\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 4;\nlet border1 = params.border1 ?? 3;\nlet border2 = params.border2 ?? 5;\nlet shadowBlur = params.shadowBlur ?? 10;\nlet shadowColor = params.shadowColor ?? \"#000000\";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + border1 + border2});\napp.executeSampleScript('Set image color', {r:255,g:255,b:255});\n\napp.addLayerWithName('_temp_layer_04');\napp.setCurrentLayer('_temp_layer_04');\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = shadowBlur;\nctx.shadowColor = shadowColor;\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_04').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_04');\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 05",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"92px Arial"},{name:"fillStyle",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:4},{name:"border1",type:"number",defaultValue:3},{name:"border2",type:"number",defaultValue:5},{name:"shadowBlur",type:"number",defaultValue:10},{name:"shadowColor",defaultValue:"#000000"},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"64px Comfortaa\";\nlet x = params.x ??  100;\nlet y = params.y ??  150;\nlet gradientColor1 = params.gradientColor1 ?? \"#FF0000\";\nlet gradientColor2 = params.gradientColor2 ?? \"#FFFF00\";\nlet gradientStartY = params.gradientStartY ?? 100;\nlet gradientEndY = params.gradientEndY ?? 175;\nlet grow = params.grow ?? 2;\nlet borderSize = params.borderSize ?? 3;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nvar grd = ctx.createLinearGradient(0, gradientStartY, 0, gradientEndY);\ngrd.addColorStop(0, gradientColor1);\ngrd.addColorStop(1, gradientColor2);\nctx.fillStyle = grd;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow', {amount:grow + borderSize});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\nctx.shadowBlur = 10;\nctx.shadowColor = \"black\";\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 06",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"64px Comfortaa"},{name:"gradientColor1",defaultValue:"#FF0000"},{name:"gradientColor2",defaultValue:"#FFFF00"},{name:"gradientStartY",type:"number",defaultValue:100},{name:"gradientEndY",type:"number",defaultValue:175},{name:"grow",type:"number",defaultValue:2},{name:"borderSize",type:"number",defaultValue:3},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"60px Comfortaa\";\nlet fillStyle = params.fillStyle ?? \"#FFC800\";\nlet fillStyleShadow = params.fillStyleShadow ?? \"#C86400\";\nlet grow = params.grow ?? 2;\nlet height = params.height ?? 4;\nlet borderSize = params.borderSize ?? 2;\nlet x = params.x ?? 100;\nlet y = params.y ?? 150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\nctx.fillStyle = fillStyleShadow;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\napp.executeSampleScript('3D effect', {canvasIndex:2, numSteps:height, dxStep:1, dyStep:0});\n\napp.addLayerWithName('_temp_layer_03');\napp.setCurrentLayer('_temp_layer_03');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.executeSampleScript('Add color border',{amount:borderSize, r:0, g:0, b:0});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_03').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_03');\napp.deleteLayerByName('_temp_layer_02');\napp.deleteLayerByName('_temp_layer_01');\n",u(["logos"],{name:"Logo 07",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"60px Comfortaa"},{name:"fillStyle",defaultValue:"#FFC800"},{name:"fillStyleShadow",defaultValue:"#C86400"},{name:"grow",type:"number",defaultValue:2},{name:"height",type:"number",defaultValue:4},{name:"borderSize",type:"number",defaultValue:2},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ??  \"60px Comfortaa\";\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet shadowColor = params.shadowColor ?? \"#000000\";\nlet grow = params.grow ?? 2;\nlet height = params.height ?? 4;\nlet x = params.x ??  100;\nlet y = params.y ??  150;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\napp.executeSampleScript('3D effect 3', {numSteps: height});\n\napp.setCurrentLayer(originalLayerName);\nctx.shadowBlur = 5;\nctx.shadowColor = shadowColor;\nctx.shadowOffsetX = 2;\nctx.shadowOffsetY = 2;\nctx.drawImage(app.getLayerByName('_temp_layer_001').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_001');\n",u(["logos"],{name:"Logo 08",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"60px Comfortaa"},{name:"fillStyle",defaultValue:"#FF0000"},{name:"shadowColor",defaultValue:"#000000"},{name:"grow",type:"number",defaultValue:2},{name:"height",type:"number",defaultValue:4},{name:"x",type:"number",defaultValue:100},{name:"y",type:"number",defaultValue:150}]}),c="\nlet text = params.text ?? \"My Logo\";\nlet font = params.font ?? \"60px Comfortaa\";\nlet fillStyle = params.fillStyle ?? \"#FF0000\";\nlet grow = params.grow ?? 3;\nlet borderSize = params.borderSize ?? 2;\nlet x = params.x ?? 200;\nlet y = params.y ?? 200;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\nctx.fillStyle = fillStyle;\nctx.font = font;\nctx.fillText(text, x, y);\napp.executeSampleScript('Grow',{amount:grow});\napp.executeSampleScript('Add color border',{amount:borderSize, r:0, g:0, b:0});\n\nctx.shadowBlur = 5;\nctx.shadowColor = \"#000000\";\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n\napp.executeSampleScript('Repaint');\n\napp.setCurrentLayer(originalLayerName);\n\nctx.drawImage(app.getLayerByName('_temp_layer_001').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_001');\n",u(["logos"],{name:"Logo 09",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"My Logo"},{name:"font",defaultValue:"60px Comfortaa"},{name:"fillStyle",defaultValue:"#FF0000"},{name:"grow",type:"number",defaultValue:3},{name:"borderSize",type:"number",defaultValue:2},{name:"x",type:"number",defaultValue:200},{name:"y",type:"number",defaultValue:200}]}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet buttonColor = params.buttonColor ?? "#000066";\nlet font = params.font ?? "48px Arial";\n\nctx.strokeStyle = buttonColor;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"48px Arial"},{name:"textColor",defaultValue:"#FFFFFF"},{name:"buttonColor",defaultValue:"#000066"},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:100},{name:"width",type:"number",defaultValue:200}]}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 100;\nlet buttonWidth = params.width ?? 200;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet font = params.font ?? "48px Arial";\n\nvar grd = ctx.createLinearGradient(0, 200, 600, 200);\ngrd.addColorStop(0, "#FF0000");\ngrd.addColorStop(1, "#FFAA00");\n\nctx.strokeStyle = grd;\nctx.lineWidth = buttonHeight;\nctx.lineCap = \'round\';\nctx.beginPath();\nctx.moveTo(buttonX - buttonWidth/2, buttonY);\nctx.lineTo(buttonX + buttonWidth/2, buttonY);\nctx.stroke();\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"48px Arial"},{name:"textColor",defaultValue:"#FFFFFF"},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:100}]}),c="\nlet x = params.x ?? 100;\nlet y = params.x ?? 100;\nlet w = params.x ?? 150;\nlet h = params.x ?? 50;\nlet r = params.x ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.stroke();\n",u(["basic drawing"],{name:"Draw round rect",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 100;\nlet y = params.y ?? 100;\nlet w = params.w ?? 150;\nlet h = params.h ?? 50;\nlet r = params.r ?? 15;\n\nif (w < 2 * r) r = w / 2;\nif (h < 2 * r) r = h / 2;\nctx.beginPath();\nctx.moveTo(x+r, y);\nctx.arcTo(x+w, y,   x+w, y+h, r);\nctx.arcTo(x+w, y+h, x,   y+h, r);\nctx.arcTo(x,   y+h, x,   y,   r);\nctx.arcTo(x,   y,   x+w, y,   r);\nctx.closePath()\nctx.fill();\n",u(["basic drawing"],{name:"Fill round rect",func:new Function("params",c),source:c}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = params.borderRadius ?? 10;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet buttonColor = params.buttonColor ?? "#3333CC";\nlet font = params.font ?? "18px Arial";\n\nctx.fillStyle = buttonColor;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Round button 2",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"18px Arial"},{name:"textColor",defaultValue:"#FFFFFF"},{name:"buttonColor",defaultValue:"#3333CC"},{name:"borderRadius",type:"number",defaultValue:10},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c="\nlet text = params.text ?? 'Button';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = params.borderRadius ?? 10;\nlet borderSize = params.borderSize ?? 4;\nlet textColor = params.textColor ?? \"#FFFFFF\";\nlet buttonColor = params.buttonColor ?? \"#33AACC\";\nlet borderColor = params.borderColor ?? \"#FFFFFF\";\nlet font = params.font ?? \"28px Arial\";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_01');\napp.setCurrentLayer('_temp_layer_01');\n\nctx.fillStyle = buttonColor;\n\napp.executeSampleScript('Fill round rect', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\napp.addLayerWithName('_temp_layer_02');\napp.setCurrentLayer('_temp_layer_02');\n\nctx.fillStyle = textColor;\nctx.textAlign = \"center\";\nctx.textBaseline = 'middle';\nctx.font = font;\nctx.fillText(text, buttonX, buttonY);\n\napp.executeSampleScript('Grow', {amount: 1});\napp.executeSampleScript('Add shadow', {shadowBlur: 0, shadowColor: \"#00000099\", shadowOffsetX: 2, shadowOffsetY: 2});\n\napp.setCurrentLayer('_temp_layer_01');\nctx.drawImage(app.getLayerByName('_temp_layer_02').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_02');\n\nlet borderParams = $util.hexToRgb(borderColor);\nborderParams.amount = borderSize;\napp.executeSampleScript('Add color border', borderParams);\n\napp.executeSampleScript('Add shadow', {shadowBlur: 0, shadowOffsetX: 5, shadowOffsetY: 5});\n\napp.setCurrentLayer(originalLayerName);\nctx.drawImage(app.getLayerByName('_temp_layer_01').canvas, 0, 0);\napp.deleteLayerByName('_temp_layer_01');\n",u(["buttons"],{name:"Round button 3",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"28px Arial"},{name:"textColor",defaultValue:"#FFFFFF"},{name:"buttonColor",defaultValue:"#33AACC"},{name:"borderRadius",type:"number",defaultValue:10},{name:"borderSize",type:"number",defaultValue:4},{name:"borderColor",defaultValue:"#FFFFFF"},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c='\nlet text = params.text ?? \'Button\';\nlet buttonX = params.x ?? 300;\nlet buttonY = params.y ?? 200;\nlet buttonHeight = params.height ?? 50;\nlet buttonWidth = params.width ?? 200;\nlet buttonRadius = params.borderRadius ?? 10;\nlet textColor = params.textColor ?? "#FFFFFF";\nlet font = params.font ?? "18px Arial";\n\nvar grd = ctx.createLinearGradient(0, 200, 600, 200);\ngrd.addColorStop(0, "#FF0000");\ngrd.addColorStop(1, "#FFAA00");\n\nctx.fillStyle = grd;\n\napp.executeSampleScript(\'Fill round rect\', {x:buttonX - buttonWidth/2, y:buttonY - buttonHeight/2, w:buttonWidth, h:buttonHeight, r:buttonRadius});\n\nctx.font = font;\nctx.fillStyle = textColor;\nctx.textAlign = "center";\nctx.textBaseline = \'middle\';\nctx.fillText(text, buttonX, buttonY);\n',u(["buttons"],{name:"Gradient round button 2",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"18px Arial"},{name:"textColor",defaultValue:"#FFFFFF"},{name:"borderRadius",type:"number",defaultValue:10},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c="\napp.executeSampleScript('Gradient round button 2', params);\napp.executeSampleScript('3D effect 3');\n",u(["buttons"],{name:"3D gradient round button",func:new Function("params",c),source:c,params:[{name:"text",defaultValue:"Button"},{name:"font",defaultValue:"18px Arial"},{name:"textColor",defaultValue:"#FFFFFF"},{name:"borderRadius",type:"number",defaultValue:10},{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"width",type:"number",defaultValue:200},{name:"height",type:"number",defaultValue:50}]}),c="\nlet amount = params.amount || 50;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\nconst imageData = ctx.getImageData(0, 0, width, height);\n\n// Iterate through every pixel\nfor (let i = 0; i < imageData.data.length; i += 4) {\n  // Modify pixel data\n  imageData.data[i + 0] += Math.random()*amount - amount/2; // R value\n  imageData.data[i + 1] += Math.random()*amount - amount/2; // G value\n  imageData.data[i + 2] += Math.random()*amount - amount/2; // B value\n}\n\nctx.putImageData(imageData, 0, 0);\n",u(["filters"],{name:"Noise",func:new Function("params",c),source:c,params:[{name:"amount",type:"number",defaultValue:50}]}),c='\nlet color = "#0066aa";\nlet borderColor = "#666666";\nlet borderSize = 1;\nlet lightSize = 2;\nlet x = 200;\nlet y = 200;\nlet w = 20;\nlet h = 20;\n\nlet colorRgb = $util.hexToRgb(color);\nlet lighterColorRgb = $util.rgbAdd(colorRgb, 30);\nlet lightColor = $util.rgbToHex(lighterColorRgb);\n\nctx.fillStyle=borderColor;\nctx.fillRect(x, y, w, h);\nctx.fillStyle=lightColor;\nctx.fillRect(x + borderSize, y + borderSize, w - 2 * borderSize, h - 2 * borderSize);\nctx.fillStyle=color;\nctx.fillRect(x + borderSize + lightSize, y + borderSize + lightSize, w - 2 * borderSize - 2 * lightSize, h - 2 * borderSize - 2 * lightSize);\n',u(["shapes"],{name:"Bordered square",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 200;\nlet startAngle = params.startAngle ?? 0;\nlet endAngle = params.endAngle ?? 2 * Math.PI / 24;\n\nctx.beginPath();\nctx.arc(x, y, size, startAngle, endAngle);\nctx.lineTo(x,y);\nctx.fill();\n",u(["other"],{name:"Fill ray",func:new Function("params",c),source:c}),c='\nlet x = params.x ?? 300;\nlet y = params.y ?? 200;\nlet size = params.size ?? 400;\nlet numRays = params.numRays ?? 48;\nlet color1 = params.color1 ?? "#ff6600";\nlet color2 = params.color2 ?? "#ffcc00";\n\nlet offset = 2 * Math.PI / numRays;\n\nlet startAngle = 0;\nlet endAngle = startAngle + offset;\n\nctx.save();\n\nctx.beginPath();\nctx.globalAlpha = 0;\nctx.arc(x, y, size, 0, 2 * Math.PI);\nctx.stroke();\nctx.globalAlpha = 1;\nctx.clip();\n\nctx.fillStyle = color1;\nctx.fillRect(0,0,600,400);\nctx.fillStyle = color2;\n\nfor (let i=0; i<numRays; i += 2) {\n  app.executeSampleScript(\'Fill ray\', {x:x, y:y, size:size, startAngle:startAngle, endAngle:endAngle});\n  startAngle += 2 * offset;\n  endAngle += 2 * offset;\n}\n\nctx.restore();\n',u(["other"],{name:"Sunburst effect",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:200},{name:"size",type:"number",defaultValue:400},{name:"numRays",type:"number",defaultValue:48},{name:"color1",type:"string",defaultValue:"#ff6600"},{name:"color2",type:"string",defaultValue:"#ffcc00"}]}),c='\nlet text = "Hello World";\nctx.font = "64px Arial";\nlet x = 110;\nlet y = 200;\nlet colors = ["#ff0000","#00ff00","#0000ff"];\n\nfor (let i=0; i<text.length; i++) {\n  let letter = text.substring(i, i+1);\n  ctx.fillStyle = colors[i % colors.length];\n  ctx.fillText(letter, x, y);\n  x += ctx.measureText(letter).width;\n}\n',u(["text","color"],{name:"Letters with different colors",func:new Function("params",c),source:c}),c="\nctx.translate(100, 50);\n",u(["context"],{name:"Translate",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\nconst imageData = ctx.getImageData(0, 0, width, height);\n\nlet newImageData = $util.convolute(imageData, [1,0,0, 0,0,0, 0,0,-1], false);\n\nctx.putImageData(newImageData, 0, 0);\n",u(["filters"],{name:"Convolute",func:new Function("params",c),source:c}),c="\nlet weights = [1,0,0, 0,0,0, 0,0,-1];\nlet opaque = false;\n$util.convoluteLayer(ctx, weights, opaque);\n",u(["filters"],{name:"Convolute layer",func:new Function("params",c),source:c}),c='\nlet souceLayerName = params.souceLayerName ?? "Layer 01";\nlet targetLayerName = params.targetLayerName ?? "Layer 02";\n\nlet originalLayerName = app.getCurrentLayer().name;\n\nlet width = ctx.canvas.width;\nlet height = ctx.canvas.height;\n\napp.setCurrentLayer(souceLayerName);\nlet imageData = ctx.getImageData(0, 0, width, height);\n\napp.setCurrentLayer(targetLayerName);\nctx.putImageData(imageData, 0, 0);\n\napp.setCurrentLayer(originalLayerName);\n',u(["layer","image"],{name:"Clone layer image data",func:new Function("params",c),source:c}),c="\nlet width = ctx.canvas.width;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.setTransform(-1, 0, 0, 1, width, 0);\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["layer","image"],{name:"Flip horizontally",func:new Function("params",c),source:c}),c="\nlet height = ctx.canvas.height;\n\nlet originalLayerName = app.getCurrentLayer().name;\n\napp.addLayerWithName('_temp_layer_001');\napp.setCurrentLayer('_temp_layer_001');\n\nctx.setTransform(1, 0, 0, -1, 0, height);\n\nctx.drawImage(app.getLayerByName(originalLayerName).canvas, 0, 0);\n\napp.executeSampleScript('Clone layer image data', {souceLayerName: '_temp_layer_001', targetLayerName: originalLayerName});\n\napp.setCurrentLayer(originalLayerName);\napp.deleteLayerByName('_temp_layer_001');\n",u(["layer","image"],{name:"Flip vertically",func:new Function("params",c),source:c}),c="\nlet x = params.x ?? 300;\nlet y = params.y ?? 250;\n\nlet color = {\n  r: params.red ?? 255,\n  g: params.green ?? 0,\n  b: params.blue ?? 0,\n  a: params.alpha ?? 255\n};\n\n$util.floodFill(ctx, color, x, y);\n",u(["color"],{name:"Bucket fill",func:new Function("params",c),source:c,params:[{name:"x",type:"number",defaultValue:300},{name:"y",type:"number",defaultValue:250},{name:"red",type:"number",defaultValue:255},{name:"green",type:"number",defaultValue:0},{name:"blue",type:"number",defaultValue:0},{name:"alpha",type:"number",defaultValue:255}]});a("a15b"),a("d81d"),a("25f0"),a("466d"),a("5319");var d={pasteClipboardImage:function(e){if(e.clipboardData){var t=e.clipboardData.items;if(t){for(var a=!1,n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var r=t[n].getAsFile(),i=window.URL||window.webkitURL,l=i.createObjectURL(r);if(null!=l){var s=new Image;s.onload=function(){window.ctx.drawImage(s,0,0)},s.src=l}a=!0}a&&e.preventDefault()}}},convoluteLayer:function(e,t,a){var n=e.canvas.width,r=e.canvas.height,i=e.getImageData(0,0,n,r),l=this.convolute(i,t,a);e.putImageData(l,0,0)},convolute:function(e,t,a){for(var n=Math.round(Math.sqrt(t.length)),r=Math.floor(n/2),i=e.data,l=e.width,s=e.height,o=l,c=s,u=document.createElement("canvas").getContext("2d").createImageData(o,c),p=u.data,m=a?1:0,d=0;d<c;d++)for(var h=0;h<o;h++){for(var f=d,v=h,g=4*(d*o+h),x=0,y=0,b=0,w=0,C=0;C<n;C++)for(var S=0;S<n;S++){var _=f+C-r,L=v+S-r;if(_>=0&&_<s&&L>=0&&L<l){var F=4*(_*l+L),P=t[C*n+S];x+=i[F]*P,y+=i[F+1]*P,b+=i[F+2]*P,w+=i[F+3]*P}}p[g]=x,p[g+1]=y,p[g+2]=b,p[g+3]=w+m*(255-w)}return u},rgbToHex:function(e){return"#"+[e.r,e.g,e.b].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")},hexToRgb:function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,a,n){return"#"+t+t+a+a+n+n})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)}));return{r:t[0],g:t[1],b:t[2]}},rgbAdd:function(e,t){return e.r+=t,e.g+=t,e.b+=t,e.r=this.rgbFit(e.r),e.g=this.rgbFit(e.g),e.b=this.rgbFit(e.b),e},rgbFit:function(e){return e=Math.round(e),Math.max(Math.min(e,255),0)},random256:function(){return Math.floor(256*Math.random())},cloneCanvas:function(e){var t=document.createElement("canvas");t.width=600,t.height=400;var a=t.getContext("2d");return a.drawImage(e,0,0),t},getImageDataPosition:function(e,t,a){var n=e.width,r=4*(a*n+t);return r},cropAt:function(e,t,a,n,r){var i=e.width,l=e.height,s=e.getContext("2d"),o=s.getImageData(0,0,i,l),c=n-t+1,u=r-a+1,p=document.createElement("canvas");p.width=c,p.height=u;var m=p.getContext("2d");return m.putImageData(o,-t,-a),p},crop:function(e){for(var t=e.width,a=e.height,n=e.getContext("2d"),r=n.getImageData(0,0,t,a),i=0,l=0,s=t-1,o=a-1,c=0;c<t;c++){var u=!0;i=c;for(var p=0;p<a;p++){var m=this.getImageDataPosition(e,c,p);if(r.data[m+3]>0){u=!1;break}}if(!u)break}for(var d=t-1;d>=0;d--){var h=!0;s=d;for(var f=0;f<a;f++){var v=this.getImageDataPosition(e,d,f);if(r.data[v+3]>0){h=!1;break}}if(!h)break}for(var g=0;g<a;g++){var x=!0;l=g;for(var y=0;y<t;y++){var b=this.getImageDataPosition(e,y,g);if(r.data[b+3]>0){x=!1;break}}if(!x)break}for(var w=a-1;w>=0;w--){var C=!0;o=w;for(var S=0;S<t;S++){var _=this.getImageDataPosition(e,S,w);if(r.data[_+3]>0){C=!1;break}}if(!C)break}return this.cropAt(e,i,l,s,o)},getColorAtPixel:function(e,t,a){var n=e.width,r=e.data;return{r:r[4*(n*a+t)+0],g:r[4*(n*a+t)+1],b:r[4*(n*a+t)+2],a:r[4*(n*a+t)+3]}},setColorAtPixel:function(e,t,a,n){var r=e.width,i=e.data;i[4*(r*n+a)+0]=255&t.r,i[4*(r*n+a)+1]=255&t.g,i[4*(r*n+a)+2]=255&t.b,i[4*(r*n+a)+3]=255&t.a},colorMatch:function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},floodFill:function(e,t,a,n){var r=e.canvas.width,i=e.canvas.height,l=e.getImageData(0,0,r,i);this.floodFillImageData(l,t,a,n),e.putImageData(l,0,0)},floodFillImageData:function(e,t,a,n){var r=e.width,i=e.height,l=[],s=this.getColorAtPixel(e,a,n),o={x:a,y:n};if(!this.colorMatch(s,t)){l.push({x:o.x,y:o.y});while(l.length){o=l.pop();var c=!0,u=!0,p=!1,m=!1;while(u&&o.y>=0)o.y--,u=this.colorMatch(this.getColorAtPixel(e,o.x,o.y),s);while(c&&o.y<i)this.setColorAtPixel(e,t,o.x,o.y),o.x-1>=0&&this.colorMatch(this.getColorAtPixel(e,o.x-1,o.y),s)?p||(p=!0,l.push({x:o.x-1,y:o.y})):p=!1,o.x+1<r&&this.colorMatch(this.getColorAtPixel(e,o.x+1,o.y),s)?m||(l.push({x:o.x+1,y:o.y}),m=!0):m=!1,o.y++,c=this.colorMatch(this.getColorAtPixel(e,o.x,o.y),s)}}}},h=d,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand navbar-light",staticStyle:{position:"absolute"}},[a("a",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",left:"10px",top:"13px"},attrs:{href:"#",role:"button",id:"navbarDropdownMenuLink"},on:{mousedown:function(t){return e.onMainMenuClick()}}},[a("IconMenu",{staticStyle:{"margin-top":"-3px"},attrs:{color:"#ffffff"}}),e._v(" "),a("b",[e._v("Menu")])],1),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"main-menu-children","aria-labelledby":"navbarDropdownMenuLink"}},e._l(e.menuItems,(function(t){return a("li",{key:t.id,class:t.children.length>0?"dropdown-submenu":""},[0==t.children.length?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOver("submenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"submenu-"+t.id,href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOver("submenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"submenu-"+t.id+"-children"}},e._l(t.children,(function(t){return a("li",{key:t.id,staticClass:"dropdown-submenu"},[0==t.children.length?a("a",{staticClass:"dropdown-item",attrs:{id:"subsubmenu-"+t.id,href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOverLevel2("subsubmenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("a",{staticClass:"dropdown-item dropdown-toggle",attrs:{id:"subsubmenu-"+t.id,href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)},mouseover:function(a){return e.mouseOverLevel2("subsubmenu-"+t.id)}}},[e._v(e._s(t.name))]):e._e(),t.children.length>0?a("ul",{staticClass:"dropdown-menu shadow",attrs:{id:"subsubmenu-"+t.id+"-children"}},e._l(t.children,(function(t){return a("li",{key:t.id},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.onMenuItemClick(t.id)}}},[e._v(e._s(t.name))])])})),0):e._e()])})),0):e._e()])})),0)])])])])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},x=[],y={name:"IconMenu",props:{color:{type:String,default:"#000000"}}},b=y,w=a("2877"),C=Object(w["a"])(b,g,x,!1,null,"ba0db6c4",null),S=C.exports,_={name:"MainMenu",components:{IconMenu:S},props:{},data:function(){return{menuOpened:!1,menuItems:[{id:"new-project",name:"New project...",children:[]},{id:"edit",name:"Edit",children:[{id:"paste-image-from-clipboard",name:"Paste image from clipboard (CTRL+V)",children:[]}]},{id:"image",name:"Image",children:[{id:"clear-current-layer",name:"Clear current layer",children:[]},{id:"fill-white",name:"Fill with white",children:[]},{id:"fill-black",name:"Fill with black",children:[]},{id:"fill-with-current-fill-style",name:"Fill with current fillStyle",children:[]},{id:"invert-colors",name:"Invert colors",children:[]},{id:"invert-alpha",name:"Invert alpha",children:[]},{id:"flip-horizontally",name:"Flip horizontally",children:[]},{id:"flip-vertically",name:"Flip vertically",children:[]},{id:"rotate-layer",name:"Rotate...",children:[]}]},{id:"layer",name:"Layer",children:[{id:"add-layer",name:"Add layer",children:[]},{id:"duplicate-layer",name:"Duplicate layer",children:[]},{id:"delete-layer",name:"Delete layer",children:[]}]},{id:"draw",name:"Draw",children:[{id:"text",name:"Text",children:[{id:"draw-text",name:"Draw text...",children:[]},{id:"draw-stroke-text",name:"Draw stroke text...",children:[]},{id:"draw-shadow-text",name:"Draw shadow text...",children:[]},{id:"glow-text",name:"Glow text...",children:[]},{id:"draw-3d-text",name:"Draw 3D text...",children:[]},{id:"logo-01",name:"Logo 01...",children:[]},{id:"logo-02",name:"Logo 02...",children:[]},{id:"logo-03",name:"Logo 03...",children:[]},{id:"logo-04",name:"Logo 04...",children:[]},{id:"logo-05",name:"Logo 05...",children:[]},{id:"logo-06",name:"Logo 06...",children:[]},{id:"logo-07",name:"Logo 07...",children:[]},{id:"logo-08",name:"Logo 08...",children:[]},{id:"logo-09",name:"Logo 09...",children:[]}]},{id:"buttons",name:"Buttons",children:[{id:"round-button",name:"Round button...",children:[]},{id:"round-button-2",name:"Round button 2...",children:[]},{id:"round-button-3",name:"Round button 3...",children:[]},{id:"gradient-round-button",name:"Gradient round button...",children:[]},{id:"gradient-round-button-2",name:"Gradient round button 2...",children:[]},{id:"3d-gradient-round-button",name:"3D gradient round button...",children:[]}]},{id:"draw-line",name:"Draw line...",children:[]},{id:"draw-circle",name:"Draw circle...",children:[]},{id:"fill-circle",name:"Fill circle...",children:[]},{id:"draw-rect",name:"Draw rect...",children:[]},{id:"fill-rect",name:"Fill rect...",children:[]}]},{id:"filters",name:"Filters",children:[{id:"color",name:"Color",children:[{id:"grayscale",name:"Grayscale",children:[]},{id:"sepia",name:"Sepia",children:[]},{id:"lighter",name:"Lighter...",children:[]},{id:"darker",name:"Darker...",children:[]},{id:"set-image-color",name:"Set image color...",children:[]},{id:"modulate-image-color",name:"Modulate image color...",children:[]}]},{id:"border",name:"Border",children:[{id:"add-border",name:"Add border...",children:[]},{id:"add-double-border",name:"Add double border...",children:[]},{id:"add-color-border",name:"Add color border...",children:[]}]},{id:"blur",name:"Blur...",children:[]},{id:"add-shadow",name:"Add shadow...",children:[]},{id:"grow",name:"Grow...",children:[]},{id:"noise",name:"Noise...",children:[]},{id:"sunburst-effect",name:"Sunburst effect...",children:[]}]},{id:"scripts",name:"Scripts",children:[{id:"new-script",name:"New script...",children:[]}]},{id:"export",name:"Export...",children:[]},{id:"help",name:"Help",children:[]}],currentMenuItem:null}},mounted:function(){window.$(".dropdown-menu").click((function(e){e.stopPropagation()})),window.$("#navbarDropdownMenuLink").click((function(e){e.stopPropagation()}));var e=this;window.$(document).click((function(t){e.resetMenu()}))},methods:{onMainMenuClick:function(){this.menuOpened?this.resetMenu():this.openMainMenu()},hideMenuItem:function(e){var t=document.getElementById(e+"-children");null!=t&&t.classList.remove("show")},showMenuItem:function(e){var t=document.getElementById(e+"-children");null!=t&&t.classList.add("show")},selectMenuItem:function(e){var t=document.getElementById(e);null!=t&&t.classList.add("dropdown-item-selected")},unselectMenuItem:function(e){var t=document.getElementById(e);null!=t&&t.classList.remove("dropdown-item-selected")},unselectMenuItemsLevel1:function(){for(var e=0;e<this.menuItems.length;e++){var t=this.menuItems[e];this.unselectMenuItem("submenu-"+t.id)}this.unselectMenuItemsLevel2()},unselectMenuItemsLevel2:function(){for(var e=0;e<this.menuItems.length;e++)for(var t=this.menuItems[e],a=0;a<t.children.length;a++){var n=t.children[a];this.unselectMenuItem("subsubmenu-"+n.id)}},selectMenuItemLevel1:function(e){this.unselectMenuItemsLevel1(),this.selectMenuItem(e)},selectMenuItemLevel2:function(e){this.unselectMenuItemsLevel2(),this.selectMenuItem(e)},openMainMenu:function(){this.showMenuItem("main-menu"),this.menuOpened=!0},resetMenu:function(){this.hideMenuItem("main-menu"),this.resetMenuLevel2(),this.unselectMenuItemsLevel1(),this.menuOpened=!1},resetMenuLevel2:function(){for(var e=0;e<this.menuItems.length;e++){var t=this.menuItems[e];this.hideMenuItem("submenu-"+t.id)}this.resetMenuLevel3()},resetMenuLevel3:function(){for(var e=0;e<this.menuItems.length;e++)for(var t=this.menuItems[e],a=0;a<t.children.length;a++){var n=t.children[a];this.hideMenuItem("subsubmenu-"+n.id)}},mouseOver:function(e){this.resetMenuLevel2(),this.showMenuItem(e),this.selectMenuItemLevel1(e)},mouseOverLevel2:function(e){this.resetMenuLevel3(),this.showMenuItem(e),this.selectMenuItemLevel2(e)},fillScreenWhite:function(){this.resetMenu(),this.$parent.fillScreenWhite()},fillScreenBlack:function(){this.resetMenu(),this.$parent.fillScreenBlack()},clearCurrentLayer:function(){this.resetMenu(),this.$parent.clearCurrentLayer()},onMenuItemClick:function(e){if("new-project"==e)window.location.reload();else if("fill-white"==e)this.$parent.fillScreenWhite();else if("fill-black"==e)this.$parent.fillScreenBlack();else if("fill-with-current-fill-style"==e)this.$parent.executeSampleScript("Fill with current fillStyle",{});else if("clear-current-layer"==e)this.$parent.clearCurrentLayer();else if("export"==e)this.$parent.showExportModal();else if("help"==e)this.$parent.showModalHelp();else if("paste-image-from-clipboard"==e)this.$parent.showModalPasteImageFromClipboard();else if("add-layer"==e)this.$parent.$refs.layersPanel.showAddLayerForm();else if("duplicate-layer"==e)this.$parent.$refs.layersPanel.showDuplicateLayerForm();else if("delete-layer"==e)this.$parent.deleteCurrentLayer();else if("new-script"==e)this.$parent.createNewScript();else if("grayscale"==e)this.$parent.executeSampleScript("Grayscale layer",{});else if("sepia"==e)this.$parent.executeSampleScript("Repaint with filter",{filter:"sepia(100%)"});else if("lighter"==e)this.$parent.selectSampleScriptWithParams("Lighter");else if("darker"==e)this.$parent.selectSampleScriptWithParams("Darker");else if("invert-colors"==e)this.$parent.executeSampleScript("Invert image colors",{});else if("invert-alpha"==e)this.$parent.executeSampleScript("Invert image alpha",{});else if("blur"==e)this.$parent.selectSampleScriptWithParams("Blur layer");else if("grow"==e)this.$parent.selectSampleScriptWithParams("Grow");else if("set-image-color"==e)this.$parent.selectSampleScriptWithParams("Set image color");else if("modulate-image-color"==e)this.$parent.selectSampleScriptWithParams("Modulate image color");else if("add-border"==e)this.$parent.selectSampleScriptWithParams("Add border");else if("add-double-border"==e)this.$parent.selectSampleScriptWithParams("Add double border");else if("add-color-border"==e)this.$parent.selectSampleScriptWithParams("Add color border");else if("noise"==e)this.$parent.selectSampleScriptWithParams("Noise");else if("sunburst-effect"==e)this.$parent.selectSampleScriptWithParams("Sunburst effect");else if("draw-line"==e)this.$parent.selectSampleScriptWithParams("Draw line");else if("draw-circle"==e)this.$parent.selectSampleScriptWithParams("Draw circle");else if("fill-circle"==e)this.$parent.selectSampleScriptWithParams("Fill circle");else if("draw-rect"==e)this.$parent.selectSampleScriptWithParams("Draw rect");else if("fill-rect"==e)this.$parent.selectSampleScriptWithParams("Fill rect");else if("draw-text"==e)this.$parent.selectSampleScriptWithParams("Draw text");else if("draw-stroke-text"==e)this.$parent.selectSampleScriptWithParams("Draw stroke text");else if("glow-text"==e)this.$parent.selectSampleScriptWithParams("Glow text");else if("draw-3d-text"==e)this.$parent.selectSampleScriptWithParams("Draw 3D text");else if("draw-shadow-text"==e)this.$parent.selectSampleScriptWithParams("Draw shadow text");else if("logo-01"==e)this.$parent.selectSampleScriptWithParams("Logo 01");else if("logo-02"==e)this.$parent.selectSampleScriptWithParams("Logo 02");else if("logo-03"==e)this.$parent.selectSampleScriptWithParams("Logo 03");else if("logo-04"==e)this.$parent.selectSampleScriptWithParams("Logo 04");else if("logo-05"==e)this.$parent.selectSampleScriptWithParams("Logo 05");else if("logo-06"==e)this.$parent.selectSampleScriptWithParams("Logo 06");else if("logo-07"==e)this.$parent.selectSampleScriptWithParams("Logo 07");else if("logo-08"==e)this.$parent.selectSampleScriptWithParams("Logo 08");else if("logo-09"==e)this.$parent.selectSampleScriptWithParams("Logo 09");else if("round-button"==e)this.$parent.selectSampleScriptWithParams("Round button");else if("round-button-2"==e)this.$parent.selectSampleScriptWithParams("Round button 2");else if("round-button-3"==e)this.$parent.selectSampleScriptWithParams("Round button 3");else if("gradient-round-button"==e)this.$parent.selectSampleScriptWithParams("Gradient round button");else if("gradient-round-button-2"==e)this.$parent.selectSampleScriptWithParams("Gradient round button 2");else if("3d-gradient-round-button"==e)this.$parent.selectSampleScriptWithParams("3D gradient round button");else if("flip-horizontally"==e)this.$parent.executeSampleScript("Flip horizontally",{});else if("flip-vertically"==e)this.$parent.executeSampleScript("Flip vertically",{});else if("rotate-layer"==e)this.$parent.selectSampleScriptWithParams("Rotate layer");else{if("add-shadow"!=e)return;this.$parent.selectSampleScriptWithParams("Add shadow")}this.resetMenu()}}},L=_,F=(a("375d"),Object(w["a"])(L,f,v,!1,null,"025d4266",null)),P=F.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("context")}}},[a("span",{staticClass:"panelTitle"},[e._v("Context")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.context,expression:"$parent.visiblePanels.context"}],staticClass:"panelBody"},[a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.resetContext()}}},[e._v("Reset context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.saveContext()}}},[e._v("Save context")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.restoreContext()}}},[e._v("Restore context")])]),a("table",{staticClass:"smallTable contextPropertiesTable"},[a("tbody",[a("tr",[a("td",[e._v("fillStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.$parent.ctx.fillStyle}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[e._v(e._s(e.$parent.ctx.fillStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("fillStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=e.$parent.ctx.fillStyle,expression:"$parent.ctx.fillStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("fillStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("strokeStyle")]),a("td",[a("span",{staticClass:"colorSquare",style:"backgroundColor:"+e.$parent.ctx.strokeStyle}),a("span",{staticClass:"spanFillStyleStrokeStyle",staticStyle:{"line-height":"135%"}},[e._v(e._s(e.$parent.ctx.strokeStyle))])]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("strokeStyle")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"#000000"!=e.$parent.ctx.strokeStyle,expression:"$parent.ctx.strokeStyle != '#000000'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("strokeStyle")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("font")]),a("td",[e._v(e._s(e.$parent.ctx.font))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("font")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"10px sans-serif"!=e.$parent.ctx.font,expression:"$parent.ctx.font != '10px sans-serif'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("font")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("textAlign")]),a("td",[e._v(e._s(e.$parent.ctx.textAlign))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("textAlign")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"start"!=e.$parent.ctx.textAlign,expression:"$parent.ctx.textAlign != 'start'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("textAlign")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("globalAlpha")]),a("td",[e._v(e._s(e.$parent.ctx.globalAlpha))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("globalAlpha")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=e.$parent.ctx.globalAlpha,expression:"$parent.ctx.globalAlpha != '1'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("globalAlpha")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("globalCompositeOperation")]),a("td",[e._v(e._s(e.$parent.ctx.globalCompositeOperation))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("globalCompositeOperation")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"source-over"!=e.$parent.ctx.globalCompositeOperation,expression:"$parent.ctx.globalCompositeOperation != 'source-over'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("globalCompositeOperation")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("lineWidth")]),a("td",[e._v(e._s(e.$parent.ctx.lineWidth))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineWidth")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!=e.$parent.ctx.lineWidth,expression:"$parent.ctx.lineWidth != '1'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineWidth")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("lineCap")]),a("td",[e._v(e._s(e.$parent.ctx.lineCap))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineCap")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"butt"!=e.$parent.ctx.lineCap,expression:"$parent.ctx.lineCap != 'butt'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineCap")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("lineJoin")]),a("td",[e._v(e._s(e.$parent.ctx.lineJoin))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineJoin")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"miter"!=e.$parent.ctx.lineJoin,expression:"$parent.ctx.lineJoin != 'miter'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineJoin")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("miterLimit")]),a("td",[e._v(e._s(e.$parent.ctx.miterLimit))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("miterLimit")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:10!=e.$parent.ctx.miterLimit,expression:"$parent.ctx.miterLimit != 10"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("miterLimit")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("transform")]),a("td",[e._v(e._s(e.$parent.ctx.transform))]),a("td",[a("IconEdit"),a("span",{directives:[{name:"show",rawName:"v-show",value:"matrix(1, 0, 0, 1, 0, 0)"!=e.$parent.ctx.transform,expression:"$parent.ctx.transform != 'matrix(1, 0, 0, 1, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetTransform()}}},[a("IconReset")],1)],1)]),a("tr",[a("td",[e._v("filter")]),a("td",[e._v(e._s(e.$parent.ctx.filter))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("filter")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"none"!=e.$parent.ctx.filter,expression:"$parent.ctx.filter != 'none'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("filter")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowBlur")]),a("td",[e._v(e._s(e.$parent.ctx.shadowBlur))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowBlur")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.$parent.ctx.shadowBlur,expression:"$parent.ctx.shadowBlur != '0'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowBlur")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowColor")]),a("td",[e._v(e._s(e.$parent.ctx.shadowColor))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowColor")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"rgba(0, 0, 0, 0)"!=e.$parent.ctx.shadowColor,expression:"$parent.ctx.shadowColor != 'rgba(0, 0, 0, 0)'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowColor")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowOffsetX")]),a("td",[e._v(e._s(e.$parent.ctx.shadowOffsetX))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowOffsetX")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.$parent.ctx.shadowOffsetX,expression:"$parent.ctx.shadowOffsetX != '0'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowOffsetX")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("shadowOffsetY")]),a("td",[e._v(e._s(e.$parent.ctx.shadowOffsetY))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("shadowOffsetY")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.$parent.ctx.shadowOffsetY,expression:"$parent.ctx.shadowOffsetY != '0'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("shadowOffsetY")}}},[a("IconReset")],1)])]),e.$parent.ctx.lineDash?a("tr",[a("td",[e._v("lineDash")]),a("td",[e._v(e._s(e.$parent.ctx.lineDash))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineDash")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=e.$parent.ctx.lineDash.length,expression:"$parent.ctx.lineDash.length != 0"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineDash")}}},[a("IconReset")],1)])]):e._e(),a("tr",[a("td",[e._v("lineDashOffset")]),a("td",[e._v(e._s(e.$parent.ctx.lineDashOffset))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("lineDashOffset")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:0!=e.$parent.ctx.lineDashOffset,expression:"$parent.ctx.lineDashOffset != 0"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("lineDashOffset")}}},[a("IconReset")],1)])]),a("tr",[a("td",[e._v("textBaseline")]),a("td",[e._v(e._s(e.$parent.ctx.textBaseline))]),a("td",[a("span",{attrs:{"data-toggle":"modal","data-target":"#modalEditContextProperty"},on:{click:function(t){return e.editContextAttribute("textBaseline")}}},[a("IconEdit")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"alphabetic"!=e.$parent.ctx.textBaseline,expression:"$parent.ctx.textBaseline != 'alphabetic'"}],staticClass:"spanIcon",on:{click:function(t){return e.$parent.resetContextAttribute("textBaseline")}}},[a("IconReset")],1)])])])]),a("div",{staticClass:"spacing"})]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditContextProperty",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"fillStyle"==e.currentAttribute,expression:"currentAttribute=='fillStyle'"}]},[e._v("fillStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.fillStyle,expression:"newCtx.fillStyle"}],domProps:{value:e.newCtx.fillStyle},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"fillStyle",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"strokeStyle"==e.currentAttribute,expression:"currentAttribute=='strokeStyle'"}]},[e._v("strokeStyle: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.strokeStyle,expression:"newCtx.strokeStyle"}],domProps:{value:e.newCtx.strokeStyle},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"strokeStyle",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"font"==e.currentAttribute,expression:"currentAttribute=='font'"}]},[e._v("font: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.font,expression:"newCtx.font"}],domProps:{value:e.newCtx.font},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"font",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalAlpha"==e.currentAttribute,expression:"currentAttribute=='globalAlpha'"}]},[e._v("globalAlpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.globalAlpha,expression:"newCtx.globalAlpha"}],domProps:{value:e.newCtx.globalAlpha},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"globalAlpha",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineWidth"==e.currentAttribute,expression:"currentAttribute=='lineWidth'"}]},[e._v("lineWidth: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineWidth,expression:"newCtx.lineWidth"}],domProps:{value:e.newCtx.lineWidth},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"lineWidth",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineCap"==e.currentAttribute,expression:"currentAttribute=='lineCap'"}]},[e._v(" lineCap: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineCap,expression:"newCtx.lineCap"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"lineCap",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"butt"}},[e._v("butt")]),a("option",{attrs:{value:"round"}},[e._v("round")]),a("option",{attrs:{value:"square"}},[e._v("square")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineJoin"==e.currentAttribute,expression:"currentAttribute=='lineJoin'"}]},[e._v(" lineJoin: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineJoin,expression:"newCtx.lineJoin"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"lineJoin",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"miter"}},[e._v("miter")]),a("option",{attrs:{value:"bevel"}},[e._v("bevel")]),a("option",{attrs:{value:"round"}},[e._v("round")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"filter"==e.currentAttribute,expression:"currentAttribute=='filter'"}]},[e._v("filter: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.filter,expression:"newCtx.filter"}],domProps:{value:e.newCtx.filter},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"filter",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowBlur"==e.currentAttribute,expression:"currentAttribute=='shadowBlur'"}]},[e._v("shadowBlur: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowBlur,expression:"newCtx.shadowBlur"}],domProps:{value:e.newCtx.shadowBlur},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowBlur",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowColor"==e.currentAttribute,expression:"currentAttribute=='shadowColor'"}]},[e._v("shadowColor: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowColor,expression:"newCtx.shadowColor"}],domProps:{value:e.newCtx.shadowColor},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowColor",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetX"==e.currentAttribute,expression:"currentAttribute=='shadowOffsetX'"}]},[e._v("shadowOffsetX: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowOffsetX,expression:"newCtx.shadowOffsetX"}],domProps:{value:e.newCtx.shadowOffsetX},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowOffsetX",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"shadowOffsetY"==e.currentAttribute,expression:"currentAttribute=='shadowOffsetY'"}]},[e._v("shadowOffsetY: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.shadowOffsetY,expression:"newCtx.shadowOffsetY"}],domProps:{value:e.newCtx.shadowOffsetY},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"shadowOffsetY",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDash"==e.currentAttribute,expression:"currentAttribute=='lineDash'"}]},[e._v("lineDash: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineDashStr,expression:"newCtx.lineDashStr"}],domProps:{value:e.newCtx.lineDashStr},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"lineDashStr",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"lineDashOffset"==e.currentAttribute,expression:"currentAttribute=='lineDashOffset'"}]},[e._v("lineDashOffset: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.lineDashOffset,expression:"newCtx.lineDashOffset"}],domProps:{value:e.newCtx.lineDashOffset},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"lineDashOffset",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textAlign"==e.currentAttribute,expression:"currentAttribute=='textAlign'"}]},[e._v(" textAlign: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.textAlign,expression:"newCtx.textAlign"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"textAlign",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"start"}},[e._v("start")]),a("option",{attrs:{value:"end"}},[e._v("end")]),a("option",{attrs:{value:"left"}},[e._v("left")]),a("option",{attrs:{value:"right"}},[e._v("right")]),a("option",{attrs:{value:"center"}},[e._v("center")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"miterLimit"==e.currentAttribute,expression:"currentAttribute=='miterLimit'"}]},[e._v("miterLimit: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.miterLimit,expression:"newCtx.miterLimit"}],domProps:{value:e.newCtx.miterLimit},on:{input:function(t){t.target.composing||e.$set(e.newCtx,"miterLimit",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"textBaseline"==e.currentAttribute,expression:"currentAttribute=='textBaseline'"}]},[e._v(" textBaseline: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.textBaseline,expression:"newCtx.textBaseline"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"textBaseline",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"alphabetic"}},[e._v("alphabetic")]),a("option",{attrs:{value:"top"}},[e._v("top")]),a("option",{attrs:{value:"hanging"}},[e._v("hanging")]),a("option",{attrs:{value:"middle"}},[e._v("middle")]),a("option",{attrs:{value:"ideographic"}},[e._v("ideographic")]),a("option",{attrs:{value:"bottom"}},[e._v("bottom")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"globalCompositeOperation"==e.currentAttribute,expression:"currentAttribute=='globalCompositeOperation'"}]},[e._v(" globalCompositeOperation: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newCtx.globalCompositeOperation,expression:"newCtx.globalCompositeOperation"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newCtx,"globalCompositeOperation",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"source-over"}},[e._v("source-over")]),a("option",{attrs:{value:"source-in"}},[e._v("source-in")]),a("option",{attrs:{value:"source-out"}},[e._v("source-out")]),a("option",{attrs:{value:"source-atop"}},[e._v("source-atop")]),a("option",{attrs:{value:"destination-over"}},[e._v("destination-over")]),a("option",{attrs:{value:"destination-in"}},[e._v("destination-in")]),a("option",{attrs:{value:"destination-out"}},[e._v("destination-out")]),a("option",{attrs:{value:"destination-atop"}},[e._v("destination-atop")]),a("option",{attrs:{value:"lighter"}},[e._v("lighter")]),a("option",{attrs:{value:"copy"}},[e._v("copy")]),a("option",{attrs:{value:"xor"}},[e._v("xor")]),a("option",{attrs:{value:"multiply"}},[e._v("multiply")]),a("option",{attrs:{value:"screen"}},[e._v("screen")]),a("option",{attrs:{value:"overlay"}},[e._v("overlay")]),a("option",{attrs:{value:"darken"}},[e._v("darken")]),a("option",{attrs:{value:"lighten"}},[e._v("lighten")]),a("option",{attrs:{value:"color-dodge"}},[e._v("color-dodge")]),a("option",{attrs:{value:"color-burn"}},[e._v("color-burn")]),a("option",{attrs:{value:"hard-light"}},[e._v("hard-light")]),a("option",{attrs:{value:"soft-light"}},[e._v("soft-light")]),a("option",{attrs:{value:"difference"}},[e._v("difference")]),a("option",{attrs:{value:"exclusion"}},[e._v("exclusion")]),a("option",{attrs:{value:"hue"}},[e._v("hue")]),a("option",{attrs:{value:"saturation"}},[e._v("saturation")]),a("option",{attrs:{value:"color"}},[e._v("color")]),a("option",{attrs:{value:"luminosity"}},[e._v("luminosity")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.updateContextAttribute()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])])},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Edit context attribute")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])},E=[],N={name:"IconEdit",props:{color:{type:String,default:"#000000"}}},k=N,D=Object(w["a"])(k,$,E,!1,null,"7486f52d",null),V=D.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",fill:"#0000aa"}})])},R=[],M={name:"IconReset",props:{}},T=M,O=Object(w["a"])(T,B,R,!1,null,"7df9adc1",null),W=O.exports,X={name:"ContextPanel",components:{IconEdit:V,IconReset:W},props:{},data:function(){return{currentAttribute:null,newCtx:{fillStyle:null,lineCap:"butt",lineJoin:"miter",textAlign:"start",textBaseline:"alphabetic",globalCompositeOperation:"source-over"}}},methods:{editContextAttribute:function(e){this.currentAttribute=e,this.loadContextAttributeValues()},loadContextAttributeValues:function(){this.newCtx.fillStyle=window.ctx.fillStyle,this.newCtx.strokeStyle=window.ctx.strokeStyle,this.newCtx.font=window.ctx.font,this.newCtx.globalAlpha=window.ctx.globalAlpha,this.newCtx.lineWidth=window.ctx.lineWidth,this.newCtx.lineCap=window.ctx.lineCap,this.newCtx.lineJoin=window.ctx.lineJoin,this.newCtx.filter=window.ctx.filter,this.newCtx.shadowBlur=window.ctx.shadowBlur,this.newCtx.shadowColor=window.ctx.shadowColor,this.newCtx.shadowOffsetX=window.ctx.shadowOffsetX,this.newCtx.shadowOffsetY=window.ctx.shadowOffsetY,this.newCtx.lineDashOffset=window.ctx.lineDashOffset,this.newCtx.textAlign=window.ctx.textAlign,this.newCtx.miterLimit=window.ctx.miterLimit,this.newCtx.textBaseline=window.ctx.textBaseline,this.newCtx.globalCompositeOperation=window.ctx.globalCompositeOperation,this.newCtx.lineDashStr="["+window.ctx.getLineDash().toString()+"]"},updateContextAttribute:function(){"fillStyle"==this.currentAttribute?window.ctx.fillStyle=this.newCtx.fillStyle:"strokeStyle"==this.currentAttribute?window.ctx.strokeStyle=this.newCtx.strokeStyle:"font"==this.currentAttribute?window.ctx.font=this.newCtx.font:"globalAlpha"==this.currentAttribute?window.ctx.globalAlpha=this.newCtx.globalAlpha:"lineWidth"==this.currentAttribute?window.ctx.lineWidth=this.newCtx.lineWidth:"lineCap"==this.currentAttribute?window.ctx.lineCap=this.newCtx.lineCap:"lineJoin"==this.currentAttribute?window.ctx.lineJoin=this.newCtx.lineJoin:"filter"==this.currentAttribute?window.ctx.filter=this.newCtx.filter:"shadowBlur"==this.currentAttribute?window.ctx.shadowBlur=this.newCtx.shadowBlur:"shadowColor"==this.currentAttribute?window.ctx.shadowColor=this.newCtx.shadowColor:"shadowOffsetX"==this.currentAttribute?window.ctx.shadowOffsetX=this.newCtx.shadowOffsetX:"shadowOffsetY"==this.currentAttribute?window.ctx.shadowOffsetY=this.newCtx.shadowOffsetY:"lineDashOffset"==this.currentAttribute?window.ctx.lineDashOffset=this.newCtx.lineDashOffset:"textAlign"==this.currentAttribute?window.ctx.textAlign=this.newCtx.textAlign:"miterLimit"==this.currentAttribute?window.ctx.miterLimit=this.newCtx.miterLimit:"textBaseline"==this.currentAttribute?window.ctx.textBaseline=this.newCtx.textBaseline:"globalCompositeOperation"==this.currentAttribute?window.ctx.globalCompositeOperation=this.newCtx.globalCompositeOperation:"lineDash"==this.currentAttribute&&window.ctx.setLineDash(this.newCtx.lineDashStr.replaceAll("[","").replaceAll("]","").split(",")),this.$parent.updateCurrentContextDetails()}}},Y=X,U=Object(w["a"])(Y,A,I,!1,null,"76c8088e",null),G=U.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("layers")}}},[a("span",{staticClass:"panelTitle"},[e._v("Layers")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.layers,expression:"$parent.visiblePanels.layers"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.canvasLayers,(function(t){return a("tr",{key:t.name,class:{selectedLayer:null!=e.$parent.currentLayer&&t.name==e.$parent.currentLayer.name},on:{click:function(a){return e.$parent.setCurrentLayer(t.name)}}},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.visible,expression:"layer.visible"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_layer_visible_"+t.name},domProps:{checked:Array.isArray(t.visible)?e._i(t.visible,null)>-1:t.visible},on:{change:[function(a){var n=t.visible,r=a.target,i=!!r.checked;if(Array.isArray(n)){var l=null,s=e._i(n,l);r.checked?s<0&&e.$set(t,"visible",n.concat([l])):s>-1&&e.$set(t,"visible",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(t,"visible",i)},function(t){return e.$parent.updateCanvasAllLayers()}]}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_layer_visible_"+t.name}})])]),a("td",[a("a",[e._v(e._s(t.name))])]),a("td",[e._v(e._s(t.alpha))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.$parent.setCurrentLayer(t.name)}}},[e._v("select")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditLayer"},on:{click:function(a){return e.editLayer(t)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.$parent.deleteLayer(t)}}},[e._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddLayer"},on:{click:function(t){return e.showAddLayerForm()}}},[e._v("Add layer")]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalDuplicateLayer"},on:{click:function(t){return e.showDuplicateLayerForm()}}},[e._v("Duplicate")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.moveLayerUp()}}},[a("IconUp")],1),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.moveLayerDown()}}},[a("IconDown")],1)])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",[e._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedLayer.name,expression:"editedLayer.name"}],domProps:{value:e.editedLayer.name},on:{input:function(t){t.target.composing||e.$set(e.editedLayer,"name",t.target.value)}}})]),a("div",[e._v("alpha: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedLayer.alpha,expression:"editedLayer.alpha"}],domProps:{value:e.editedLayer.alpha},on:{input:function(t){t.target.composing||e.$set(e.editedLayer,"alpha",t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.updateLayer()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(2),a("div",{staticClass:"modal-body"},[a("div",[e._v("name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newLayerForm.name,expression:"newLayerForm.name"}],domProps:{value:e.newLayerForm.name},on:{input:function(t){t.target.composing||e.$set(e.newLayerForm,"name",t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.addLayer()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalDuplicateLayer",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(3),a("div",{staticClass:"modal-body"},[a("div",[e._v("New layer name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.duplicateLayerForm.newLayerName,expression:"duplicateLayerForm.newLayerName"}],domProps:{value:e.duplicateLayerForm.newLayerName},on:{input:function(t){t.target.composing||e.$set(e.duplicateLayerForm,"newLayerName",t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.duplicateCurrentLayer()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])])},H=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("visible")]),a("th",[e._v("name")]),a("th",[e._v("alpha")]),a("th"),a("th"),a("th")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Edit layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Add layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Duplicate layer")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}})])},q=[],J={name:"IconUp",props:{}},K=J,Q=Object(w["a"])(K,j,q,!1,null,"fc87067a",null),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"20px",height:"20px"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}})])},te=[],ae={name:"IconDown",props:{}},ne=ae,re=Object(w["a"])(ne,ee,te,!1,null,"14a1ec91",null),ie=re.exports,le={name:"LayersPanel",components:{IconUp:Z,IconDown:ie},props:{},data:function(){return{originalLayer:null,editedLayer:{name:null,alpha:null},newLayerForm:{name:null},duplicateLayerForm:{newLayerName:null}}},methods:{showAddLayerForm:function(){this.newLayerForm.name="NewLayer",window.$("#modalAddLayer").modal("show")},addLayer:function(){this.$parent.addLayerWithName(this.newLayerForm.name),this.$parent.setCurrentLayer(this.newLayerForm.name)},showDuplicateLayerForm:function(){this.duplicateLayerForm.newLayerName="LayerCopy",window.$("#modalDuplicateLayer").modal("show")},duplicateCurrentLayer:function(){this.$parent.duplicateLayer(this.$parent.currentLayer,this.duplicateLayerForm.newLayerName)},editLayer:function(e){this.originalLayer=e,this.editedLayer.name=this.originalLayer.name,this.editedLayer.alpha=this.originalLayer.alpha},updateLayer:function(){this.originalLayer.name=this.editedLayer.name,this.originalLayer.alpha=parseFloat(this.editedLayer.alpha),this.$parent.updateCurrentLayerCanvas(),this.$parent.updateCanvasAllLayers()}}},se=le,oe=Object(w["a"])(se,z,H,!1,null,"fd21fbbc",null),ce=oe.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("events")}}},[a("span",{staticClass:"panelTitle"},[e._v("Events")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.events,expression:"$parent.visiblePanels.events"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.customEvents,(function(t){return a("tr",{key:t.name},[a("td",[a("div",{staticClass:"custom-control custom-switch",staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.enabled,expression:"customEvent.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_custom_event_enabled_"+t.name},domProps:{checked:Array.isArray(t.enabled)?e._i(t.enabled,null)>-1:t.enabled},on:{change:function(a){var n=t.enabled,r=a.target,i=!!r.checked;if(Array.isArray(n)){var l=null,s=e._i(n,l);r.checked?s<0&&e.$set(t,"enabled",n.concat([l])):s>-1&&e.$set(t,"enabled",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(t,"enabled",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_custom_event_enabled_"+t.name}})])]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.type))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.executeCustomEvent(t)}}},[e._v("execute")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalEditCustomEvent"},on:{click:function(a){return e.showEditCustomEventForm(t)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.deleteCustomEvent(t)}}},[e._v("delete")])])])})),0)]),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-toggle":"modal","data-target":"#modalAddCustomEvent"},on:{click:function(t){return e.showAddCustomEventForm()}}},[e._v("Add event")])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalAddCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",[e._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEventForm.name,expression:"newEventForm.name"}],domProps:{value:e.newEventForm.name},on:{input:function(t){t.target.composing||e.$set(e.newEventForm,"name",t.target.value)}}})]),a("div",[e._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newEventForm.type,expression:"newEventForm.type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newEventForm,"type",t.target.multiple?a:a[0])}}},e._l(e.customEventTypes,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),a("div",[e._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newEventForm.sourceCode,expression:"newEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:e.newEventForm.sourceCode},on:{input:function(t){t.target.composing||e.$set(e.newEventForm,"sourceCode",t.target.value)}}}),e._m(2)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.addCustomEvent()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modalEditCustomEvent",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(3),a("div",{staticClass:"modal-body"},[a("div",[e._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.name,expression:"editEventForm.name"}],domProps:{value:e.editEventForm.name},on:{input:function(t){t.target.composing||e.$set(e.editEventForm,"name",t.target.value)}}})]),a("div",[e._v(" Type: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.type,expression:"editEventForm.type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editEventForm,"type",t.target.multiple?a:a[0])}}},e._l(e.customEventTypes,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),a("div",[e._v("Script:")]),a("div",{staticClass:"divSourceCodeWithHelp"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.sourceCode,expression:"editEventForm.sourceCode"}],staticStyle:{width:"100%",height:"240px"},attrs:{id:"sourceCode"},domProps:{value:e.editEventForm.sourceCode},on:{input:function(t){t.target.composing||e.$set(e.editEventForm,"sourceCode",t.target.value)}}}),e._m(4)]),a("div",{staticClass:"custom-control custom-switch",staticStyle:{"margin-top":"10px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEventForm.enabled,expression:"editEventForm.enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"_edit_custom_event_enabled_"+e.editEventForm.name},domProps:{checked:Array.isArray(e.editEventForm.enabled)?e._i(e.editEventForm.enabled,null)>-1:e.editEventForm.enabled},on:{change:function(t){var a=e.editEventForm.enabled,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);n.checked?l<0&&e.$set(e.editEventForm,"enabled",a.concat([i])):l>-1&&e.$set(e.editEventForm,"enabled",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.editEventForm,"enabled",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"_edit_custom_event_enabled_"+e.editEventForm.name}},[e._v("Enabled")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.updateCustomEvent()}}},[e._v("Save")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])])},pe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("enabled")]),a("th",[e._v("name")]),a("th",[e._v("type")]),a("th",[e._v("execute")]),a("th",[e._v("edit")]),a("th",[e._v("delete")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Add event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("b",[e._v("To get current mouse position:")])]),a("div",[e._v("app.mousePosition.x")]),a("div",[e._v("app.mousePosition.y")]),a("div",[a("b",[e._v("To get previous mouse position:")])]),a("div",[e._v("app.previousMousePosition.x")]),a("div",[e._v("app.previousMousePosition.y")]),a("div",[a("b",[e._v("To get last mouse down position:")])]),a("div",[e._v("app.mouseDownPosition.x")]),a("div",[e._v("app.mouseDownPosition.y")]),a("div",[a("b",[e._v("To detect if mouse button is down:")])]),a("div",[e._v("app.isMouseDown")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Edit event")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("b",[e._v("To get current mouse position:")])]),a("div",[e._v("app.mousePosition.x")]),a("div",[e._v("app.mousePosition.y")]),a("div",[a("b",[e._v("To get previous mouse position:")])]),a("div",[e._v("app.previousMousePosition.x")]),a("div",[e._v("app.previousMousePosition.y")]),a("div",[a("b",[e._v("To get last mouse down position:")])]),a("div",[e._v("app.mouseDownPosition.x")]),a("div",[e._v("app.mouseDownPosition.y")]),a("div",[a("b",[e._v("To detect if mouse button is down:")])]),a("div",[e._v("app.isMouseDown")])])}],me={name:"EventsPanel",components:{},props:{},data:function(){return{customEventTypes:["mouseDown","mouseUp","mouseMove","animationFrame"],originalEvent:null,editEventForm:{name:null,type:null,enabled:null,sourceCode:null},newEventForm:{name:null,type:null,enabled:null,sourceCode:null}}},methods:{showAddCustomEventForm:function(){this.newEventForm.name="Event 01",this.newEventForm.type=this.customEventTypes[0],this.newEventForm.sourceCode="",this.newEventForm.enabled=!0},addCustomEvent:function(){var e={name:this.newEventForm.name,type:this.newEventForm.type,enabled:this.newEventForm.enabled,func:new Function("params",this.newEventForm.sourceCode),source:this.newEventForm.sourceCode};this.$parent.customEvents.push(e)},showEditCustomEventForm:function(e){this.originalEvent=e,this.editEventForm.name=e.name,this.editEventForm.type=e.type,this.editEventForm.enabled=e.enabled,this.editEventForm.sourceCode=e.source},updateCustomEvent:function(){this.originalEvent.name=this.editEventForm.name,this.originalEvent.type=this.editEventForm.type,this.originalEvent.source=this.editEventForm.sourceCode,this.originalEvent.enabled=this.editEventForm.enabled,this.originalEvent.func=new Function("params",this.editEventForm.sourceCode)},executeCustomEvent:function(e){e.func(),this.$parent.updateCanvasAllLayers(),this.$parent.updateCurrentLayerCanvas()},deleteCustomEvent:function(e){this.$parent.deleteCustomEvent(e)}}},de=me,he=(a("7f64"),Object(w["a"])(de,ue,pe,!1,null,"509b1541",null)),fe=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("images")}}},[a("span",{staticClass:"panelTitle"},[e._v("Images")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.images,expression:"$parent.visiblePanels.images"}],staticClass:"panelBody"},[a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.showModalLoadImage()}}},[e._v("Load image")]),a("div",{staticClass:"spacing"}),e.$parent.images.length>0?a("table",{staticClass:"smallTable contextPropertiesTable"},[e._m(0),a("tbody",e._l(e.$parent.images,(function(t){return a("tr",{key:t.filename},[a("td",[t.url?a("img",{staticStyle:{"max-width":"64px"},attrs:{src:t.url}}):e._e()]),a("td",[e._v(e._s(t.name))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.selectImageToDraw(t)}}},[e._v("draw...")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.selectImageToDrawScaled(t)}}},[e._v("draw scaled...")])])])})),0)]):e._e(),a("div",{staticClass:"spacing"})]),a("ModalLoadImage",{ref:"modalLoadImage"})],1)},ge=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("image")]),a("th",[e._v("name")]),a("th",[e._v("draw")]),a("th",[e._v("draw scaled")])])])}],xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalLoadImage",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("span",[e._v("Load image: ")]),a("input",{attrs:{type:"file",id:"inputImage"},on:{change:e.onImageUpload}})]),null!=e.image?a("div",[a("img",{staticStyle:{"max-width":"64px"},attrs:{src:e.image.url}})]):e._e(),a("br"),null!=e.image?a("div",[a("span",[e._v("Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.image.name,expression:"image.name"}],domProps:{value:e.image.name},on:{input:function(t){t.target.composing||e.$set(e.image,"name",t.target.value)}}})]):e._e()]),a("div",{staticClass:"modal-footer"},[null!=e.image?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.loadImage()}}},[e._v("OK")]):e._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])},ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Load image")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],be={name:"ModalLoadImage",components:{},props:{},data:function(){return{image:null}},methods:{open:function(){this.image=null,window.$("#modalLoadImage").modal("show")},onImageUpload:function(e){var t=e.target.files[0],a=t.name.replace(/\.[^/.]+$/,""),n={filename:t.name,url:URL.createObjectURL(t),name:a};this.image=n},loadImage:function(){null!=this.image&&this.$parent.$parent.images.push(this.image),window.$("#modalLoadImage").modal("hide")}}},we=be,Ce=Object(w["a"])(we,xe,ye,!1,null,"2159a0e2",null),Se=Ce.exports,_e={name:"ImagesPanel",components:{ModalLoadImage:Se},props:{},data:function(){return{}},methods:{selectImageToDraw:function(e){this.$parent.selectSampleScriptWithParams("Draw image");for(var t=0;t<this.$parent.selectedSampleScriptWithParams.params.length;t++){var a=this.$parent.selectedSampleScriptWithParams.params[t];"imageName"==a.name&&(a.value=e.name)}},selectImageToDrawScaled:function(e){this.$parent.selectSampleScriptWithParams("Draw image scaled");for(var t=0;t<this.$parent.selectedSampleScriptWithParams.params.length;t++){var a=this.$parent.selectedSampleScriptWithParams.params[t];"imageName"==a.name&&(a.value=e.name)}},showModalLoadImage:function(){this.$refs.modalLoadImage.open()}}},Le=_e,Fe=Object(w["a"])(Le,ve,ge,!1,null,"6be1b068",null),Pe=Fe.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("fonts")}}},[a("span",{staticClass:"panelTitle"},[e._v("Fonts")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.fonts,expression:"$parent.visiblePanels.fonts"}],staticClass:"panelBody"},[a("div",[e._v("Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.fontPanelForm.fontName,expression:"$parent.fontPanelForm.fontName"}],domProps:{value:e.$parent.fontPanelForm.fontName},on:{input:function(t){t.target.composing||e.$set(e.$parent.fontPanelForm,"fontName",t.target.value)}}})]),a("input",{attrs:{type:"file"},on:{change:e.$parent.onFontUpload}}),a("div",[e._v("URL: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.fontPanelForm.fontURL,expression:"$parent.fontPanelForm.fontURL"}],domProps:{value:e.$parent.fontPanelForm.fontURL},on:{input:function(t){t.target.composing||e.$set(e.$parent.fontPanelForm,"fontURL",t.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.loadFont()}}},[e._v("Load font")]),a("div",{staticClass:"spacing"}),a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.fonts,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.font.style))]),a("td",[e._v(e._s(t.font.weight))])])})),0)]),a("div",{staticClass:"spacing"})])])},Ie=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th",[e._v("style")]),a("th",[e._v("weight")])])])}],$e={name:"FontsPanel",components:{},props:{},data:function(){return{}},methods:{}},Ee=$e,Ne=Object(w["a"])(Ee,Ae,Ie,!1,null,"a7371202",null),ke=Ne.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("globalVariables")}}},[a("span",{staticClass:"panelTitle"},[e._v("Global variables")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.globalVariables,expression:"$parent.visiblePanels.globalVariables"}],staticClass:"panelBody"},[a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.$parent.globalVariables,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(n))]),a("td",[e._v(e._s(t))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.editGlobalVariable(n)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.deleteGlobalVariable(n)}}},[e._v("delete")])])])})),0)]),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.$parent.popupAddGlobalVariable}},[e._v("add")])])])])},Ve=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th",[e._v("value")]),a("th"),a("th")])])}],Be={name:"GlobalVariablesPanel",components:{},props:{},data:function(){return{}},methods:{}},Re=Be,Me=Object(w["a"])(Re,De,Ve,!1,null,"af606bac",null),Te=Me.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("logs")}}},[a("span",{staticClass:"panelTitle"},[e._v("Logs")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.logs,expression:"$parent.visiblePanels.logs"}],staticClass:"panelBody"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.clearLogs()}}},[e._v("clear logs")]),a("div",[e._v("Showing "+e._s(e.$parent.logs.length)+" log messages")]),a("table",{staticClass:"smallTable"},[a("tbody",e._l(e.$parent.logs,(function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t))])])})),0)]),a("div",{staticClass:"spacing"})])])},We=[],Xe={name:"LogsPanel",components:{},props:{},data:function(){return{}},methods:{}},Ye=Xe,Ue=Object(w["a"])(Ye,Oe,We,!1,null,"982cfcb6",null),Ge=Ue.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.$parent.selectedSampleScriptWithParams?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("scriptWithParams")}}},[a("span",{staticClass:"panelTitle"},[e._v("Execute script")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(t){return e.$parent.unselectSampleScriptWithParams()}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.visiblePanels.scriptWithParams,expression:"$parent.visiblePanels.scriptWithParams"}],staticClass:"panelBody"},[null!=e.$parent.selectedSampleScriptWithParams?a("div",[a("h3",[e._v(e._s(e.$parent.selectedSampleScriptWithParams.name))]),a("br"),a("table",[a("tbody",e._l(e.$parent.selectedSampleScriptWithParams.params,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.name))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],domProps:{value:t.value},on:{input:[function(a){a.target.composing||e.$set(t,"value",a.target.value)},function(t){return e.$parent.onSampleScriptParamChange()}]}})])])})),0)]),a("br"),a("div",{staticClass:"buttonGroup"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(t){return e.$parent.executeSampleScriptWithParams()}}},[a("IconExecute",{staticStyle:{"margin-top":"-1px"},attrs:{color:"#ffffff"}}),e._v(" Execute")],1),"SAMPLE_SCRIPT"==e.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.loadSampleScript(e.$parent.selectedSampleScriptWithParams.name)}}},[e._v("Open script")]):e._e(),"SAVED_SCRIPT"==e.$parent.selectedSampleScriptWithParams.type?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.$parent.loadSavedScript(e.$parent.selectedSampleScriptWithParams.name)}}},[e._v("Open script")]):e._e(),a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(t){return e.$parent.unselectSampleScriptWithParams()}}},[e._v("Cancel")])]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.clearLayerBeforeExecutingScriptWithParams,expression:"$parent.clearLayerBeforeExecutingScriptWithParams"}],attrs:{type:"checkbox",id:"checkbox01"},domProps:{checked:Array.isArray(e.$parent.clearLayerBeforeExecutingScriptWithParams)?e._i(e.$parent.clearLayerBeforeExecutingScriptWithParams,null)>-1:e.$parent.clearLayerBeforeExecutingScriptWithParams},on:{change:function(t){var a=e.$parent.clearLayerBeforeExecutingScriptWithParams,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);n.checked?l<0&&e.$set(e.$parent,"clearLayerBeforeExecutingScriptWithParams",a.concat([i])):l>-1&&e.$set(e.$parent,"clearLayerBeforeExecutingScriptWithParams",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.$parent,"clearLayerBeforeExecutingScriptWithParams",r)}}}),a("label",{attrs:{for:"checkbox01"}},[e._v("Clear layer before executing")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.executeScriptsWithParamsOnChange,expression:"$parent.executeScriptsWithParamsOnChange"}],attrs:{type:"checkbox",id:"checkbox02"},domProps:{checked:Array.isArray(e.$parent.executeScriptsWithParamsOnChange)?e._i(e.$parent.executeScriptsWithParamsOnChange,null)>-1:e.$parent.executeScriptsWithParamsOnChange},on:{change:function(t){var a=e.$parent.executeScriptsWithParamsOnChange,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);n.checked?l<0&&e.$set(e.$parent,"executeScriptsWithParamsOnChange",a.concat([i])):l>-1&&e.$set(e.$parent,"executeScriptsWithParamsOnChange",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.$parent,"executeScriptsWithParamsOnChange",r)}}}),a("label",{attrs:{for:"checkbox02"}},[e._v("Execute automatically on param change")])]):e._e()])]):e._e()},He=[],je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"12px",height:"12px"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}})])},qe=[],Je={name:"IconExecute",props:{color:{type:String,default:"#000000"}}},Ke=Je,Qe=Object(w["a"])(Ke,je,qe,!1,null,"e96ec450",null),Ze=Qe.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"0",y:"0",width:"18",height:"18","stroke-width":"2",stroke:"#dc3545",fill:"#dc3545"}}),a("line",{attrs:{x1:"4",y1:"4",x2:"14",y2:"14",stroke:"white","stroke-width":"2"}}),a("line",{attrs:{x1:"4",y1:"14",x2:"14",y2:"4",stroke:"white","stroke-width":"2"}})])},tt=[],at={name:"IconClose",props:{color:{type:String,default:"#000000"}}},nt=at,rt=Object(w["a"])(nt,et,tt,!1,null,"05ba1bcb",null),it=rt.exports,lt={name:"ScriptWithParamsPanel",components:{IconExecute:Ze,IconClose:it},props:{},data:function(){return{}},methods:{}},st=lt,ot=Object(w["a"])(st,ze,He,!1,null,"f81e329e",null),ct=ot.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.currentScript?a("div",[a("div",{staticClass:"panelHeader",on:{click:function(t){return e.$parent.togglePanelVisibility("configureScript")}}},[a("span",{staticClass:"panelTitle"},[e._v("Configure script params")]),a("a",{staticStyle:{float:"right","margin-right":"5px"},on:{click:function(t){e.currentScript=null}}},[a("IconClose",{staticStyle:{"margin-top":"-5px"}})],1)]),e.$parent.visiblePanels.configureScript?a("div",{staticClass:"panelBody"},[a("h3",[e._v(e._s(e.currentScript.name))]),e.currentScript.params.length>0?a("div",[a("b",[e._v("Script params:")])]):e._e(),a("div",{staticClass:"spacing"}),0==e.currentScript.params.length?a("div",[e._v("This script has no params.")]):e._e(),e.currentScript.params.length>0?a("table",{staticClass:"smallTable"},[e._m(0),a("tbody",e._l(e.currentScript.params,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.type))]),a("td",[e._v(e._s(t.defaultValue))]),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return e.editScriptParam(t)}}},[e._v("edit")])]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.deleteScriptParam(t.name)}}},[e._v("delete")])])])})),0)]):e._e(),a("div",{staticClass:"spacing"}),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.showModalAddScriptParam()}}},[e._v("Add script param")]),a("div",{staticClass:"spacing"})]):e._e(),a("ModalAddScriptParam",{ref:"modalAddScriptParam"})],1):e._e()},pt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("name")]),a("th",[e._v("type")]),a("th",[e._v("default value")]),a("th",[e._v("edit")]),a("th",[e._v("delete")])])])}],mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalAddScriptParam",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",[e._v("Param name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramName,expression:"paramName"}],domProps:{value:e.paramName},on:{input:function(t){t.target.composing||(e.paramName=t.target.value)}}})]),a("div",[e._v(" Param type: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_string",value:"string"},domProps:{checked:e._q(e.paramType,"string")},on:{change:function(t){e.paramType="string"}}}),a("label",{attrs:{for:"type_string"}},[e._v("String ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramType,expression:"paramType"}],attrs:{type:"radio",id:"type_number",value:"number"},domProps:{checked:e._q(e.paramType,"number")},on:{change:function(t){e.paramType="number"}}}),a("label",{attrs:{for:"type_number"}},[e._v("Number ")])]),a("div",[e._v("Default value: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.defaultValue,expression:"defaultValue"}],domProps:{value:e.defaultValue},on:{input:function(t){t.target.composing||(e.defaultValue=t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[null==e.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.addScriptParam()}}},[e._v("Add")]):e._e(),null!=e.editingParam?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.updateScriptParam()}}},[e._v("Update")]):e._e(),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])},dt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Add script param")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],ht={name:"ModalAddScriptParam",components:{},props:{},data:function(){return{editingParam:null,paramName:"",paramType:"string",defaultValue:""}},methods:{open:function(){this.clearForm(),window.$("#modalAddScriptParam").modal("show")},editScriptParam:function(e){this.editingParam=e,this.paramName=this.editingParam.name,this.paramType=this.editingParam.type,this.defaultValue=this.editingParam.defaultValue,window.$("#modalAddScriptParam").modal("show")},updateScriptParam:function(){this.editingParam.name=this.paramName,this.editingParam.type=this.paramType,this.editingParam.defaultValue="number"==this.paramType?Number(this.defaultValue):this.defaultValue,window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},addScriptParam:function(){var e={name:this.paramName,type:this.paramType,defaultValue:"number"==this.paramType?Number(this.defaultValue):this.defaultValue};this.$parent.addScriptParam(e),window.$("#modalAddScriptParam").modal("hide"),this.clearForm()},clearForm:function(){this.editingParam=null,this.paramName="",this.paramType="string",this.defaultValue=""}}},ft=ht,vt=Object(w["a"])(ft,mt,dt,!1,null,"cb69b342",null),gt=vt.exports,xt={name:"ConfigureScriptPanel",components:{ModalAddScriptParam:gt,IconClose:it},props:{},data:function(){return{currentScript:null}},methods:{setCurrentScript:function(e){this.currentScript=e},editScriptParam:function(e){this.$refs.modalAddScriptParam.editScriptParam(e)},showModalAddScriptParam:function(){this.$refs.modalAddScriptParam.open()},addScriptParam:function(e){null==this.currentScript.params&&(this.currentScript.params=[]),this.currentScript.params.push(e)},deleteScriptParam:function(e){for(var t=this.currentScript.params,a=0;a<t.length;a++){var n=t[a];if(n.name==e)return void t.splice(a,1)}}}},yt=xt,bt=Object(w["a"])(yt,ut,pt,!1,null,"2f901e6f",null),wt=bt.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalExport",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",[e._v("Export type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"full_canvas",value:"FULL_CANVAS"},domProps:{checked:e._q(e.$parent.exportConfigForm.type,"FULL_CANVAS")},on:{change:function(t){return e.$set(e.$parent.exportConfigForm,"type","FULL_CANVAS")}}}),a("label",{attrs:{for:"full_canvas"}},[e._v("Full canvas ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop",value:"CROP"},domProps:{checked:e._q(e.$parent.exportConfigForm.type,"CROP")},on:{change:function(t){return e.$set(e.$parent.exportConfigForm,"type","CROP")}}}),a("label",{attrs:{for:"crop"}},[e._v("Crop ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type"}],attrs:{type:"radio",id:"crop_at",value:"CROP_AT"},domProps:{checked:e._q(e.$parent.exportConfigForm.type,"CROP_AT")},on:{change:function(t){return e.$set(e.$parent.exportConfigForm,"type","CROP_AT")}}}),a("label",{attrs:{for:"crop_at"}},[e._v("Crop at... ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"CROP_AT"==e.$parent.exportConfigForm.type,expression:"$parent.exportConfigForm.type == 'CROP_AT'"}]},[a("div",[e._v("Crop start x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropStartX,expression:"$parent.exportConfigForm.cropStartX"}],domProps:{value:e.$parent.exportConfigForm.cropStartX},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropStartX",t.target.value)}}})]),a("div",[e._v("Crop start y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropStartY,expression:"$parent.exportConfigForm.cropStartY"}],domProps:{value:e.$parent.exportConfigForm.cropStartY},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropStartY",t.target.value)}}})]),a("div",[e._v("Crop end x: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropEndX,expression:"$parent.exportConfigForm.cropEndX"}],domProps:{value:e.$parent.exportConfigForm.cropEndX},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropEndX",t.target.value)}}})]),a("div",[e._v("Crop end y: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.exportConfigForm.cropEndY,expression:"$parent.exportConfigForm.cropEndY"}],domProps:{value:e.$parent.exportConfigForm.cropEndY},on:{input:function(t){t.target.composing||e.$set(e.$parent.exportConfigForm,"cropEndY",t.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$parent.exportCanvas()}}},[e._v("Export")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])},St=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Export")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],_t={name:"ModalExport",components:{},props:{},data:function(){return{}},methods:{}},Lt=_t,Ft=Object(w["a"])(Lt,Ct,St,!1,null,"b87925c8",null),Pt=Ft.exports,At=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},It=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalPasteImageFromClipboard",tabindex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[e._v("Paste image from clipboard")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("h3",[e._v("Press CTRL+V to paste image from clipboard")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])])])])}],$t={name:"ModalPasteImageFromClipboard",components:{},props:{},data:function(){return{}},methods:{}},Et=$t,Nt=Object(w["a"])(Et,At,It,!1,null,"0166b8d0",null),kt=Nt.exports,Dt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Vt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal fade",attrs:{id:"modalHelp",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Help")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),n("div",{staticClass:"modal-body"},[n("img",{staticClass:"logo",attrs:{alt:"DrawJS logo",src:a("6cfa")}}),n("br"),n("br"),n("p",[n("a",{attrs:{href:"https://www.youtube.com/channel/UC6MPzpvbIs1x2HtoM83fVcQ",target:"_blank"}},[e._v("Video tutorials")])]),n("p",[n("a",{attrs:{href:"https://danielbarral.itch.io/drawjs/community",target:"_blank"}},[e._v("Discussion board")])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")])])])])])}],Bt={name:"ModalHelp",components:{},props:{},data:function(){return{}},methods:{}},Rt=Bt,Mt=(a("4202"),Object(w["a"])(Rt,Dt,Vt,!1,null,"4860a043",null)),Tt=Mt.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M7 16c.55 0 1 .45 1 1 0 1.1-.9 2-2 2-.17 0-.33-.02-.5-.05.31-.55.5-1.21.5-1.95 0-.55.45-1 1-1M18.67 3c-.26 0-.51.1-.71.29L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41l-1.34-1.34c-.2-.2-.45-.29-.7-.29zM7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3z"}})])},Wt=[],Xt={name:"IconBrush",props:{color:{type:String,default:"#000000"}}},Yt=Xt,Ut=Object(w["a"])(Yt,Ot,Wt,!1,null,"ed10066c",null),Gt=Ut.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#00000000"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"8",stroke:"white","stroke-width":"3",fill:"#00000000"}})])},Ht=[],jt={name:"IconCircle",props:{color:{type:String,default:"#000000"}}},qt=jt,Jt=Object(w["a"])(qt,zt,Ht,!1,null,"245b1e52",null),Kt=Jt.exports,Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("rect",{attrs:{x:"3",y:"3",width:"12",height:"12","stroke-width":"2",stroke:"white",fill:"#00000000"}})])},Zt=[],ea={name:"IconRectangle",props:{color:{type:String,default:"#000000"}}},ta=ea,aa=Object(w["a"])(ta,Qt,Zt,!1,null,"668816fc",null),na=aa.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"black",width:"18px",height:"18px"}},[a("line",{attrs:{x1:"3",y1:"3",x2:"15",y2:"15",stroke:"white","stroke-width":"2"}})])},ia=[],la={name:"IconLine",props:{color:{type:String,default:"#000000"}}},sa=la,oa=Object(w["a"])(sa,ra,ia,!1,null,"7cbee4ac",null),ca=oa.exports,ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18px",height:"18px",fill:"#00000000"}},[a("ellipse",{attrs:{cx:"9",cy:"9",rx:"7",ry:"5",stroke:"white","stroke-width":"2",fill:"#00000000"}})])},pa=[],ma={name:"IconEllipse",props:{color:{type:String,default:"#000000"}}},da=ma,ha=Object(w["a"])(da,ua,pa,!1,null,"5fb03d42",null),fa=ha.exports,va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1px",height:"18px",fill:"#00000000"}})},ga=[],xa={name:"IconNone",props:{color:{type:String,default:"#000000"}}},ya=xa,ba=Object(w["a"])(ya,va,ga,!1,null,"ab28acae",null),wa=ba.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px",fill:"#000000"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}})])},Sa=[],_a={name:"IconDonate",props:{color:{type:String,default:"#000000"}}},La=_a,Fa=Object(w["a"])(La,Ca,Sa,!1,null,"23df20ea",null),Pa=Fa.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"black"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{fill:e.color,d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])},Ia=[],$a={name:"IconBack",props:{color:{type:String,default:"#000000"}}},Ea=$a,Na=Object(w["a"])(Ea,Aa,Ia,!1,null,"37a9ab3e",null),ka=Na.exports,Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticClass:"bi bi-eraser-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}})])},Va=[],Ba={name:"IconEraser",props:{color:{type:String,default:"#000000"}}},Ra=Ba,Ma=Object(w["a"])(Ra,Da,Va,!1,null,"77ef27be",null),Ta=Ma.exports,Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:e.color,d:"M21.143 9.667c-.733-1.392-1.914-3.05-3.617-4.753-2.977-2.978-5.478-3.914-6.785-3.914-.414 0-.708.094-.86.246l-1.361 1.36c-1.899-.236-3.42.106-4.294.983-.876.875-1.164 2.159-.792 3.523.492 1.806 2.305 4.049 5.905 5.375.038.323.157.638.405.885.588.588 1.535.586 2.121 0s.588-1.533.002-2.119c-.588-.587-1.537-.588-2.123-.001l-.17.256c-2.031-.765-3.395-1.828-4.232-2.9l3.879-3.875c.496 2.73 6.432 8.676 9.178 9.178l-7.115 7.107c-.234.153-2.798-.316-6.156-3.675-3.393-3.393-3.175-5.271-3.027-5.498l1.859-1.856c-.439-.359-.925-1.103-1.141-1.689l-2.134 2.131c-.445.446-.685 1.064-.685 1.82 0 1.634 1.121 3.915 3.713 6.506 2.764 2.764 5.58 4.243 7.432 4.243.648 0 1.18-.195 1.547-.562l8.086-8.078c.91.874-.778 3.538-.778 4.648 0 1.104.896 1.999 2 1.999 1.105 0 2-.896 2-2 0-3.184-1.425-6.81-2.857-9.34zm-16.209-5.371c.527-.53 1.471-.791 2.656-.761l-3.209 3.206c-.236-.978-.049-1.845.553-2.445zm9.292 4.079l-.03-.029c-1.292-1.292-3.803-4.356-3.096-5.063.715-.715 3.488 1.521 5.062 3.096.862.862 2.088 2.247 2.937 3.458-1.717-1.074-3.491-1.469-4.873-1.462z"}})])},Wa=[],Xa={name:"IconBucketFill",props:{color:{type:String,default:"#000000"}}},Ya=Xa,Ua=Object(w["a"])(Ya,Oa,Wa,!1,null,"6b4b9f41",null),Ga=Ua.exports,za={name:"Main",components:{MainMenu:P,IconEdit:V,IconBrush:Gt,IconCircle:Kt,IconRectangle:na,IconLine:ca,IconEllipse:fa,IconNone:wa,IconExecute:Ze,IconDonate:Pa,IconBack:ka,IconEraser:Ta,IconBucketFill:Ga,ModalExport:Pt,ModalPasteImageFromClipboard:kt,ModalHelp:Tt,ContextPanel:G,LayersPanel:ce,EventsPanel:fe,ImagesPanel:Pe,FontsPanel:ke,GlobalVariablesPanel:Te,LogsPanel:Ge,ScriptWithParamsPanel:ct,ConfigureScriptPanel:wt},methods:{loadFont:function(){this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var e=this.fontPanelForm.fontURL,t="url(".concat(e,")"),a=new FontFace(this.fontPanelForm.fontName,t),n=this;a.load().then((function(e){document.fonts.add(e);var t={name:e.family,font:e};n.fonts.push(t)}))},onFontUpload:function(e){var t=e.target.files[0],a=URL.createObjectURL(t),n="url(".concat(a,")");this.fontPanelForm.fontName||(this.fontPanelForm.fontName="font01");var r=new FontFace(this.fontPanelForm.fontName,n),i=this;r.load().then((function(e){document.fonts.add(e);var t={name:e.family,font:e};i.fonts.push(t)}))},setCurrentTool:function(e){this.currentTool=e,"pencil"==e?(window.ctx.lineWidth=3,window.ctx.filter="none"):"brush"==e&&(window.ctx.lineWidth=20,window.ctx.filter="blur(3px)"),this.updateCurrentContextDetails()},onCanvasMouseUp:function(e){this.isMouseDown=!1;var t=!1;"line"==this.currentTool?(this.drawLine(),t=!0):"rectangle"==this.currentTool?(this.drawRect(),t=!0):"circle"==this.currentTool?(this.drawCircle(),t=!0):"ellipse"==this.currentTool&&(this.drawEllipse(),t=!0);for(var a=0;a<this.customEvents.length;a++){var n=this.customEvents[a];"mouseUp"==n.type&&n.enabled&&(n.func(),t=!0)}t&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseDown:function(e){this.isMouseDown=!0,this.updateMouseDownPosition(e);var t=!1;if("pencil"==this.currentTool||"brush"==this.currentTool)this.paintBrush(),t=!0;else if("bucketFill"==this.currentTool){var a=null;if(window.ctx.fillStyle.startsWith("#"))a=h.hexToRgb(window.ctx.fillStyle),a.a=255;else if(window.ctx.fillStyle.startsWith("rgba")){var n=window.ctx.fillStyle.substring(5);n=n.substring(0,n.length-1);var r=n.split(",");a={r:Number(r[0]),g:Number(r[1]),b:Number(r[2]),a:255*Number(r[3])}}null!=a&&h.floodFill(window.ctx,a,this.mousePosition.x,this.mousePosition.y)}for(var i=0;i<this.customEvents.length;i++){var l=this.customEvents[i];"mouseDown"==l.type&&l.enabled&&(l.func(),t=!0)}t&&(this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas())},onCanvasMouseMove:function(e){this.updateMousePosition(e),this.isMouseDown&&("pencil"==this.currentTool||"brush"==this.currentTool?this.paintBrush():"eraser"==this.currentTool&&(window.ctx.save(),window.ctx.globalCompositeOperation="destination-out",window.ctx.lineWidth=20,window.ctx.filter="blur(3px)",this.paintBrush(),window.ctx.restore()));for(var t=0;t<this.customEvents.length;t++){var a=this.customEvents[t];"mouseMove"==a.type&&a.enabled&&a.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas()},drawLine:function(){var e=window.ctx;e.beginPath(),e.moveTo(this.mouseDownPosition.x,this.mouseDownPosition.y),e.lineTo(this.mousePosition.x,this.mousePosition.y),e.stroke()},drawRect:function(){var e=window.ctx;e.beginPath(),e.rect(this.mouseDownPosition.x,this.mouseDownPosition.y,this.mousePosition.x-this.mouseDownPosition.x,this.mousePosition.y-this.mouseDownPosition.y),e.stroke()},drawCircle:function(){var e=(this.mousePosition.x+this.mouseDownPosition.x)/2,t=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x),n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y),r=Math.min(a,n)/2,i=window.ctx;i.beginPath(),i.arc(e,t,r,0,2*Math.PI),i.stroke()},drawEllipse:function(){var e=(this.mousePosition.x+this.mouseDownPosition.x)/2,t=(this.mousePosition.y+this.mouseDownPosition.y)/2,a=Math.abs(this.mousePosition.x-this.mouseDownPosition.x)/2,n=Math.abs(this.mousePosition.y-this.mouseDownPosition.y)/2,r=0,i=0,l=2*Math.PI,s=!1,o=window.ctx;o.beginPath(),o.ellipse(e,t,a,n,r,i,l,s),o.stroke()},paintBrush:function(){ctx.save(),ctx.beginPath(),ctx.lineCap="round",ctx.moveTo(this.previousMousePosition.x,this.previousMousePosition.y),ctx.lineTo(this.mousePosition.x,this.mousePosition.y),ctx.stroke(),ctx.restore()},updateMousePosition:function(e){var t=null;"canvasAllLayers"==e.target.id?t=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==e.target.id&&(t=document.getElementById("canvasCurrentLayer")),this.previousMousePosition.x=this.mousePosition.x,this.previousMousePosition.y=this.mousePosition.y,this.mousePosition.x=e.clientX-t.offsetLeft,this.mousePosition.y=e.clientY-t.offsetTop},updateMouseDownPosition:function(e){var t=null;"canvasAllLayers"==e.target.id?t=document.getElementById("canvasAllLayers"):"canvasCurrentLayer"==e.target.id&&(t=document.getElementById("canvasCurrentLayer")),this.mouseDownPosition.x=e.clientX-t.offsetLeft,this.mouseDownPosition.y=e.clientY-t.offsetTop},editGlobalVariable:function(e){var t=prompt("New value",""),a=prompt("New type","number");"number"==a&&(t=Number(t)),this.globalVariables[e]=t,this.$forceUpdate()},deleteGlobalVariable:function(e){delete this.globalVariables[e],this.$forceUpdate()},popupAddGlobalVariable:function(){var e=prompt("Variable name",""),t=prompt("Type","number"),a=prompt("Value","");"number"==t&&(a=Number(a)),this.addGlobalVariable(e,a),this.$forceUpdate()},addGlobalVariable:function(e,t){this.globalVariables[e]=t},combineLayers:function(e,t){for(var a=this.getLayerByName(e),n=a.canvas.getContext("2d"),r=n.getImageData(0,0,this.canvasWidth,this.canvasHeight),i=this.getLayerByName(t),l=i.canvas.getContext("2d"),s=l.getImageData(0,0,this.canvasWidth,this.canvasHeight),o=0;o<r.data.length;o+=4)r.data[o+3]=r.data[o+3]*(s.data[o+3]/255);n.putImageData(r,0,0)},updateCanvasAllLayers:function(){var e=document.getElementById("canvasAllLayers").getContext("2d");e.save(),e.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawTiledBackground(e),this.drawAllLayers(e),e.restore()},updateCurrentLayerCanvas:function(){if(null!=this.currentLayer){var e=document.getElementById("canvasCurrentLayer").getContext("2d");this.drawTiledBackground(e),e.save(),e.globalAlpha=this.currentLayer.alpha,e.drawImage(this.currentLayer.canvas,0,0),e.restore()}},clearCurrentLayer:function(){ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},clearFilters:function(){ctx.filter="none",this.updateCurrentContextDetails()},saveContext:function(){ctx.save()},restoreContext:function(){ctx.restore(),this.updateCurrentContextDetails()},clip:function(){ctx.clip()},resetTransform:function(){ctx.setTransform(1,0,0,1,0,0),this.updateCurrentContextDetails()},resetContextAttribute:function(e){var t=window.ctx;"fillStyle"==e?t.fillStyle="#000000":"strokeStyle"==e?t.strokeStyle="#000000":"font"==e?t.font="10px sans-serif":"globalAlpha"==e?t.globalAlpha="1":"lineWidth"==e?t.lineWidth="1":"lineCap"==e?t.lineCap="butt":"lineJoin"==e?t.lineJoin="miter":"filter"==e?t.filter="none":"shadowBlur"==e?t.shadowBlur="0":"shadowColor"==e?t.shadowColor="rgba(0, 0, 0, 0)":"shadowOffsetX"==e?t.shadowOffsetX="0":"shadowOffsetY"==e?t.shadowOffsetY="0":"lineDashOffset"==e?t.lineDashOffset=0:"textAlign"==e?t.textAlign="start":"miterLimit"==e?t.miterLimit=10:"textBaseline"==e?t.textBaseline="alphabetic":"globalCompositeOperation"==e?t.globalCompositeOperation="source-over":"lineDash"==e&&t.setLineDash([]),this.updateCurrentContextDetails()},buildBackgroundCanvas:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");t.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var a=!0,n=!0,r=10,i=0;i<this.canvasWidth;i+=r){n=a;for(var l=0;l<this.canvasHeight;l+=r)t.fillStyle=n?"#cccccc":"#eeeeee",t.fillRect(i,l,r,r),n=!n;a=!a}return e},addLayerWithName:function(e){var t=document.createElement("canvas");t.width=this.canvasWidth,t.height=this.canvasHeight,t.getContext("2d").clearRect(0,0,this.canvasWidth,this.canvasHeight);var a={name:e,alpha:1,canvas:t,visible:!0};this.canvasLayers.push(a)},duplicateCurrentLayer:function(){this.duplicateLayer(this.currentLayer)},duplicateLayer:function(e,t){null==t&&(t=prompt("New layer name","")),"string"==typeof e&&(e=this.getLayerByName(e));var a=document.createElement("canvas");a.width=this.canvasWidth,a.height=this.canvasHeight;var n=a.getContext("2d");n.drawImage(e.canvas,0,0);var r={name:t,alpha:e.alpha,canvas:a,visible:e.visible};this.canvasLayers.push(r)},deleteCurrentLayer:function(){this.deleteLayer(this.currentLayer)},deleteLayerByName:function(e){this.deleteLayer(this.getLayerByName(e))},deleteLayer:function(e){var t=this.getLayerIndex(e);this.canvasLayers.splice(t,1),e==this.currentLayer&&this.canvasLayers.length>0&&this.setCurrentLayer(this.canvasLayers[0].name),this.updateCanvasAllLayers()},deleteCustomEvent:function(e){var t=this.getCustomEventIndex(e);this.customEvents.splice(t,1)},renderLayerToContext:function(e,t){t.save(),t.globalAlpha=e.alpha,t.drawImage(e.canvas,0,0),t.restore()},setCurrentLayer:function(e){var t=this.getLayerByName(e);null!=t&&(this.currentLayer=t,window.ctx=t.canvas.getContext("2d"),this.updateCurrentContextDetails()),this.updateCurrentLayerCanvas()},getImageByName:function(e){for(var t=0;t<this.images.length;t++){var a=this.images[t];if(a.name==e)return a}return null},getLayerByName:function(e){for(var t=0;t<this.canvasLayers.length;t++){var a=this.canvasLayers[t];if(a.name==e)return a}return null},getCurrentLayerIndex:function(){for(var e=0;e<this.canvasLayers.length;e++){var t=this.canvasLayers[e];if(t==this.currentLayer)return e}return null},getLayerIndex:function(e){for(var t=0;t<this.canvasLayers.length;t++){var a=this.canvasLayers[t];if(a==e)return t}return null},getCustomEventIndex:function(e){for(var t=0;t<this.customEvents.length;t++){var a=this.customEvents[t];if(a.name==e.name)return t}return null},getCurrentLayer:function(){return this.currentLayer},getCurrentCanvas:function(){return this.getCurrentLayer().canvas},getCurrentContext:function(){return this.getCurrentCanvas().getContext("2d")},updateCurrentContextDetails:function(){var e=null;null!=this.currentLayer&&(e=this.currentLayer.canvas,this.ctx.fillStyle=e.getContext("2d").fillStyle,this.ctx.strokeStyle=e.getContext("2d").strokeStyle,this.ctx.lineWidth=e.getContext("2d").lineWidth,this.ctx.lineCap=e.getContext("2d").lineCap,this.ctx.lineJoin=e.getContext("2d").lineJoin,this.ctx.miterLimit=e.getContext("2d").miterLimit,this.ctx.font=e.getContext("2d").font,this.ctx.textAlign=e.getContext("2d").textAlign,this.ctx.globalAlpha=e.getContext("2d").globalAlpha,this.ctx.globalCompositeOperation=e.getContext("2d").globalCompositeOperation,this.ctx.transform=e.getContext("2d").getTransform(),this.ctx.lineDash=e.getContext("2d").getLineDash(),this.ctx.filter=e.getContext("2d").filter,this.ctx.shadowBlur=e.getContext("2d").shadowBlur,this.ctx.shadowColor=e.getContext("2d").shadowColor,this.ctx.shadowOffsetX=e.getContext("2d").shadowOffsetX,this.ctx.shadowOffsetY=e.getContext("2d").shadowOffsetY,this.ctx.lineDashOffset=e.getContext("2d").lineDashOffset,this.ctx.textBaseline=e.getContext("2d").textBaseline)},configScript:function(e){for(var t=0;t<this.savedScripts.length;t++)if(this.savedScripts[t].name==e){var a=this.savedScripts[t];this.$refs.configureScriptPanel.setCurrentScript(a),this.visiblePanels["configureScript"]=!0}},executeSavedScript:function(e,t){for(var a=0;a<this.savedScripts.length;a++)if(this.savedScripts[a].name==e){null==t&&(t={});var n=this.savedScripts[a].func(t);return this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),n}},executeEditedSampleScript:function(){var e=this.editedSampleScript,t=new Function("params",e),a={};t(a),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScript:function(e,t){for(var a=0;a<this.allSampleScripts.length;a++)this.allSampleScripts[a].name==e&&(null==t&&(t={}),this.allSampleScripts[a].func(t));this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},executeSampleScriptWithParams:function(){this.clearLayerBeforeExecutingScriptWithParams&&this.clearCurrentLayer();var e={};if(null!=this.selectedSampleScriptWithParams.params)for(var t=0;t<this.selectedSampleScriptWithParams.params.length;t++){var a=this.selectedSampleScriptWithParams.params[t];null==a.value?e[a.name]=a.defaultValue:"number"==a.type?e[a.name]=Number(a.value):e[a.name]=a.value}this.selectedSampleScriptWithParams.func(e),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},onSampleScriptParamChange:function(){this.executeScriptsWithParamsOnChange&&this.executeSampleScriptWithParams()},deleteSavedScript:function(e){for(var t=0;t<this.savedScripts.length;t++)this.savedScripts[t].name==e&&this.savedScripts.splice(t,1)},loadSavedScript:function(e){for(var t=0;t<this.savedScripts.length;t++)if(this.savedScripts[t].name==e)return document.getElementById("sourceCode").value=this.savedScripts[t].source,this.currentScriptName=e,this.currentScript=this.savedScripts[t],void(this.currentScriptType="SAVED_SCRIPT")},loadSampleScript:function(e){for(var t=0;t<this.allSampleScripts.length;t++)this.allSampleScripts[t].name==e&&(this.currentScriptName=this.allSampleScripts[t].name,this.currentScript=this.allSampleScripts[t],this.currentScriptType="SAMPLE_SCRIPT",document.getElementById("sourceCode").value=this.allSampleScripts[t].source)},selectSampleScript:function(e){for(var t=0;t<this.sampleScripts.length;t++)this.sampleScripts[t].name==e&&(this.selectedSampleScript=this.sampleScripts[t],this.editedSampleScript=this.selectedSampleScript.source)},selectSampleScriptWithParams:function(e){for(var t=0;t<this.allSampleScripts.length;t++)if(this.allSampleScripts[t].name==e&&(this.selectedSampleScriptWithParams=this.allSampleScripts[t],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},selectSavedScriptWithParams:function(e){for(var t=0;t<this.savedScripts.length;t++)if(this.savedScripts[t].name==e&&(this.selectedSampleScriptWithParams=this.savedScripts[t],null!=this.selectedSampleScriptWithParams.params))for(var a=0;a<this.selectedSampleScriptWithParams.params.length;a++){var n=this.selectedSampleScriptWithParams.params[a];n.value=n.defaultValue}this.visiblePanels["scriptWithParams"]=!0,this.clearLayerBeforeExecutingScriptWithParams=!1,this.executeScriptsWithParamsOnChange=!1},unselectSampleScript:function(){this.selectedSampleScript=null},unselectSampleScriptWithParams:function(){this.selectedSampleScriptWithParams=null},copySampleSourceCode:function(){var e=document.createRange();e.selectNode(document.getElementById("selectedSampleScriptSourceCode")),window.getSelection().removeAllRanges(),window.getSelection().addRange(e),document.execCommand("copy"),window.getSelection().removeAllRanges()},executeScript:function(){var e=document.getElementById("sourceCode").value;this.dinamicFunction=new Function("params",e);var t={};this.dinamicFunction(t),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers(),this.updateCurrentContextDetails()},createNewScript:function(){var e=prompt("Script name",""),t="",a={name:e,func:new Function("params",t),source:t,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a)},saveSampleScriptAs:function(){var e=this.newScriptName,t=this.editedSampleScript,a={name:e,func:new Function("params",t),source:t,type:"SAVED_SCRIPT",params:[]};this.savedScripts.push(a),window.$("#modalSaveSampleScriptAs").modal("hide")},newScript:function(){this.currentScriptName=null,this.currentScript=null,this.currentScriptType=null,document.getElementById("sourceCode").value=""},saveScriptAs:function(){this.currentScriptName=prompt("Script name","");var e=document.getElementById("sourceCode").value;this.currentScript={name:this.currentScriptName,func:new Function("params",e),source:e,type:"SAVED_SCRIPT",params:[]},this.currentScriptType="SAVED_SCRIPT",this.savedScripts.push(this.currentScript)},saveScript:function(){if(null!=this.currentScriptName&&""!=this.currentScriptName&&null!=this.currentScript&&"SAMPLE_SCRIPT"!=this.currentScriptType){var e=document.getElementById("sourceCode").value;this.currentScript.source=e,this.currentScript.func=new Function("params",e)}else this.saveScriptAs()},moveLayerUp:function(){var e=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,e,e-1),this.updateCanvasAllLayers()},moveLayerDown:function(){var e=this.getCurrentLayerIndex();this.arrayMove(this.canvasLayers,e,e+1),this.updateCanvasAllLayers()},arrayMove:function(e,t,a){var n=e[t];e.splice(t,1),e.splice(a,0,n)},saveScriptsToLocalStorage:function(){localStorage.savedScripts=JSON.stringify(this.savedScripts)},loadScriptsFromLocalStorage:function(){this.savedScripts=JSON.parse(localStorage.savedScripts);for(var e=0;e<this.savedScripts.length;e++){var t=this.savedScripts[e];t.func=new Function("params",t.source)}},filterSampleScripts:function(){this.sampleScripts=p(this.sampleScriptsFilter.type,this.sampleScriptsFilter.text),this.numFilteredSampleScripts=this.sampleScripts.length},clearSearch:function(){this.sampleScriptsFilter.type="",this.sampleScriptsFilter.text="",this.filterSampleScripts(),this.numFilteredSampleScripts=this.sampleScripts.length},resetContext:function(){ctx.fillStyle="#000000",ctx.strokeStyle="#000000",ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.font="10px sans-serif",ctx.textAlign="start",ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.filter="none",ctx.shadowBlur=0,ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineDashOffset=0,ctx.textBaseline="alphabetic",ctx.setTransform(1,0,0,1,0,0),ctx.setLineDash([]),this.updateCurrentContextDetails()},fillScreenWhite:function(){this.executeSampleScript("Fill screen white")},fillScreenBlack:function(){this.executeSampleScript("Fill screen black")},repaintCurrentLayer:function(){this.executeSampleScript("Repaint")},togglePanelVisibility:function(e){this.visiblePanels[e]=!this.visiblePanels[e]},log:function(e){this.logs.push(e)},clearLogs:function(){this.logs=[]},drawImageToCurrentLayer:function(e){var t=new Image;t.src=e,ctx.drawImage(t,0,0),this.updateCurrentLayerCanvas(),this.updateCanvasAllLayers()},exportCanvas:function(){"FULL_CANVAS"==this.exportConfigForm.type?this.exportCanvasAllLayers():"CROP"==this.exportConfigForm.type?this.exportCanvasAllLayersCropped():"CROP_AT"==this.exportConfigForm.type&&this.exportCanvasAllLayersCroppedAt()},exportCanvasAllLayers:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");this.drawAllLayers(t);var a=e.toDataURL("image/png");window.open(a)},exportCanvasAllLayersCropped:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");this.drawAllLayers(t);var a=h.crop(e),n=a.toDataURL("image/png");window.open(n)},exportCanvasAllLayersCroppedAt:function(){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var t=e.getContext("2d");this.drawAllLayers(t);var a=h.cropAt(e,this.exportConfigForm.cropStartX,this.exportConfigForm.cropStartY,this.exportConfigForm.cropEndX,this.exportConfigForm.cropEndY),n=a.toDataURL("image/png");window.open(n)},drawAllLayers:function(e){for(var t=this.canvasLayers.length-1;t>=0;t--){var a=this.canvasLayers[t];a.visible&&(e.save(),e.globalAlpha=a.alpha,e.drawImage(a.canvas,0,0),e.restore())}},drawTiledBackground:function(e){e.save(),e.globalAlpha=1,e.drawImage(this.backgroundCanvas,0,0),e.restore()},loop:function(){for(var e=0;e<this.customEvents.length;e++){var t=this.customEvents[e];"animationFrame"==t.type&&t.enabled&&t.func()}this.updateCanvasAllLayers(),this.updateCurrentLayerCanvas(),window.requestAnimationFrame(this.loop)},showExportModal:function(){window.$("#modalExport").modal("show")},showModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("show")},closeModalPasteImageFromClipboard:function(){window.$("#modalPasteImageFromClipboard").modal("hide")},showModalHelp:function(){window.$("#modalHelp").modal("show")},showModalSaveSampleScriptAs:function(){this.newScriptName="",window.$("#modalSaveSampleScriptAs").modal("show")},pasteClipboardImage:function(e){h.pasteClipboardImage(e),this.closeModalPasteImageFromClipboard()}},data:function(){return{canvasWidth:600,canvasHeight:400,currentScriptName:null,currentScript:null,currentScriptType:null,newScriptName:"",dinamicFunction:new Function("params",""),savedScripts:[],sampleScripts:[],allSampleScripts:[],numSampleScripts:null,numFilteredSampleScripts:null,selectedSampleScript:null,selectedSampleScriptWithParams:null,editedSampleScript:"",canvasLayers:[],backgroundCanvas:null,globalVariables:{},viewType:"MAIN_CANVAS",currentLayer:null,ctx:{fillStyle:null,strokeStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,font:null,textAlign:null,globalAlpha:null,globalCompositeOperation:null,transform:null},sampleScriptsFilter:{type:"",text:""},sampleScriptTypes:[],images:[],fonts:[],visiblePanels:{layers:!0,context:!1,images:!1,globalVariables:!1,fonts:!1,logs:!1,events:!1,scriptWithParams:!0,configureScript:!1},logs:[],mousePosition:{x:0,y:0},previousMousePosition:{x:0,y:0},mouseDownPosition:{x:0,y:0},isMouseDown:!1,currentTool:"pencil",customEvents:[],fontPanelForm:{fontName:"",fontURL:""},exportConfigForm:{type:"FULL_CANVAS",cropStartX:0,cropStartY:0,cropEndX:this.canvasWidth,cropEndY:this.canvasHeight},clearLayerBeforeExecutingScriptWithParams:!1,executeScriptsWithParamsOnChange:!1}},mounted:function(){window.app=this,window.$util=h,this.allSampleScripts=p(),this.sampleScripts=p(),this.sampleScriptTypes=m(),this.numSampleScripts=this.allSampleScripts.length,this.numFilteredSampleScripts=this.allSampleScripts.length,this.backgroundCanvas=this.buildBackgroundCanvas();var e="layer01";this.addLayerWithName(e),this.setCurrentLayer(e),this.updateCanvasAllLayers(),this.updateCurrentContextDetails(),document.getElementById("canvasAllLayers").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasAllLayers").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasAllLayers").addEventListener("mousedown",this.onCanvasMouseDown),document.getElementById("canvasCurrentLayer").addEventListener("mousemove",this.onCanvasMouseMove),document.getElementById("canvasCurrentLayer").addEventListener("mouseup",this.onCanvasMouseUp),document.getElementById("canvasCurrentLayer").addEventListener("mousedown",this.onCanvasMouseDown),window.requestAnimationFrame(this.loop),document.addEventListener("paste",this.pasteClipboardImage,!1)}},Ha=za,ja=(a("22de"),Object(w["a"])(Ha,n,r,!1,null,null,null));t["default"]=ja.exports},d784:function(e,t,a){"use strict";a("ac1f");var n=a("6eeb"),r=a("d039"),i=a("b622"),l=a("9112"),s=i("species"),o=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),m=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,u){var d=i(e),h=!r((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=h&&!r((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[s]=function(){return a},a.flags="",a[d]=/./[d]),a.exec=function(){return t=!0,null},a[d](""),!t}));if(!h||!f||"replace"===e&&(!o||!c||p)||"split"===e&&!m){var v=/./[d],g=a(d,""[e],(function(e,t,a,n,r){return t.exec===RegExp.prototype.exec?h&&!r?{done:!0,value:v.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=g[0],y=g[1];n(String.prototype,e,x),n(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}u&&l(RegExp.prototype[d],"sham",!0)}},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),l=i("map");n({target:"Array",proto:!0,forced:!l},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},f183:function(e,t,a){var n=a("d012"),r=a("861d"),i=a("5135"),l=a("9bf2").f,s=a("90e3"),o=a("bb2f"),c=s("meta"),u=0,p=Object.isExtensible||function(){return!0},m=function(e){l(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},d=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,c)){if(!p(e))return"F";if(!t)return"E";m(e)}return e[c].objectID},h=function(e,t){if(!i(e,c)){if(!p(e))return!0;if(!t)return!1;m(e)}return e[c].weakData},f=function(e){return o&&v.REQUIRED&&p(e)&&!i(e,c)&&m(e),e},v=e.exports={REQUIRED:!1,fastKey:d,getWeakData:h,onFreeze:f};n[c]=!0}}]);